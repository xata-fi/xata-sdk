{"version":3,"file":"sdk.cjs.production.min.js","sources":["../src/enums/Exchanger.ts","../src/enums/Liquidity.ts","../src/enums/ChainId.ts","../src/enums/Rounding.ts","../src/enums/TradeType.ts","../src/enums/KashiAction.ts","../src/enums/Fee.ts","../src/enums/OrderStatus.ts","../src/enums/Environment.ts","../src/constants/addresses.ts","../src/constants/kashi.ts","../src/entities/AbstractCurrency.ts","../src/entities/NativeCurrency.ts","../src/functions/validateAndParseAddress.ts","../src/entities/Token.ts","../src/constants/tokens.ts","../src/entities/Native/Avalanche.ts","../src/entities/Native/Binance.ts","../src/entities/Native/Celo.ts","../src/entities/Native/Ether.ts","../src/entities/Native/Fantom.ts","../src/entities/Native/Harmony.ts","../src/entities/Native/Heco.ts","../src/entities/Native/Matic.ts","../src/entities/Native/Okex.ts","../src/entities/Native/xDai.ts","../src/entities/Native/Palm.ts","../src/constants/index.ts","../src/constants/natives.ts","../src/constants/numbers.ts","../src/errors.ts","../src/entities/Fraction.ts","../src/entities/CurrencyAmount.ts","../src/entities/Price.ts","../src/functions/computePairAddress.ts","../src/functions/determiner.ts","../src/functions/sqrt.ts","../src/entities/Pair.ts","../src/entities/Percent.ts","../src/entities/Route.ts","../src/functions/computePriceImpact.ts","../src/functions/sortedInsert.ts","../src/entities/Trade.ts","../src/types/MultiRouterTypes.ts","../node_modules/regenerator-runtime/runtime.js","../src/types/LimitOrderTypes.ts","../src/entities/eip712.ts","../src/router.ts","../src/utils/MultiRouterMath.ts","../src/limitorder.ts","../src/fetcher.ts","../src/xata-api/lib/functionEncoder.ts","../src/xata-api/lib/eip712.ts","../src/xata-api/lib/constants.ts","../src/xata-api/lib/fee.ts","../src/xata-api/lib/relayer.ts","../src/xata-api/xata.ts","../src/functions/validateSolidityTypeInstance.ts"],"sourcesContent":["export enum Exchanger {\n  SUSHI,\n  CONVEYOR\n}","export enum TokenType {\n  UNISWAP,\n  CONVEYOR\n}\n","export enum ChainId {\n  MAINNET = 1,\n  ROPSTEN = 3,\n  RINKEBY = 4,\n  GÖRLI = 5,\n  KOVAN = 42,\n  MATIC = 137,\n  MATIC_TESTNET = 80001,\n  FANTOM = 250,\n  FANTOM_TESTNET = 4002,\n  XDAI = 100,\n  BSC = 56,\n  BSC_TESTNET = 97,\n  ARBITRUM = 42161,\n  ARBITRUM_TESTNET = 79377087078960,\n  MOONBEAM_TESTNET = 1287,\n  AVALANCHE = 43114,\n  AVALANCHE_TESTNET = 43113,\n  HECO = 128,\n  HECO_TESTNET = 256,\n  HARMONY = 1666600000,\n  HARMONY_TESTNET = 1666700000,\n  OKEX = 66,\n  OKEX_TESTNET = 65,\n  CELO = 42220,\n  PALM = 11297108109,\n  PALM_TESTNET = 11297108099\n}\n","export enum Rounding {\n  ROUND_DOWN,\n  ROUND_HALF_UP,\n  ROUND_UP\n}\n","export enum TradeType {\n  EXACT_INPUT,\n  EXACT_OUTPUT\n}\n","export enum KashiAction {\n  ADD_ASSET = 1,\n  REPAY = 2,\n  REMOVE_ASSET = 3,\n  REMOVE_COLLATERAL = 4,\n  BORROW = 5,\n  GET_REPAY_SHARE = 6,\n  GET_REPAY_PART = 7,\n  ACCRUE = 8,\n\n  // Functions that don't need accrue to be called\n  ADD_COLLATERAL = 10,\n  UPDATE_EXCHANGE_RATE = 11,\n\n  // Function on BentoBox\n  BENTO_DEPOSIT = 20,\n  BENTO_WITHDRAW = 21,\n  BENTO_TRANSFER = 22,\n  BENTO_TRANSFER_MULTIPLE = 23,\n  BENTO_SETAPPROVAL = 24,\n\n  // Any external call (except to BentoBox)\n  CALL = 30\n}\n","// Fee - Tiers TBD\nexport enum Fee {\n  DEFAULT = 30\n}\n","export enum OrderStatus {\n  FILLED = 'FILLED',\n  CANCELLED = 'CANCELLED',\n  EXPIRED = 'EXPIRED',\n  PENDING = 'PENDING'\n}\n","export enum Environment {\n  PRODUCTION,\n  STAGING\n}\n","import { AddressMap } from '../types'\nimport { ChainId, Environment } from '../enums'\n\nexport const USDC_ADDRESS: AddressMap = {\n  [ChainId.MAINNET]: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48',\n  [ChainId.ROPSTEN]: '0x0D9C8723B343A8368BebE0B5E89273fF8D712e3C',\n  [ChainId.KOVAN]: '0xb7a4F3E9097C08dA09517b5aB877F7a917224ede',\n  [ChainId.MATIC]: '0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174',\n  [ChainId.FANTOM]: '0x04068DA6C83AFCFA0e13ba15A6696662335D5B75',\n  [ChainId.BSC]: '0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d',\n  [ChainId.HARMONY]: '0x985458E523dB3d53125813eD68c274899e9DfAb4',\n  [ChainId.HECO]: '0x9362Bbef4B8313A8Aa9f0c9808B80577Aa26B73B',\n  [ChainId.OKEX]: '0xc946DAf81b08146B1C7A8Da2A851Ddf2B3EAaf85',\n  [ChainId.XDAI]: '0xDDAfbb505ad214D7b80b1f830fcCc89B60fb7A83'\n}\n\nexport const FACTORY_ADDRESS: { [env in Environment]: AddressMap } = {\n  [Environment.PRODUCTION]: {\n    [ChainId.MAINNET]: '0x5f8017621825BC10D63d15C3e863f893946781F7',\n    [ChainId.RINKEBY]: '',\n    [ChainId.ROPSTEN]: '',\n    [ChainId.GÖRLI]: '',\n    [ChainId.KOVAN]: '',\n    [ChainId.FANTOM]: '',\n    [ChainId.FANTOM_TESTNET]: '',\n    [ChainId.MATIC]: '0x5f8017621825BC10D63d15C3e863f893946781F7',\n    [ChainId.MATIC_TESTNET]: '',\n    [ChainId.XDAI]: '',\n    [ChainId.BSC]: '0x5f8017621825BC10D63d15C3e863f893946781F7',\n    [ChainId.BSC_TESTNET]: '',\n    [ChainId.ARBITRUM]: '',\n    [ChainId.ARBITRUM_TESTNET]: '',\n    [ChainId.MOONBEAM_TESTNET]: '',\n    [ChainId.AVALANCHE]: '',\n    [ChainId.AVALANCHE_TESTNET]: '',\n    [ChainId.HECO]: '',\n    [ChainId.HECO_TESTNET]: '',\n    [ChainId.HARMONY]: '',\n    [ChainId.HARMONY_TESTNET]: '',\n    [ChainId.OKEX]: '',\n    [ChainId.OKEX_TESTNET]: '',\n    [ChainId.CELO]: '',\n    [ChainId.PALM]: '',\n    [ChainId.PALM_TESTNET]: ''\n  },\n  [Environment.STAGING]: {\n    [ChainId.MAINNET]: '0x5f8017621825BC10D63d15C3e863f893946781F7',\n    [ChainId.RINKEBY]: '',\n    [ChainId.ROPSTEN]: '',\n    [ChainId.GÖRLI]: '',\n    [ChainId.KOVAN]: '',\n    [ChainId.FANTOM]: '',\n    [ChainId.FANTOM_TESTNET]: '',\n    // TODO Update MATIC address when the contract has been deployed to mainnet\n    [ChainId.MATIC]: '0x5f8017621825BC10D63d15C3e863f893946781F7',\n    [ChainId.MATIC_TESTNET]: '',\n    [ChainId.XDAI]: '',\n    [ChainId.BSC]: '0x5f8017621825BC10D63d15C3e863f893946781F7',\n    [ChainId.BSC_TESTNET]: '',\n    [ChainId.ARBITRUM]: '',\n    [ChainId.ARBITRUM_TESTNET]: '',\n    [ChainId.MOONBEAM_TESTNET]: '',\n    [ChainId.AVALANCHE]: '',\n    [ChainId.AVALANCHE_TESTNET]: '',\n    [ChainId.HECO]: '',\n    [ChainId.HECO_TESTNET]: '',\n    [ChainId.HARMONY]: '',\n    [ChainId.HARMONY_TESTNET]: '',\n    [ChainId.OKEX]: '',\n    [ChainId.OKEX_TESTNET]: '',\n    [ChainId.CELO]: '',\n    [ChainId.PALM]: '',\n    [ChainId.PALM_TESTNET]: ''\n  }\n}\n\nexport const ROUTER_ADDRESS: { [env in Environment]: AddressMap} = {\n  [Environment.PRODUCTION]: {\n    [ChainId.MAINNET]: '0xe4C5Cf259351d7877039CBaE0e7f92EB2Ab017EB',\n    [ChainId.RINKEBY]: '',\n    [ChainId.ROPSTEN]: '',\n    [ChainId.GÖRLI]: '',\n    [ChainId.KOVAN]: '',\n    [ChainId.FANTOM]: '',\n    [ChainId.FANTOM_TESTNET]: '',\n    [ChainId.MATIC]: '0xe4C5Cf259351d7877039CBaE0e7f92EB2Ab017EB',\n    [ChainId.MATIC_TESTNET]: '',\n    [ChainId.XDAI]: '',\n    [ChainId.BSC]: '0xe4C5Cf259351d7877039CBaE0e7f92EB2Ab017EB',\n    [ChainId.BSC_TESTNET]: '',\n    [ChainId.ARBITRUM]: '',\n    [ChainId.ARBITRUM_TESTNET]: '',\n    [ChainId.MOONBEAM_TESTNET]: '',\n    [ChainId.AVALANCHE]: '',\n    [ChainId.AVALANCHE_TESTNET]: '',\n    [ChainId.HECO]: '',\n    [ChainId.HECO_TESTNET]: '',\n    [ChainId.HARMONY]: '',\n    [ChainId.HARMONY_TESTNET]: '',\n    [ChainId.OKEX]: '',\n    [ChainId.OKEX_TESTNET]: '',\n    [ChainId.CELO]: '',\n    [ChainId.PALM]: '',\n    [ChainId.PALM_TESTNET]: ''\n  },\n  [Environment.STAGING]: {\n    [ChainId.MAINNET]: '0xe4C5Cf259351d7877039CBaE0e7f92EB2Ab017EB',\n    [ChainId.RINKEBY]: '',\n    [ChainId.ROPSTEN]: '',\n    [ChainId.GÖRLI]: '',\n    [ChainId.KOVAN]: '',\n    [ChainId.FANTOM]: '',\n    [ChainId.FANTOM_TESTNET]: '',\n    // TODO Update MATIC address when the contract has been deployed to mainnet\n    [ChainId.MATIC]: '0xe4C5Cf259351d7877039CBaE0e7f92EB2Ab017EB',\n    [ChainId.MATIC_TESTNET]: '',\n    [ChainId.XDAI]: '',\n    [ChainId.BSC]: '0xe4C5Cf259351d7877039CBaE0e7f92EB2Ab017EB',\n    [ChainId.BSC_TESTNET]: '',\n    [ChainId.ARBITRUM]: '',\n    [ChainId.ARBITRUM_TESTNET]: '',\n    [ChainId.MOONBEAM_TESTNET]: '',\n    [ChainId.AVALANCHE]: '',\n    [ChainId.AVALANCHE_TESTNET]: '',\n    [ChainId.HECO]: '',\n    [ChainId.HECO_TESTNET]: '',\n    [ChainId.HARMONY]: '',\n    [ChainId.HARMONY_TESTNET]: '',\n    [ChainId.OKEX]: '',\n    [ChainId.OKEX_TESTNET]: '',\n    [ChainId.CELO]: '',\n    [ChainId.PALM]: '',\n    [ChainId.PALM_TESTNET]: ''\n  }\n}\n\nexport const SUSHI_ADDRESS: AddressMap = {\n  [ChainId.MAINNET]: '0x6B3595068778DD592e39A122f4f5a5cF09C90fE2',\n  [ChainId.ROPSTEN]: '0x0769fd68dFb93167989C6f7254cd0D766Fb2841F',\n  [ChainId.RINKEBY]: '0x0769fd68dFb93167989C6f7254cd0D766Fb2841F',\n  [ChainId.GÖRLI]: '0x0769fd68dFb93167989C6f7254cd0D766Fb2841F',\n  [ChainId.KOVAN]: '0x0769fd68dFb93167989C6f7254cd0D766Fb2841F',\n  [ChainId.FANTOM]: '0xae75A438b2E0cB8Bb01Ec1E1e376De11D44477CC',\n  [ChainId.FANTOM_TESTNET]: '',\n  [ChainId.MATIC]: '0x0b3F868E0BE5597D5DB7fEB59E1CADBb0fdDa50a',\n  [ChainId.MATIC_TESTNET]: '',\n  [ChainId.XDAI]: '0x2995D1317DcD4f0aB89f4AE60F3f020A4F17C7CE',\n  [ChainId.BSC]: '0x947950BcC74888a40Ffa2593C5798F11Fc9124C4',\n  [ChainId.BSC_TESTNET]: '',\n  [ChainId.ARBITRUM]: '',\n  [ChainId.ARBITRUM_TESTNET]: '',\n  [ChainId.MOONBEAM_TESTNET]: '',\n  [ChainId.AVALANCHE]: '0x39cf1BD5f15fb22eC3D9Ff86b0727aFc203427cc',\n  [ChainId.AVALANCHE_TESTNET]: '',\n  [ChainId.HECO]: '0x52E00B2dA5Bd7940fFe26B609A42F957f31118D5',\n  [ChainId.HECO_TESTNET]: '',\n  [ChainId.HARMONY]: '0xBEC775Cb42AbFa4288dE81F387a9b1A3c4Bc552A',\n  [ChainId.HARMONY_TESTNET]: '',\n  [ChainId.OKEX]: '0x2218E0D5E0173769F5b4939a3aE423f7e5E4EAB7',\n  [ChainId.OKEX_TESTNET]: '',\n  [ChainId.CELO]: '',\n  [ChainId.PALM]: '',\n  [ChainId.PALM_TESTNET]: ''\n}\n\nexport const MASTERCHEF_ADDRESS: AddressMap = {\n  [ChainId.MAINNET]: '0xc2EdaD668740f1aA35E4D8f227fB8E17dcA888Cd',\n  [ChainId.ROPSTEN]: '0x80C7DD17B01855a6D2347444a0FCC36136a314de',\n  [ChainId.RINKEBY]: '0x80C7DD17B01855a6D2347444a0FCC36136a314de',\n  [ChainId.GÖRLI]: '0x80C7DD17B01855a6D2347444a0FCC36136a314de',\n  [ChainId.KOVAN]: '0x80C7DD17B01855a6D2347444a0FCC36136a314de',\n  [ChainId.FANTOM]: '',\n  [ChainId.FANTOM_TESTNET]: '',\n  [ChainId.MATIC]: '',\n  [ChainId.MATIC_TESTNET]: '',\n  [ChainId.XDAI]: '',\n  [ChainId.BSC]: '',\n  [ChainId.BSC_TESTNET]: '',\n  [ChainId.ARBITRUM]: '',\n  [ChainId.ARBITRUM_TESTNET]: '',\n  [ChainId.MOONBEAM_TESTNET]: '',\n  [ChainId.AVALANCHE]: '',\n  [ChainId.AVALANCHE_TESTNET]: '',\n  [ChainId.HECO]: '',\n  [ChainId.HECO_TESTNET]: '',\n  [ChainId.HARMONY]: '',\n  [ChainId.HARMONY_TESTNET]: '',\n  [ChainId.OKEX]: '',\n  [ChainId.OKEX_TESTNET]: '',\n  [ChainId.CELO]: '',\n  [ChainId.PALM]: '',\n  [ChainId.PALM_TESTNET]: ''\n}\n\nexport const BAR_ADDRESS: AddressMap = {\n  [ChainId.MAINNET]: '0x8798249c2E607446EfB7Ad49eC89dD1865Ff4272',\n  [ChainId.ROPSTEN]: '0x1be211D8DA40BC0ae8719c6663307Bfc987b1d6c',\n  [ChainId.RINKEBY]: '0x1be211D8DA40BC0ae8719c6663307Bfc987b1d6c',\n  [ChainId.GÖRLI]: '0x1be211D8DA40BC0ae8719c6663307Bfc987b1d6c',\n  [ChainId.KOVAN]: '0x1be211D8DA40BC0ae8719c6663307Bfc987b1d6c',\n  [ChainId.FANTOM]: '',\n  [ChainId.FANTOM_TESTNET]: '',\n  [ChainId.MATIC]: '',\n  [ChainId.MATIC_TESTNET]: '',\n  [ChainId.XDAI]: '',\n  [ChainId.BSC]: '',\n  [ChainId.BSC_TESTNET]: '',\n  [ChainId.ARBITRUM]: '',\n  [ChainId.ARBITRUM_TESTNET]: '',\n  [ChainId.MOONBEAM_TESTNET]: '',\n  [ChainId.AVALANCHE]: '',\n  [ChainId.AVALANCHE_TESTNET]: '',\n  [ChainId.HECO]: '',\n  [ChainId.HECO_TESTNET]: '',\n  [ChainId.HARMONY]: '',\n  [ChainId.HARMONY_TESTNET]: '',\n  [ChainId.OKEX]: '',\n  [ChainId.OKEX_TESTNET]: '',\n  [ChainId.CELO]: '',\n  [ChainId.PALM]: '',\n  [ChainId.PALM_TESTNET]: ''\n}\n\nexport const MAKER_ADDRESS: AddressMap = {\n  [ChainId.MAINNET]: '0xE11fc0B43ab98Eb91e9836129d1ee7c3Bc95df50',\n  [ChainId.ROPSTEN]: '0x1b9d177CcdeA3c79B6c8F40761fc8Dc9d0500EAa',\n  [ChainId.RINKEBY]: '0x1b9d177CcdeA3c79B6c8F40761fc8Dc9d0500EAa',\n  [ChainId.GÖRLI]: '0x1b9d177CcdeA3c79B6c8F40761fc8Dc9d0500EAa',\n  [ChainId.KOVAN]: '0x1b9d177CcdeA3c79B6c8F40761fc8Dc9d0500EAa',\n  [ChainId.FANTOM]: '',\n  [ChainId.FANTOM_TESTNET]: '',\n  [ChainId.MATIC]: '',\n  [ChainId.MATIC_TESTNET]: '',\n  [ChainId.XDAI]: '',\n  [ChainId.BSC]: '',\n  [ChainId.BSC_TESTNET]: '',\n  [ChainId.ARBITRUM]: '',\n  [ChainId.ARBITRUM_TESTNET]: '',\n  [ChainId.MOONBEAM_TESTNET]: '',\n  [ChainId.AVALANCHE]: '',\n  [ChainId.AVALANCHE_TESTNET]: '',\n  [ChainId.HECO]: '',\n  [ChainId.HECO_TESTNET]: '',\n  [ChainId.HARMONY]: '',\n  [ChainId.HARMONY_TESTNET]: '',\n  [ChainId.OKEX]: '',\n  [ChainId.OKEX_TESTNET]: '',\n  [ChainId.CELO]: '',\n  [ChainId.PALM]: '',\n  [ChainId.PALM_TESTNET]: ''\n}\n\nexport const TIMELOCK_ADDRESS: AddressMap = {\n  [ChainId.MAINNET]: '0x9a8541Ddf3a932a9A922B607e9CF7301f1d47bD1',\n  [ChainId.ROPSTEN]: '',\n  [ChainId.RINKEBY]: '',\n  [ChainId.GÖRLI]: '',\n  [ChainId.KOVAN]: '',\n  [ChainId.FANTOM]: '',\n  [ChainId.FANTOM_TESTNET]: '',\n  [ChainId.MATIC]: '',\n  [ChainId.MATIC_TESTNET]: '',\n  [ChainId.XDAI]: '',\n  [ChainId.BSC]: '',\n  [ChainId.BSC_TESTNET]: '',\n  [ChainId.ARBITRUM]: '',\n  [ChainId.ARBITRUM_TESTNET]: '',\n  [ChainId.MOONBEAM_TESTNET]: '',\n  [ChainId.AVALANCHE]: '',\n  [ChainId.AVALANCHE_TESTNET]: '',\n  [ChainId.HECO]: '',\n  [ChainId.HECO_TESTNET]: '',\n  [ChainId.HARMONY]: '',\n  [ChainId.HARMONY_TESTNET]: '',\n  [ChainId.OKEX]: '',\n  [ChainId.OKEX_TESTNET]: '',\n  [ChainId.CELO]: '',\n  [ChainId.PALM]: '',\n  [ChainId.PALM_TESTNET]: ''\n}\n\nexport const BENTOBOX_ADDRESS: AddressMap = {\n  [ChainId.MAINNET]: '0xF5BCE5077908a1b7370B9ae04AdC565EBd643966',\n  [ChainId.ROPSTEN]: '0x6BdD85290001C8Aef74f35A7606065FA15aD5ACF',\n  [ChainId.RINKEBY]: '0xF5BCE5077908a1b7370B9ae04AdC565EBd643966',\n  [ChainId.GÖRLI]: '0xF5BCE5077908a1b7370B9ae04AdC565EBd643966',\n  [ChainId.KOVAN]: '0x9A0D9920D92c178a58D99B455898Df2df22A2eE4',\n  [ChainId.FANTOM]: '0xF5BCE5077908a1b7370B9ae04AdC565EBd643966',\n  [ChainId.FANTOM_TESTNET]: '',\n  [ChainId.MATIC]: '0x0319000133d3AdA02600f0875d2cf03D442C3367',\n  [ChainId.MATIC_TESTNET]: '0xF5BCE5077908a1b7370B9ae04AdC565EBd643966',\n  [ChainId.XDAI]: '0xE2d7F5dd869Fc7c126D21b13a9080e75a4bDb324',\n  [ChainId.BSC]: '0xF5BCE5077908a1b7370B9ae04AdC565EBd643966',\n  [ChainId.BSC_TESTNET]: '0xF5BCE5077908a1b7370B9ae04AdC565EBd643966',\n  [ChainId.ARBITRUM]: '',\n  [ChainId.ARBITRUM_TESTNET]: '',\n  [ChainId.MOONBEAM_TESTNET]: '',\n  [ChainId.AVALANCHE]: '',\n  [ChainId.AVALANCHE_TESTNET]: '',\n  [ChainId.HECO]: '0xF5BCE5077908a1b7370B9ae04AdC565EBd643966',\n  [ChainId.HECO_TESTNET]: '',\n  [ChainId.HARMONY]: '',\n  [ChainId.HARMONY_TESTNET]: '',\n  [ChainId.OKEX]: '',\n  [ChainId.OKEX_TESTNET]: '',\n  [ChainId.CELO]: '',\n  [ChainId.PALM]: '',\n  [ChainId.PALM_TESTNET]: ''\n}\n\nexport const KASHI_ADDRESS: AddressMap = {\n  [ChainId.MAINNET]: '0x2cBA6Ab6574646Badc84F0544d05059e57a5dc42',\n  [ChainId.ROPSTEN]: '',\n  [ChainId.RINKEBY]: '',\n  [ChainId.GÖRLI]: '',\n  [ChainId.KOVAN]: '0x2cBA6Ab6574646Badc84F0544d05059e57a5dc42',\n  [ChainId.FANTOM]: '',\n  [ChainId.FANTOM_TESTNET]: '',\n  [ChainId.MATIC]: '0xB527C5295c4Bc348cBb3a2E96B2494fD292075a7',\n  [ChainId.MATIC_TESTNET]: '',\n  [ChainId.XDAI]: '0x7a6DA9903d0a481F40b8336c1463487BC8C0407e',\n  [ChainId.BSC]: '0x2cBA6Ab6574646Badc84F0544d05059e57a5dc42',\n  [ChainId.BSC_TESTNET]: '',\n  [ChainId.ARBITRUM]: '',\n  [ChainId.ARBITRUM_TESTNET]: '',\n  [ChainId.MOONBEAM_TESTNET]: '',\n  [ChainId.AVALANCHE]: '',\n  [ChainId.AVALANCHE_TESTNET]: '',\n  [ChainId.HECO]: '0x2cBA6Ab6574646Badc84F0544d05059e57a5dc42',\n  [ChainId.HECO_TESTNET]: '',\n  [ChainId.HARMONY]: '',\n  [ChainId.HARMONY_TESTNET]: '',\n  [ChainId.OKEX]: '',\n  [ChainId.OKEX_TESTNET]: '',\n  [ChainId.CELO]: '',\n  [ChainId.PALM]: '',\n  [ChainId.PALM_TESTNET]: ''\n}\n\nexport const SUSHISWAP_SWAPPER_ADDRESS: AddressMap = {\n  [ChainId.MAINNET]: '0x1766733112408b95239aD1951925567CB1203084',\n  [ChainId.ROPSTEN]: '',\n  [ChainId.RINKEBY]: '',\n  [ChainId.GÖRLI]: '',\n  [ChainId.KOVAN]: '',\n  [ChainId.FANTOM]: '',\n  [ChainId.FANTOM_TESTNET]: '',\n  [ChainId.MATIC]: '0xe9589382130Ded5DF2397E2fD7A3E9b41DD2701D',\n  [ChainId.MATIC_TESTNET]: '',\n  [ChainId.XDAI]: '0xE02BDb31C353CE95A1D74F81C93eEa70Bf7371B9',\n  [ChainId.BSC]: '0x1766733112408b95239aD1951925567CB1203084',\n  [ChainId.BSC_TESTNET]: '',\n  [ChainId.ARBITRUM]: '',\n  [ChainId.ARBITRUM_TESTNET]: '',\n  [ChainId.MOONBEAM_TESTNET]: '',\n  [ChainId.AVALANCHE]: '',\n  [ChainId.AVALANCHE_TESTNET]: '',\n  [ChainId.HECO]: '0x1766733112408b95239aD1951925567CB1203084',\n  [ChainId.HECO_TESTNET]: '',\n  [ChainId.HARMONY]: '',\n  [ChainId.HARMONY_TESTNET]: '',\n  [ChainId.OKEX]: '',\n  [ChainId.OKEX_TESTNET]: '',\n  [ChainId.CELO]: '',\n  [ChainId.PALM]: '',\n  [ChainId.PALM_TESTNET]: ''\n}\n\nexport const SUSHISWAP_MULTISWAPPER_ADDRESS: AddressMap = {\n  [ChainId.MAINNET]: '0x545820d5Cc05248da112419fEfb18522c63C8e12',\n  [ChainId.ROPSTEN]: '',\n  [ChainId.RINKEBY]: '',\n  [ChainId.GÖRLI]: '',\n  [ChainId.KOVAN]: '0xc0c1649b2c67f1a9f5ff1dd618188165e2555bcf',\n  [ChainId.FANTOM]: '',\n  [ChainId.FANTOM_TESTNET]: '',\n  [ChainId.MATIC]: '0x73BE093B84c773fe8eE0f76DDc0829E45c215415',\n  [ChainId.MATIC_TESTNET]: '',\n  [ChainId.XDAI]: '0x735f0FbEb3b6389986BcaAf073Af07D2F8be2b93',\n  [ChainId.BSC]: '0x86c655cAc122e9A2fd9Ae1f79Df27b30E357968c',\n  [ChainId.BSC_TESTNET]: '',\n  [ChainId.ARBITRUM]: '',\n  [ChainId.ARBITRUM_TESTNET]: '',\n  [ChainId.MOONBEAM_TESTNET]: '',\n  [ChainId.AVALANCHE]: '',\n  [ChainId.AVALANCHE_TESTNET]: '',\n  [ChainId.HECO]: '',\n  [ChainId.HECO_TESTNET]: '',\n  [ChainId.HARMONY]: '',\n  [ChainId.HARMONY_TESTNET]: '',\n  [ChainId.OKEX]: '',\n  [ChainId.OKEX_TESTNET]: '',\n  [ChainId.CELO]: '',\n  [ChainId.PALM]: '',\n  [ChainId.PALM_TESTNET]: ''\n}\n\nexport const SUSHISWAP_MULTI_EXACT_SWAPPER_ADDRESS: AddressMap = {\n  [ChainId.MAINNET]: '0xB527C5295c4Bc348cBb3a2E96B2494fD292075a7',\n  [ChainId.ROPSTEN]: '',\n  [ChainId.RINKEBY]: '',\n  [ChainId.GÖRLI]: '',\n  [ChainId.KOVAN]: '0x75AE0Aa596D39b20addC921DeB5EE3c96279dABE',\n  [ChainId.FANTOM]: '',\n  [ChainId.FANTOM_TESTNET]: '',\n  [ChainId.MATIC]: '0xDB6C4EDd9545d3b815dA85E6429B699c418886f9',\n  [ChainId.MATIC_TESTNET]: '',\n  [ChainId.XDAI]: '0x07b6e34EeCF38B02e83b6B4702699717e298967E',\n  [ChainId.BSC]: '0x1B16149Edaf1EFa6ADE6aEEF33e63C6e08c9bB1B',\n  [ChainId.BSC_TESTNET]: '',\n  [ChainId.ARBITRUM]: '',\n  [ChainId.ARBITRUM_TESTNET]: '',\n  [ChainId.MOONBEAM_TESTNET]: '',\n  [ChainId.AVALANCHE]: '',\n  [ChainId.AVALANCHE_TESTNET]: '',\n  [ChainId.HECO]: '',\n  [ChainId.HECO_TESTNET]: '',\n  [ChainId.HARMONY]: '',\n  [ChainId.HARMONY_TESTNET]: '',\n  [ChainId.OKEX]: '',\n  [ChainId.OKEX_TESTNET]: '',\n  [ChainId.CELO]: '',\n  [ChainId.PALM]: '',\n  [ChainId.PALM_TESTNET]: ''\n}\n\nexport const PEGGED_ORACLE_ADDRESS = '0x6cbfbB38498Df0E1e7A4506593cDB02db9001564'\n\nexport const SUSHISWAP_TWAP_0_ORACLE_ADDRESS = '0x66F03B0d30838A3fee971928627ea6F59B236065'\n\nexport const SUSHISWAP_TWAP_1_ORACLE_ADDRESS = '0x0D51b575591F8f74a2763Ade75D3CDCf6789266f'\n\nexport const CHAINLINK_ORACLE_ADDRESS = '0x00632CFe43d8F9f8E6cD0d39Ffa3D4fa7ec73CFB'\n\nexport const BORING_HELPER_ADDRESS: AddressMap = {\n  [ChainId.MAINNET]: '0x11Ca5375AdAfd6205E41131A4409f182677996E6',\n  [ChainId.ROPSTEN]: '',\n  [ChainId.RINKEBY]: '',\n  [ChainId.GÖRLI]: '',\n  [ChainId.KOVAN]: '0x11Ca5375AdAfd6205E41131A4409f182677996E6',\n  [ChainId.FANTOM]: '',\n  [ChainId.FANTOM_TESTNET]: '',\n  [ChainId.MATIC]: '0xA77a7fD5a16237B85E0FAd02C51f459D18AE93Cd',\n  [ChainId.MATIC_TESTNET]: '',\n  [ChainId.XDAI]: '0x97e4a0fb71243A83A6FbaEF7Cf73617594e4cF2F',\n  [ChainId.BSC]: '0x11Ca5375AdAfd6205E41131A4409f182677996E6',\n  [ChainId.BSC_TESTNET]: '',\n  [ChainId.ARBITRUM]: '',\n  [ChainId.ARBITRUM_TESTNET]: '',\n  [ChainId.MOONBEAM_TESTNET]: '',\n  [ChainId.AVALANCHE]: '',\n  [ChainId.AVALANCHE_TESTNET]: '',\n  [ChainId.HECO]: '0x11Ca5375AdAfd6205E41131A4409f182677996E6',\n  [ChainId.HECO_TESTNET]: '',\n  [ChainId.HARMONY]: '',\n  [ChainId.HARMONY_TESTNET]: '',\n  [ChainId.OKEX]: '',\n  [ChainId.OKEX_TESTNET]: '',\n  [ChainId.CELO]: '',\n  [ChainId.PALM]: '',\n  [ChainId.PALM_TESTNET]: ''\n}\n\nexport const STOP_LIMIT_ORDER_ADDRESS: AddressMap = {\n  [ChainId.MAINNET]: '',\n  [ChainId.ROPSTEN]: '',\n  [ChainId.RINKEBY]: '',\n  [ChainId.GÖRLI]: '',\n  [ChainId.KOVAN]: '0xce9365dB1C99897f04B3923C03ba9a5f80E8DB87',\n  [ChainId.FANTOM]: '',\n  [ChainId.FANTOM_TESTNET]: '',\n  [ChainId.MATIC]: '0x1aDb3Bd86bb01797667eC382a0BC6A9854b4005f',\n  [ChainId.MATIC_TESTNET]: '',\n  [ChainId.XDAI]: '',\n  [ChainId.BSC]: '',\n  [ChainId.BSC_TESTNET]: '',\n  [ChainId.ARBITRUM]: '',\n  [ChainId.ARBITRUM_TESTNET]: '',\n  [ChainId.MOONBEAM_TESTNET]: '',\n  [ChainId.AVALANCHE]: '',\n  [ChainId.AVALANCHE_TESTNET]: '',\n  [ChainId.HECO]: '',\n  [ChainId.HECO_TESTNET]: '',\n  [ChainId.HARMONY]: '',\n  [ChainId.HARMONY_TESTNET]: '',\n  [ChainId.OKEX]: '',\n  [ChainId.OKEX_TESTNET]: '',\n  [ChainId.CELO]: '',\n  [ChainId.PALM]: '',\n  [ChainId.PALM_TESTNET]: ''\n}\n\nexport const ARCHER_ROUTER_ADDRESS: AddressMap = {\n  [ChainId.MAINNET]: '0x9917C083FF9FbD29Df1367FBF7F2388A9a202431'\n}\n\nexport const MINICHEF_ADDRESS: AddressMap = {\n  [ChainId.MATIC]: '0x0769fd68dFb93167989C6f7254cd0D766Fb2841F',\n  [ChainId.XDAI]: '0xdDCbf776dF3dE60163066A5ddDF2277cB445E0F3',\n  [ChainId.HARMONY]: '0x67dA5f2FfaDDfF067AB9d5F025F8810634d84287'\n}\n\nexport const WETH9_ADDRESS: AddressMap = {\n  [ChainId.MAINNET]: '0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2',\n  [ChainId.ROPSTEN]: '0xc778417E063141139Fce010982780140Aa0cD5Ab',\n  [ChainId.RINKEBY]: '0xc778417E063141139Fce010982780140Aa0cD5Ab',\n  [ChainId.GÖRLI]: '0xB4FBF271143F4FBf7B91A5ded31805e42b2208d6',\n  [ChainId.KOVAN]: '0xd0A1E359811322d97991E03f863a0C30C2cF029C',\n  [ChainId.ARBITRUM]: '0x82aF49447D8a07e3bd95BD0d56f35241523fBab1',\n  [ChainId.ARBITRUM_TESTNET]: '0xf8456e5e6A225C2C1D74D8C9a4cB2B1d5dc1153b',\n  [ChainId.BSC]: '0x2170Ed0880ac9A755fd29B2688956BD959F933F8',\n  [ChainId.FANTOM]: '0x74b23882a30290451A17c44f4F05243b6b58C76d',\n  [ChainId.MATIC]: '0x7ceB23fD6bC0adD59E62ac25578270cFf1b9f619',\n  [ChainId.OKEX]: '0x2170Ed0880ac9A755fd29B2688956BD959F933F8',\n  [ChainId.HECO]: '0x64FF637fB478863B7468bc97D30a5bF3A428a1fD',\n  [ChainId.HARMONY]: '0x6983D1E6DEf3690C4d616b13597A09e6193EA013',\n  [ChainId.XDAI]: '0x6A023CCd1ff6F2045C3309768eAd9E68F978f6e1',\n  [ChainId.AVALANCHE]: '0xf20d962a6c8f70c731bd838a3a388D7d48fA6e15'\n}\n\nexport const WNATIVE_ADDRESS: AddressMap = {\n  [ChainId.MAINNET]: WETH9_ADDRESS[ChainId.MAINNET],\n  [ChainId.ROPSTEN]: WETH9_ADDRESS[ChainId.ROPSTEN],\n  [ChainId.RINKEBY]: WETH9_ADDRESS[ChainId.RINKEBY],\n  [ChainId.GÖRLI]: WETH9_ADDRESS[ChainId.GÖRLI],\n  [ChainId.KOVAN]: WETH9_ADDRESS[ChainId.KOVAN],\n  [ChainId.ARBITRUM]: WETH9_ADDRESS[ChainId.ARBITRUM],\n  [ChainId.ARBITRUM_TESTNET]: WETH9_ADDRESS[ChainId.ARBITRUM_TESTNET],\n  [ChainId.FANTOM]: '0x21be370D5312f44cB42ce377BC9b8a0cEF1A4C83',\n  [ChainId.FANTOM_TESTNET]: '0xf1277d1Ed8AD466beddF92ef448A132661956621',\n  [ChainId.MATIC]: '0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270',\n  [ChainId.MATIC_TESTNET]: '0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270',\n  [ChainId.XDAI]: '0xe91D153E0b41518A2Ce8Dd3D7944Fa863463a97d',\n  [ChainId.BSC]: '0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c',\n  [ChainId.BSC_TESTNET]: '0xae13d989daC2f0dEbFf460aC112a837C89BAa7cd',\n  [ChainId.MOONBEAM_TESTNET]: '0xe73763DB808ecCDC0E36bC8E32510ED126910394',\n  [ChainId.AVALANCHE]: '0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7',\n  [ChainId.AVALANCHE_TESTNET]: '0xd00ae08403B9bbb9124bB305C09058E32C39A48c',\n  [ChainId.HECO]: '0x5545153CCFcA01fbd7Dd11C0b23ba694D9509A6F',\n  [ChainId.HECO_TESTNET]: '0x5B2DA6F42CA09C77D577a12BeaD0446148830687',\n  [ChainId.HARMONY]: '0xcF664087a5bB0237a0BAd6742852ec6c8d69A27a',\n  [ChainId.HARMONY_TESTNET]: '0x7a2afac38517d512E55C0bCe3b6805c10a04D60F',\n  [ChainId.OKEX]: '0x8F8526dbfd6E38E3D8307702cA8469Bae6C56C15',\n  [ChainId.OKEX_TESTNET]: '0x2219845942d28716c0F7C605765fABDcA1a7d9E0',\n  [ChainId.CELO]: '0x471EcE3750Da237f93B8E339c536989b8978a438',\n  [ChainId.PALM]: '0xF98cABF0a963452C5536330408B2590567611a71'\n}\n\nexport const MASTERCHEF_V2_ADDRESS: AddressMap = {\n  [ChainId.MAINNET]: '0xEF0881eC094552b2e128Cf945EF17a6752B4Ec5d'\n}\n\nexport const ENS_REGISTRAR_ADDRESS: AddressMap = {\n  [ChainId.MAINNET]: '0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e',\n  [ChainId.GÖRLI]: '0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e',\n  [ChainId.ROPSTEN]: '0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e',\n  [ChainId.RINKEBY]: '0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e'\n}\n\nexport const ZAPPER_ADDRESS: AddressMap = {\n  [ChainId.MAINNET]: '0xcff6eF0B9916682B37D80c19cFF8949bc1886bC2',\n  [ChainId.ROPSTEN]: '0xcff6eF0B9916682B37D80c19cFF8949bc1886bC2'\n}\n\nexport const MERKLE_DISTRIBUTOR_ADDRESS: AddressMap = {\n  [ChainId.MAINNET]: '0xcBE6B83e77cdc011Cc18F6f0Df8444E5783ed982',\n  [ChainId.ROPSTEN]: '0x84d1f7202e0e7dac211617017ca72a2cb5e2b955'\n}\n\nexport const MULTICALL2_ADDRESS: AddressMap = {\n  [ChainId.MAINNET]: '0x5BA1e12693Dc8F9c48aAD8770482f4739bEeD696',\n  [ChainId.ROPSTEN]: '0x5BA1e12693Dc8F9c48aAD8770482f4739bEeD696',\n  [ChainId.RINKEBY]: '0x5BA1e12693Dc8F9c48aAD8770482f4739bEeD696',\n  [ChainId.GÖRLI]: '0x5BA1e12693Dc8F9c48aAD8770482f4739bEeD696',\n  [ChainId.KOVAN]: '0x5BA1e12693Dc8F9c48aAD8770482f4739bEeD696',\n  [ChainId.ARBITRUM]: '0xadF885960B47eA2CD9B55E6DAc6B42b7Cb2806dB',\n  [ChainId.ARBITRUM_TESTNET]: '0xa501c031958F579dB7676fF1CE78AD305794d579',\n  [ChainId.CELO]: '0x9aac9048fC8139667D6a2597B902865bfdc225d3',\n  [ChainId.FANTOM]: '0x22D4cF72C45F8198CfbF4B568dBdB5A85e8DC0B5',\n  [ChainId.FANTOM_TESTNET]: '',\n  [ChainId.MATIC]: '0x02817C1e3543c2d908a590F5dB6bc97f933dB4BD',\n  [ChainId.MATIC_TESTNET]: '',\n  [ChainId.XDAI]: '0x67dA5f2FfaDDfF067AB9d5F025F8810634d84287',\n  [ChainId.BSC]: '0xa9193376D09C7f31283C54e56D013fCF370Cd9D9',\n  [ChainId.BSC_TESTNET]: '',\n  [ChainId.MOONBEAM_TESTNET]: '',\n  [ChainId.AVALANCHE]: '0xdDCbf776dF3dE60163066A5ddDF2277cB445E0F3',\n  [ChainId.AVALANCHE_TESTNET]: '',\n  [ChainId.HECO]: '0xdDCbf776dF3dE60163066A5ddDF2277cB445E0F3',\n  [ChainId.HECO_TESTNET]: '',\n  [ChainId.HARMONY]: '0xdDCbf776dF3dE60163066A5ddDF2277cB445E0F3',\n  [ChainId.HARMONY_TESTNET]: '',\n  [ChainId.OKEX]: '0xF4d73326C13a4Fc5FD7A064217e12780e9Bd62c3',\n  [ChainId.OKEX_TESTNET]: '',\n  [ChainId.PALM]: '0x0769fd68dFb93167989C6f7254cd0D766Fb2841F'\n}\n","import { BigNumber } from '@ethersproject/bignumber'\n\n// Functions that need accrue to be called\nexport const ACTION_ADD_ASSET = 1\nexport const ACTION_REPAY = 2\nexport const ACTION_REMOVE_ASSET = 3\nexport const ACTION_REMOVE_COLLATERAL = 4\nexport const ACTION_BORROW = 5\nexport const ACTION_GET_REPAY_SHARE = 6\nexport const ACTION_GET_REPAY_PART = 7\nexport const ACTION_ACCRUE = 8\n\n// Functions that don't need accrue to be called\nexport const ACTION_ADD_COLLATERAL = 10\nexport const ACTION_UPDATE_EXCHANGE_RATE = 11\n\n// Function on BentoBox\nexport const ACTION_BENTO_DEPOSIT = 20\nexport const ACTION_BENTO_WITHDRAW = 21\nexport const ACTION_BENTO_TRANSFER = 22\nexport const ACTION_BENTO_TRANSFER_MULTIPLE = 23\nexport const ACTION_BENTO_SETAPPROVAL = 24\n\n// Any external call (except to BentoBox)\nexport const ACTION_CALL = 30\n\nexport const MINIMUM_TARGET_UTILIZATION = BigNumber.from('700000000000000000') // 70%\n\nexport const MAXIMUM_TARGET_UTILIZATION = BigNumber.from('800000000000000000') // 80%\n\nexport const UTILIZATION_PRECISION = BigNumber.from('1000000000000000000')\n\nexport const FULL_UTILIZATION = BigNumber.from('1000000000000000000')\n\nexport const FULL_UTILIZATION_MINUS_MAX = FULL_UTILIZATION.sub(MAXIMUM_TARGET_UTILIZATION)\n\nexport const STARTING_INTEREST_PER_YEAR = BigNumber.from(317097920)\n  .mul(BigNumber.from(60))\n  .mul(BigNumber.from(60))\n  .mul(BigNumber.from(24))\n  .mul(BigNumber.from(365)) // approx 1% APR\n\nexport const MINIMUM_INTEREST_PER_YEAR = BigNumber.from(79274480)\n  .mul(BigNumber.from(60))\n  .mul(BigNumber.from(60))\n  .mul(BigNumber.from(24))\n  .mul(BigNumber.from(365)) // approx 0.25% APR\n\nexport const MAXIMUM_INTEREST_PER_YEAR = BigNumber.from(317097920000)\n  .mul(BigNumber.from(60))\n  .mul(BigNumber.from(60))\n  .mul(BigNumber.from(24))\n  .mul(BigNumber.from(365)) // approx 1000% APR\n\nexport const INTEREST_ELASTICITY = BigNumber.from('28800000000000000000000000000000000000000') // Half or double in 28800 seconds (8 hours) if linear\n\nexport const FACTOR_PRECISION = BigNumber.from('1000000000000000000')\n\nexport const PROTOCOL_FEE = BigNumber.from('10000') // 10%\n\nexport const PROTOCOL_FEE_DIVISOR = BigNumber.from('100000')\n","import { Currency } from './Currency'\nimport { Token } from './Token'\nimport invariant from 'tiny-invariant'\n\n/**\n * A currency is any fungible financial instrument, including Ether, all ERC20 tokens, and other chain-native currencies\n */\nexport abstract class AbstractCurrency {\n  /**\n   * Returns whether the currency is native to the chain and must be wrapped (e.g. Ether)\n   */\n  public abstract readonly isNative: boolean\n  /**\n   * Returns whether the currency is a token that is usable in Uniswap without wrapping\n   */\n  public abstract readonly isToken: boolean\n\n  /**\n   * The chain ID on which this currency resides\n   */\n  public readonly chainId: number\n  /**\n   * The decimals used in representing currency amounts\n   */\n  public readonly decimals: number\n  /**\n   * The symbol of the currency, i.e. a short textual non-unique identifier\n   */\n  public readonly symbol?: string\n  /**\n   * The name of the currency, i.e. a descriptive textual non-unique identifier\n   */\n  public readonly name?: string\n\n  /**\n   * Constructs an instance of the base class `BaseCurrency`.\n   * @param chainId the chain ID on which this currency resides\n   * @param decimals decimals of the currency\n   * @param symbol symbol of the currency\n   * @param name of the currency\n   */\n  protected constructor(chainId: number, decimals: number, symbol?: string, name?: string) {\n    invariant(Number.isSafeInteger(chainId), 'CHAIN_ID')\n    invariant(decimals >= 0 && decimals < 255 && Number.isInteger(decimals), 'DECIMALS')\n\n    this.chainId = chainId\n    this.decimals = decimals\n    this.symbol = symbol\n    this.name = name\n  }\n\n  /**\n   * Returns whether this currency is functionally equivalent to the other currency\n   * @param other the other currency\n   */\n  public abstract equals(other: Currency): boolean\n\n  /**\n   * Return the wrapped version of this currency that can be used with the Uniswap contracts. Currencies must\n   * implement this to be used in Uniswap\n   */\n  public abstract get wrapped(): Token\n}\n","import { AbstractCurrency } from './AbstractCurrency'\n\n/**\n * Represents the native currency of the chain on which it resides, e.g.\n */\nexport abstract class NativeCurrency extends AbstractCurrency {\n  public readonly isNative: true = true\n  public readonly isToken: false = false\n}\n","import { getAddress } from '@ethersproject/address'\nimport invariant from 'tiny-invariant'\nimport warning from 'tiny-warning'\n\n// warns if addresses are not checksummed\nexport function validateAndParseAddress(address: string): string {\n  try {\n    const checksummedAddress = getAddress(address)\n    warning(address === checksummedAddress, `${address} is not checksummed.`)\n    return checksummedAddress\n  } catch (error) {\n    invariant(false, `${address} is not a valid address.`)\n  }\n}\n","import { AbstractCurrency } from './AbstractCurrency'\nimport { ChainId } from '../enums'\nimport { Currency } from './Currency'\nimport invariant from 'tiny-invariant'\nimport { validateAndParseAddress } from '../functions/validateAndParseAddress'\n\n/**\n * Represents an ERC20 token with a unique address and some metadata.\n */\nexport class Token extends AbstractCurrency {\n  public readonly chainId: ChainId\n  public readonly address: string\n\n  public readonly isNative: false = false\n  public readonly isToken: true = true\n\n  public constructor(chainId: ChainId, address: string, decimals: number, symbol?: string, name?: string) {\n    super(chainId, decimals, symbol, name)\n    this.chainId = chainId\n    this.address = validateAndParseAddress(address)\n  }\n\n  /**\n   * Returns true if the two tokens are equivalent, i.e. have the same chainId and address.\n   * @param other other token to compare\n   */\n  public equals(other: Currency): boolean {\n    return other.isToken && this.chainId === other.chainId && this.address === other.address\n  }\n\n  /**\n   * Returns true if the address of this token sorts before the address of the other token\n   * @param other other token to compare\n   * @throws if the tokens have the same address\n   * @throws if the tokens are on different chains\n   */\n  public sortsBefore(other: Token): boolean {\n    invariant(this.chainId === other.chainId, 'CHAIN_IDS')\n    invariant(this.address !== other.address, 'ADDRESSES')\n    return this.address.toLowerCase() < other.address.toLowerCase()\n  }\n\n  /**\n   * Return this token, which does not need to be wrapped\n   */\n  public get wrapped(): Token {\n    return this\n  }\n}\n\n/**\n * Compares two currencies for equality\n */\nexport function currencyEquals(currencyA: Currency, currencyB: Currency): boolean {\n  if (currencyA instanceof Token && currencyB instanceof Token) {\n    return currencyA.equals(currencyB)\n  } else if (currencyA instanceof Token) {\n    return false\n  } else if (currencyB instanceof Token) {\n    return false\n  } else {\n    return currencyA === currencyB\n  }\n}\n","import { USDC_ADDRESS, WETH9_ADDRESS, WNATIVE_ADDRESS } from './addresses'\n\nimport { ChainId } from '../enums'\nimport { Token } from '../entities/Token'\nimport { TokenMap } from '../types/TokenMap'\n\nexport const USDC: TokenMap = {\n  [ChainId.MAINNET]: new Token(ChainId.MAINNET, USDC_ADDRESS[ChainId.MAINNET], 6, 'USDC', 'USD Coin'),\n  [ChainId.ROPSTEN]: new Token(ChainId.ROPSTEN, USDC_ADDRESS[ChainId.ROPSTEN], 6, 'USDC', 'USD Coin'),\n  [ChainId.KOVAN]: new Token(ChainId.KOVAN, USDC_ADDRESS[ChainId.KOVAN], 6, 'USDC', 'USD Coin'),\n  [ChainId.MATIC]: new Token(ChainId.MATIC, USDC_ADDRESS[ChainId.MATIC], 6, 'USDC', 'USD Coin'),\n  [ChainId.FANTOM]: new Token(ChainId.FANTOM, USDC_ADDRESS[ChainId.FANTOM], 6, 'USDC', 'USD Coin'),\n  [ChainId.BSC]: new Token(ChainId.BSC, USDC_ADDRESS[ChainId.BSC], 18, 'USDC', 'USD Coin'),\n  [ChainId.HARMONY]: new Token(ChainId.HARMONY, USDC_ADDRESS[ChainId.HARMONY], 6, 'USDC', 'USD Coin'),\n  [ChainId.HECO]: new Token(ChainId.HECO, USDC_ADDRESS[ChainId.HECO], 6, 'USDC', 'USD Coin'),\n  [ChainId.OKEX]: new Token(ChainId.OKEX, USDC_ADDRESS[ChainId.OKEX], 18, 'USDC', 'USD Coin'),\n  [ChainId.XDAI]: new Token(ChainId.XDAI, USDC_ADDRESS[ChainId.XDAI], 6, 'USDC', 'USD Coin')\n}\n\nexport const WETH9: TokenMap = {\n  [ChainId.MAINNET]: new Token(ChainId.MAINNET, WETH9_ADDRESS[ChainId.MAINNET], 18, 'WETH9', 'Wrapped Ether'),\n  [ChainId.ROPSTEN]: new Token(ChainId.ROPSTEN, WETH9_ADDRESS[ChainId.ROPSTEN], 18, 'WETH9', 'Wrapped Ether'),\n  [ChainId.RINKEBY]: new Token(ChainId.RINKEBY, WETH9_ADDRESS[ChainId.RINKEBY], 18, 'WETH9', 'Wrapped Ether'),\n  [ChainId.GÖRLI]: new Token(ChainId.GÖRLI, WETH9_ADDRESS[ChainId.GÖRLI], 18, 'WETH9', 'Wrapped Ether'),\n  [ChainId.KOVAN]: new Token(ChainId.KOVAN, WETH9_ADDRESS[ChainId.KOVAN], 18, 'WETH9', 'Wrapped Ether'),\n  [ChainId.ARBITRUM]: new Token(ChainId.ARBITRUM, WETH9_ADDRESS[ChainId.ARBITRUM], 18, 'WETH9', 'Wrapped Ether'),\n  [ChainId.ARBITRUM_TESTNET]: new Token(\n    ChainId.ARBITRUM_TESTNET,\n    WETH9_ADDRESS[ChainId.ARBITRUM_TESTNET],\n    18,\n    'WETH',\n    'Wrapped Ether'\n  ),\n\n  [ChainId.BSC]: new Token(ChainId.BSC, WETH9_ADDRESS[ChainId.BSC], 18, 'WETH', 'Wrapped Ether'),\n\n  [ChainId.FANTOM]: new Token(ChainId.FANTOM, WETH9_ADDRESS[ChainId.FANTOM], 18, 'WETH', 'Wrapped Ether'),\n\n  [ChainId.MATIC]: new Token(ChainId.MATIC, WETH9_ADDRESS[ChainId.MATIC], 18, 'WETH', 'Wrapped Ether'),\n\n  [ChainId.OKEX]: new Token(ChainId.OKEX, WETH9_ADDRESS[ChainId.OKEX], 18, 'WETH', 'Wrapped Ether'),\n\n  [ChainId.HECO]: new Token(ChainId.HECO, WETH9_ADDRESS[ChainId.HECO], 18, 'WETH', 'Wrapped Ether'),\n\n  [ChainId.HARMONY]: new Token(ChainId.HARMONY, WETH9_ADDRESS[ChainId.HARMONY], 18, 'WETH', 'Wrapped Ether'),\n\n  [ChainId.XDAI]: new Token(ChainId.XDAI, WETH9_ADDRESS[ChainId.XDAI], 18, 'WETH', 'Wrapped Ether'),\n\n  [ChainId.AVALANCHE]: new Token(ChainId.AVALANCHE, WETH9_ADDRESS[ChainId.AVALANCHE], 18, 'WETH', 'Wrapped Ether')\n}\n\nexport const WNATIVE: TokenMap = {\n  [ChainId.MAINNET]: WETH9[ChainId.MAINNET],\n  [ChainId.ROPSTEN]: WETH9[ChainId.ROPSTEN],\n  [ChainId.RINKEBY]: WETH9[ChainId.RINKEBY],\n  [ChainId.GÖRLI]: WETH9[ChainId.GÖRLI],\n  [ChainId.KOVAN]: WETH9[ChainId.KOVAN],\n  [ChainId.FANTOM]: new Token(ChainId.FANTOM, WNATIVE_ADDRESS[ChainId.FANTOM], 18, 'WFTM', 'Wrapped FTM'),\n  [ChainId.FANTOM_TESTNET]: new Token(\n    ChainId.FANTOM_TESTNET,\n    WNATIVE_ADDRESS[ChainId.FANTOM_TESTNET],\n    18,\n    'FTM',\n    'Wrapped FTM'\n  ),\n  [ChainId.MATIC]: new Token(ChainId.MATIC, WNATIVE_ADDRESS[ChainId.MATIC], 18, 'WMATIC', 'Wrapped Matic'),\n  [ChainId.MATIC_TESTNET]: new Token(\n    ChainId.MATIC_TESTNET,\n    WNATIVE_ADDRESS[ChainId.MATIC_TESTNET],\n    18,\n    'WMATIC',\n    'Wrapped Matic'\n  ),\n  [ChainId.XDAI]: new Token(ChainId.XDAI, WNATIVE_ADDRESS[ChainId.XDAI], 18, 'WXDAI', 'Wrapped xDai'),\n  [ChainId.BSC]: new Token(ChainId.BSC, WNATIVE_ADDRESS[ChainId.BSC], 18, 'WBNB', 'Wrapped BNB'),\n  [ChainId.BSC_TESTNET]: new Token(\n    ChainId.BSC_TESTNET,\n    WNATIVE_ADDRESS[ChainId.BSC_TESTNET],\n    18,\n    'WBNB',\n    'Wrapped BNB'\n  ),\n  [ChainId.ARBITRUM]: WETH9[ChainId.ARBITRUM],\n  [ChainId.ARBITRUM_TESTNET]: WETH9[ChainId.ARBITRUM_TESTNET],\n  [ChainId.MOONBEAM_TESTNET]: new Token(\n    ChainId.MOONBEAM_TESTNET,\n    WNATIVE_ADDRESS[ChainId.MOONBEAM_TESTNET],\n    18,\n    'WETH',\n    'Wrapped Ether'\n  ),\n  [ChainId.AVALANCHE]: new Token(ChainId.AVALANCHE, WNATIVE_ADDRESS[ChainId.AVALANCHE], 18, 'WAVAX', 'Wrapped AVAX'),\n  [ChainId.AVALANCHE_TESTNET]: new Token(\n    ChainId.AVALANCHE_TESTNET,\n    WNATIVE_ADDRESS[ChainId.AVALANCHE_TESTNET],\n    18,\n    'WAVAX',\n    'Wrapped AVAX'\n  ),\n  [ChainId.HECO]: new Token(ChainId.HECO, WNATIVE_ADDRESS[ChainId.HECO], 18, 'WHT', 'Wrapped HT'),\n  [ChainId.HECO_TESTNET]: new Token(\n    ChainId.HECO_TESTNET,\n    WNATIVE_ADDRESS[ChainId.HECO_TESTNET],\n    18,\n    'WHT',\n    'Wrapped HT'\n  ),\n  [ChainId.HARMONY]: new Token(ChainId.HARMONY, WNATIVE_ADDRESS[ChainId.HARMONY], 18, 'WONE', 'Wrapped ONE'),\n  [ChainId.HARMONY_TESTNET]: new Token(\n    ChainId.HARMONY_TESTNET,\n    WNATIVE_ADDRESS[ChainId.HARMONY_TESTNET],\n    18,\n    'WONE',\n    'Wrapped ONE'\n  ),\n  [ChainId.OKEX]: new Token(ChainId.OKEX, WNATIVE_ADDRESS[ChainId.OKEX], 18, 'WOKT', 'Wrapped OKExChain'),\n  [ChainId.OKEX_TESTNET]: new Token(\n    ChainId.OKEX_TESTNET,\n    WNATIVE_ADDRESS[ChainId.OKEX_TESTNET],\n    18,\n    'WOKT',\n    'Wrapped OKExChain'\n  ),\n  [ChainId.CELO]: new Token(ChainId.CELO, WNATIVE_ADDRESS[ChainId.CELO], 18, 'CELO', 'Celo'),\n  [ChainId.PALM]: new Token(ChainId.PALM, WNATIVE_ADDRESS[ChainId.PALM], 18, 'WPALM', 'Wrapped Palm')\n}\n","import { Currency } from '../Currency'\nimport { NativeCurrency } from '../NativeCurrency'\nimport { Token } from '../Token'\nimport { WNATIVE } from '../../constants/tokens'\nimport invariant from 'tiny-invariant'\n\nexport class Avalanche extends NativeCurrency {\n  protected constructor(chainId: number) {\n    super(chainId, 18, 'AVAX', 'Avalanche')\n  }\n\n  public get wrapped(): Token {\n    const wnative = WNATIVE[this.chainId]\n    invariant(!!wnative, 'WRAPPED')\n    return wnative\n  }\n\n  private static _cache: { [chainId: number]: Avalanche } = {}\n\n  public static onChain(chainId: number): Avalanche {\n    return this._cache[chainId] ?? (this._cache[chainId] = new Avalanche(chainId))\n  }\n\n  public equals(other: Currency): boolean {\n    return other.isNative && other.chainId === this.chainId\n  }\n}\n","import { Currency } from '../Currency'\nimport { NativeCurrency } from '../NativeCurrency'\nimport { Token } from '../Token'\nimport { WNATIVE } from '../../constants/tokens'\nimport invariant from 'tiny-invariant'\n\nexport class Binance extends NativeCurrency {\n  protected constructor(chainId: number) {\n    super(chainId, 18, 'BNB', 'Binance Coin')\n  }\n\n  public get wrapped(): Token {\n    const wnative = WNATIVE[this.chainId]\n    invariant(!!wnative, 'WRAPPED')\n    return wnative\n  }\n\n  private static _cache: { [chainId: number]: Binance } = {}\n\n  public static onChain(chainId: number): Binance {\n    return this._cache[chainId] ?? (this._cache[chainId] = new Binance(chainId))\n  }\n\n  public equals(other: Currency): boolean {\n    return other.isNative && other.chainId === this.chainId\n  }\n}\n","import { Currency } from '../Currency'\nimport { NativeCurrency } from '../NativeCurrency'\nimport { Token } from '../Token'\nimport { WNATIVE } from '../../constants/tokens'\nimport invariant from 'tiny-invariant'\n\nexport class Celo extends NativeCurrency {\n  protected constructor(chainId: number) {\n    super(chainId, 18, 'CELO', 'Celo')\n  }\n\n  public get wrapped(): Token {\n    const wcelo = WNATIVE[this.chainId]\n    invariant(!!wcelo, 'WRAPPED')\n    return wcelo\n  }\n\n  private static _cache: { [chainId: number]: Celo } = {}\n\n  public static onChain(chainId: number): Celo {\n    return this._cache[chainId] ?? (this._cache[chainId] = new Celo(chainId))\n  }\n\n  public equals(other: Currency): boolean {\n    return other.isNative && other.chainId === this.chainId\n  }\n}\n","import { Currency } from '../Currency'\nimport { NativeCurrency } from '../NativeCurrency'\nimport { Token } from '../Token'\nimport { WETH9 } from '../../constants/tokens'\nimport invariant from 'tiny-invariant'\n\n/**\n * Ether is the main usage of a 'native' currency, i.e. for Ethereum mainnet and all testnets\n */\nexport class Ether extends NativeCurrency {\n  protected constructor(chainId: number) {\n    super(chainId, 18, 'ETH', 'Ether')\n  }\n\n  public get wrapped(): Token {\n    const weth9 = WETH9[this.chainId]\n    invariant(!!weth9, 'WRAPPED')\n    return weth9\n  }\n\n  private static _etherCache: { [chainId: number]: Ether } = {}\n\n  public static onChain(chainId: number): Ether {\n    return this._etherCache[chainId] ?? (this._etherCache[chainId] = new Ether(chainId))\n  }\n\n  public equals(other: Currency): boolean {\n    return other.isNative && other.chainId === this.chainId\n  }\n}\n","import { Currency } from '../Currency'\nimport { NativeCurrency } from '../NativeCurrency'\nimport { Token } from '../Token'\nimport { WNATIVE } from '../../constants/tokens'\nimport invariant from 'tiny-invariant'\n\nexport class Fantom extends NativeCurrency {\n  protected constructor(chainId: number) {\n    super(chainId, 18, 'FTM', 'Fantom')\n  }\n\n  public get wrapped(): Token {\n    const wnative = WNATIVE[this.chainId]\n    invariant(!!wnative, 'WRAPPED')\n    return wnative\n  }\n\n  private static _cache: { [chainId: number]: Fantom } = {}\n\n  public static onChain(chainId: number): Fantom {\n    return this._cache[chainId] ?? (this._cache[chainId] = new Fantom(chainId))\n  }\n\n  public equals(other: Currency): boolean {\n    return other.isNative && other.chainId === this.chainId\n  }\n}\n","import { Currency } from '../Currency'\nimport { NativeCurrency } from '../NativeCurrency'\nimport { Token } from '../Token'\nimport { WNATIVE } from '../../constants/tokens'\nimport invariant from 'tiny-invariant'\n\nexport class Harmony extends NativeCurrency {\n  protected constructor(chainId: number) {\n    super(chainId, 18, 'ONE', 'Harmony')\n  }\n\n  public get wrapped(): Token {\n    const wnative = WNATIVE[this.chainId]\n    invariant(!!wnative, 'WRAPPED')\n    return wnative\n  }\n\n  private static _cache: { [chainId: number]: Harmony } = {}\n\n  public static onChain(chainId: number): Harmony {\n    return this._cache[chainId] ?? (this._cache[chainId] = new Harmony(chainId))\n  }\n\n  public equals(other: Currency): boolean {\n    return other.isNative && other.chainId === this.chainId\n  }\n}\n","import { Currency } from '../Currency'\nimport { NativeCurrency } from '../NativeCurrency'\nimport { Token } from '../Token'\nimport { WNATIVE } from '../../constants/tokens'\nimport invariant from 'tiny-invariant'\n\nexport class Heco extends NativeCurrency {\n  protected constructor(chainId: number) {\n    super(chainId, 18, 'HT', 'Huobi Token')\n  }\n\n  public get wrapped(): Token {\n    const wnative = WNATIVE[this.chainId]\n    invariant(!!wnative, 'WRAPPED')\n    return wnative\n  }\n\n  private static _cache: { [chainId: number]: Heco } = {}\n\n  public static onChain(chainId: number): Heco {\n    return this._cache[chainId] ?? (this._cache[chainId] = new Heco(chainId))\n  }\n\n  public equals(other: Currency): boolean {\n    return other.isNative && other.chainId === this.chainId\n  }\n}\n","import { Currency } from '../Currency'\nimport { NativeCurrency } from '../NativeCurrency'\nimport { Token } from '../Token'\nimport { WNATIVE } from '../../constants/tokens'\nimport invariant from 'tiny-invariant'\n\nexport class Matic extends NativeCurrency {\n  protected constructor(chainId: number) {\n    super(chainId, 18, 'MATIC', 'Matic')\n  }\n\n  public get wrapped(): Token {\n    const wnative = WNATIVE[this.chainId]\n    invariant(!!wnative, 'WRAPPED')\n    return wnative\n  }\n\n  private static _cache: { [chainId: number]: Matic } = {}\n\n  public static onChain(chainId: number): Matic {\n    return this._cache[chainId] ?? (this._cache[chainId] = new Matic(chainId))\n  }\n\n  public equals(other: Currency): boolean {\n    return other.isNative && other.chainId === this.chainId\n  }\n}\n","import { Currency } from '../Currency'\nimport { NativeCurrency } from '../NativeCurrency'\nimport { Token } from '../Token'\nimport { WNATIVE } from '../../constants/tokens'\nimport invariant from 'tiny-invariant'\n\nexport class Okex extends NativeCurrency {\n  protected constructor(chainId: number) {\n    super(chainId, 18, 'OKT', 'OKExChain')\n  }\n\n  public get wrapped(): Token {\n    const wnative = WNATIVE[this.chainId]\n    invariant(!!wnative, 'WRAPPED')\n    return wnative\n  }\n\n  private static _cache: { [chainId: number]: Okex } = {}\n\n  public static onChain(chainId: number): Okex {\n    return this._cache[chainId] ?? (this._cache[chainId] = new Okex(chainId))\n  }\n\n  public equals(other: Currency): boolean {\n    return other.isNative && other.chainId === this.chainId\n  }\n}\n","import { Currency } from '../Currency'\nimport { NativeCurrency } from '../NativeCurrency'\nimport { Token } from '../Token'\nimport { WNATIVE } from '../../constants/tokens'\nimport invariant from 'tiny-invariant'\n\nexport class xDai extends NativeCurrency {\n  protected constructor(chainId: number) {\n    super(chainId, 18, 'XDAI', 'xDai')\n  }\n\n  public get wrapped(): Token {\n    const wnative = WNATIVE[this.chainId]\n    invariant(!!wnative, 'WRAPPED')\n    return wnative\n  }\n\n  private static _cache: { [chainId: number]: xDai } = {}\n\n  public static onChain(chainId: number): xDai {\n    return this._cache[chainId] ?? (this._cache[chainId] = new xDai(chainId))\n  }\n\n  public equals(other: Currency): boolean {\n    return other.isNative && other.chainId === this.chainId\n  }\n}\n","import { Currency } from '../Currency'\nimport { NativeCurrency } from '../NativeCurrency'\nimport { Token } from '../Token'\nimport { WNATIVE } from '../../constants/tokens'\nimport invariant from 'tiny-invariant'\n\nexport class Palm extends NativeCurrency {\n  protected constructor(chainId: number) {\n    super(chainId, 18, 'PALM', 'Palm')\n  }\n\n  public get wrapped(): Token {\n    const wnative = WNATIVE[this.chainId]\n    invariant(!!wnative, 'WRAPPED')\n    return wnative\n  }\n\n  private static _cache: { [chainId: number]: Palm } = {}\n\n  public static onChain(chainId: number): Palm {\n    return this._cache[chainId] ?? (this._cache[chainId] = new Palm(chainId))\n  }\n\n  public equals(other: Currency): boolean {\n    return other.isNative && other.chainId === this.chainId\n  }\n}\n","import JSBI from 'jsbi'\nimport { Exchanger } from '../enums/Exchanger'\nimport { TokenType } from '../enums/Liquidity'\n\nexport * from './addresses'\nexport * from './kashi'\nexport * from './natives'\nexport * from './numbers'\nexport * from './tokens'\n\nexport const LIQUIDITY_TOKEN_IDENTITY: {[tokenType in TokenType]: string[]} = {\n  [TokenType.UNISWAP]: ['UNI-V2', 'Uniswap V2'],\n  [TokenType.CONVEYOR]: ['CON-V2', 'Conveyor V2']\n}\n\nexport const INIT_CODE_HASH: {[exchanger in Exchanger]: string} = {\n  [Exchanger.SUSHI]: '0xe18a34eb0e04b04f7a0ac29a6e80748dca96319b42c54d679cb821dca90c6303',\n  [Exchanger.CONVEYOR]: '0xf7b68428a2644f9a0d674330d4e4af2d7c3d2797a7f5766d3a86c223c4e12d17'\n}\n\nexport const MINIMUM_LIQUIDITY = JSBI.BigInt(1000)\n\nexport enum SolidityType {\n  uint8 = 'uint8',\n  uint256 = 'uint256'\n}\n\nexport const SOLIDITY_TYPE_MAXIMA = {\n  [SolidityType.uint8]: JSBI.BigInt('0xff'),\n  [SolidityType.uint256]: JSBI.BigInt('0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff')\n}\n\nexport const LAMBDA_URL = 'https://9epjsvomc4.execute-api.us-east-1.amazonaws.com/dev'\n\nexport const SOCKET_URL = 'wss://hfimt374ge.execute-api.us-east-1.amazonaws.com/dev'\n","import { Avalanche, Binance, Celo, Ether, Fantom, Harmony, Heco, Matic, Okex, Palm, xDai } from '../entities/Native'\n\nimport { ChainId } from '../enums'\n\nexport const NATIVE = {\n  [ChainId.MAINNET]: Ether.onChain(ChainId.MAINNET),\n  [ChainId.ROPSTEN]: Ether.onChain(ChainId.ROPSTEN),\n  [ChainId.RINKEBY]: Ether.onChain(ChainId.RINKEBY),\n  [ChainId.GÖRLI]: Ether.onChain(ChainId.GÖRLI),\n  [ChainId.KOVAN]: Ether.onChain(ChainId.KOVAN),\n  [ChainId.FANTOM]: Fantom.onChain(ChainId.FANTOM),\n  [ChainId.FANTOM_TESTNET]: Fantom.onChain(ChainId.FANTOM_TESTNET),\n  [ChainId.MATIC]: Matic.onChain(ChainId.MATIC),\n  [ChainId.MATIC_TESTNET]: Matic.onChain(ChainId.MATIC_TESTNET),\n  [ChainId.XDAI]: xDai.onChain(ChainId.XDAI),\n  [ChainId.BSC]: Binance.onChain(ChainId.BSC),\n  [ChainId.BSC_TESTNET]: Binance.onChain(ChainId.BSC_TESTNET),\n  // [ChainId.MOONBEAM_TESTNET]: Currency.GLMR,\n  [ChainId.AVALANCHE]: Avalanche.onChain(ChainId.AVALANCHE),\n  [ChainId.AVALANCHE_TESTNET]: Avalanche.onChain(ChainId.AVALANCHE_TESTNET),\n  [ChainId.HECO]: Heco.onChain(ChainId.HECO),\n  [ChainId.HECO_TESTNET]: Heco.onChain(ChainId.HECO_TESTNET),\n  [ChainId.HARMONY]: Harmony.onChain(ChainId.HARMONY),\n  [ChainId.HARMONY_TESTNET]: Harmony.onChain(ChainId.HARMONY_TESTNET),\n  [ChainId.OKEX]: Okex.onChain(ChainId.OKEX),\n  [ChainId.OKEX_TESTNET]: Okex.onChain(ChainId.OKEX_TESTNET),\n  [ChainId.CELO]: Celo.onChain(ChainId.CELO),\n  [ChainId.PALM]: Palm.onChain(ChainId.PALM)\n}\n","import JSBI from 'jsbi'\n\nexport const MaxUint256 = JSBI.BigInt('0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff')\n\n// exports for internal consumption\nexport const ZERO = JSBI.BigInt(0)\nexport const ONE = JSBI.BigInt(1)\nexport const TWO = JSBI.BigInt(2)\nexport const THREE = JSBI.BigInt(3)\nexport const FIVE = JSBI.BigInt(5)\nexport const TEN = JSBI.BigInt(10)\nexport const _100 = JSBI.BigInt(100)\nexport const _997 = JSBI.BigInt(997)\nexport const _1000 = JSBI.BigInt(1000)\n","// see https://stackoverflow.com/a/41102306\nconst CAN_SET_PROTOTYPE = 'setPrototypeOf' in Object\n\n/**\n * Indicates that the pair has insufficient reserves for a desired output amount. I.e. the amount of output cannot be\n * obtained by sending any amount of input.\n */\nexport class InsufficientReservesError extends Error {\n  public readonly isInsufficientReservesError: true = true\n\n  public constructor() {\n    super()\n    this.name = this.constructor.name\n    if (CAN_SET_PROTOTYPE) Object.setPrototypeOf(this, new.target.prototype)\n  }\n}\n\n/**\n * Indicates that the input amount is too small to produce any amount of output. I.e. the amount of input sent is less\n * than the price of a single unit of output after fees.\n */\nexport class InsufficientInputAmountError extends Error {\n  public readonly isInsufficientInputAmountError: true = true\n\n  public constructor() {\n    super()\n    this.name = this.constructor.name\n    if (CAN_SET_PROTOTYPE) Object.setPrototypeOf(this, new.target.prototype)\n  }\n}\n","import _Big, { RoundingMode } from 'big.js'\n\nimport { BigintIsh } from '../types'\nimport JSBI from 'jsbi'\nimport { Rounding } from '../enums'\nimport _Decimal from 'decimal.js-light'\nimport invariant from 'tiny-invariant'\nimport toFormat from 'toformat'\n\nconst Decimal = toFormat(_Decimal)\nconst Big = toFormat(_Big)\n\nBig.strict = true\n\nconst toSignificantRounding = {\n  [Rounding.ROUND_DOWN]: Decimal.ROUND_DOWN,\n  [Rounding.ROUND_HALF_UP]: Decimal.ROUND_HALF_UP,\n  [Rounding.ROUND_UP]: Decimal.ROUND_UP\n}\n\nconst toFixedRounding = {\n  [Rounding.ROUND_DOWN]: RoundingMode.RoundDown,\n  [Rounding.ROUND_HALF_UP]: RoundingMode.RoundHalfUp,\n  [Rounding.ROUND_UP]: RoundingMode.RoundUp\n}\n\nexport class Fraction {\n  public readonly numerator: JSBI\n  public readonly denominator: JSBI\n\n  public constructor(numerator: BigintIsh, denominator: BigintIsh = JSBI.BigInt(1)) {\n    this.numerator = JSBI.BigInt(numerator)\n    this.denominator = JSBI.BigInt(denominator)\n  }\n\n  private static tryParseFraction(fractionish: BigintIsh | Fraction): Fraction {\n    if (fractionish instanceof JSBI || typeof fractionish === 'number' || typeof fractionish === 'string')\n      return new Fraction(fractionish)\n\n    if ('numerator' in fractionish && 'denominator' in fractionish) return fractionish\n    throw new Error('Could not parse fraction')\n  }\n\n  // performs floor division\n  public get quotient(): JSBI {\n    return JSBI.divide(this.numerator, this.denominator)\n  }\n\n  // remainder after floor division\n  public get remainder(): Fraction {\n    return new Fraction(JSBI.remainder(this.numerator, this.denominator), this.denominator)\n  }\n\n  public invert(): Fraction {\n    return new Fraction(this.denominator, this.numerator)\n  }\n\n  public add(other: Fraction | BigintIsh): Fraction {\n    const otherParsed = Fraction.tryParseFraction(other)\n    if (JSBI.equal(this.denominator, otherParsed.denominator)) {\n      return new Fraction(JSBI.add(this.numerator, otherParsed.numerator), this.denominator)\n    }\n    return new Fraction(\n      JSBI.add(\n        JSBI.multiply(this.numerator, otherParsed.denominator),\n        JSBI.multiply(otherParsed.numerator, this.denominator)\n      ),\n      JSBI.multiply(this.denominator, otherParsed.denominator)\n    )\n  }\n\n  public subtract(other: Fraction | BigintIsh): Fraction {\n    const otherParsed = Fraction.tryParseFraction(other)\n    if (JSBI.equal(this.denominator, otherParsed.denominator)) {\n      return new Fraction(JSBI.subtract(this.numerator, otherParsed.numerator), this.denominator)\n    }\n    return new Fraction(\n      JSBI.subtract(\n        JSBI.multiply(this.numerator, otherParsed.denominator),\n        JSBI.multiply(otherParsed.numerator, this.denominator)\n      ),\n      JSBI.multiply(this.denominator, otherParsed.denominator)\n    )\n  }\n\n  public lessThan(other: Fraction | BigintIsh): boolean {\n    const otherParsed = Fraction.tryParseFraction(other)\n    return JSBI.lessThan(\n      JSBI.multiply(this.numerator, otherParsed.denominator),\n      JSBI.multiply(otherParsed.numerator, this.denominator)\n    )\n  }\n\n  public equalTo(other: Fraction | BigintIsh): boolean {\n    const otherParsed = Fraction.tryParseFraction(other)\n    return JSBI.equal(\n      JSBI.multiply(this.numerator, otherParsed.denominator),\n      JSBI.multiply(otherParsed.numerator, this.denominator)\n    )\n  }\n\n  public greaterThan(other: Fraction | BigintIsh): boolean {\n    const otherParsed = Fraction.tryParseFraction(other)\n    return JSBI.greaterThan(\n      JSBI.multiply(this.numerator, otherParsed.denominator),\n      JSBI.multiply(otherParsed.numerator, this.denominator)\n    )\n  }\n\n  public multiply(other: Fraction | BigintIsh): Fraction {\n    const otherParsed = Fraction.tryParseFraction(other)\n    return new Fraction(\n      JSBI.multiply(this.numerator, otherParsed.numerator),\n      JSBI.multiply(this.denominator, otherParsed.denominator)\n    )\n  }\n\n  public divide(other: Fraction | BigintIsh): Fraction {\n    const otherParsed = Fraction.tryParseFraction(other)\n    return new Fraction(\n      JSBI.multiply(this.numerator, otherParsed.denominator),\n      JSBI.multiply(this.denominator, otherParsed.numerator)\n    )\n  }\n\n  public toSignificant(\n    significantDigits: number,\n    format: object = { groupSeparator: '' },\n    rounding: Rounding = Rounding.ROUND_HALF_UP\n  ): string {\n    invariant(Number.isInteger(significantDigits), `${significantDigits} is not an integer.`)\n    invariant(significantDigits > 0, `${significantDigits} is not positive.`)\n\n    Decimal.set({\n      precision: significantDigits + 1,\n      rounding: toSignificantRounding[rounding]\n    })\n    const quotient = new Decimal(this.numerator.toString())\n      .div(this.denominator.toString())\n      .toSignificantDigits(significantDigits)\n    return quotient.toFormat(quotient.decimalPlaces(), format)\n  }\n\n  public toFixed(\n    decimalPlaces: number,\n    format: object = { groupSeparator: '' },\n    rounding: Rounding = Rounding.ROUND_HALF_UP\n  ): string {\n    invariant(Number.isInteger(decimalPlaces), `${decimalPlaces} is not an integer.`)\n    invariant(decimalPlaces >= 0, `${decimalPlaces} is negative.`)\n\n    Big.DP = decimalPlaces\n    Big.RM = toFixedRounding[rounding]\n    return new Big(this.numerator.toString()).div(this.denominator.toString()).toFormat(decimalPlaces, format)\n  }\n\n  /**\n   * Helper method for converting any super class back to a fraction\n   */\n  public get asFraction(): Fraction {\n    return new Fraction(this.numerator, this.denominator)\n  }\n}\n","import { BigintIsh } from '../types'\nimport { Currency } from './Currency'\nimport { Fraction } from './Fraction'\nimport JSBI from 'jsbi'\nimport { MaxUint256 } from '../constants'\nimport { Rounding } from '../enums'\nimport { Token } from './Token'\nimport _Big from 'big.js'\nimport invariant from 'tiny-invariant'\nimport toFormat from 'toformat'\n\nconst Big = toFormat(_Big)\n\nBig.strict = true\n\nexport class CurrencyAmount<T extends Currency> extends Fraction {\n  public readonly currency: T\n  public readonly decimalScale: JSBI\n\n  /**\n   * Returns a new currency amount instance from the unitless amount of token, i.e. the raw amount\n   * @param currency the currency in the amount\n   * @param rawAmount the raw token or ether amount\n   */\n  public static fromRawAmount<T extends Currency>(currency: T, rawAmount: BigintIsh): CurrencyAmount<T> {\n    return new CurrencyAmount(currency, rawAmount)\n  }\n\n  /**\n   * Construct a currency amount with a denominator that is not equal to 1\n   * @param currency the currency\n   * @param numerator the numerator of the fractional token amount\n   * @param denominator the denominator of the fractional token amount\n   */\n  public static fromFractionalAmount<T extends Currency>(\n    currency: T,\n    numerator: BigintIsh,\n    denominator: BigintIsh\n  ): CurrencyAmount<T> {\n    return new CurrencyAmount(currency, numerator, denominator)\n  }\n\n  protected constructor(currency: T, numerator: BigintIsh, denominator?: BigintIsh) {\n    super(numerator, denominator)\n    invariant(JSBI.lessThanOrEqual(this.quotient, MaxUint256), 'AMOUNT')\n    this.currency = currency\n    this.decimalScale = JSBI.exponentiate(JSBI.BigInt(10), JSBI.BigInt(currency.decimals))\n  }\n\n  public add(other: CurrencyAmount<T>): CurrencyAmount<T> {\n    invariant(this.currency.equals(other.currency), 'CURRENCY')\n    const added = super.add(other)\n    return CurrencyAmount.fromFractionalAmount(this.currency, added.numerator, added.denominator)\n  }\n\n  public subtract(other: CurrencyAmount<T>): CurrencyAmount<T> {\n    invariant(this.currency.equals(other.currency), 'CURRENCY')\n    const subtracted = super.subtract(other)\n    return CurrencyAmount.fromFractionalAmount(this.currency, subtracted.numerator, subtracted.denominator)\n  }\n\n  public multiply(other: Fraction | BigintIsh): CurrencyAmount<T> {\n    const multiplied = super.multiply(other)\n    return CurrencyAmount.fromFractionalAmount(this.currency, multiplied.numerator, multiplied.denominator)\n  }\n\n  public divide(other: Fraction | BigintIsh): CurrencyAmount<T> {\n    const divided = super.divide(other)\n    return CurrencyAmount.fromFractionalAmount(this.currency, divided.numerator, divided.denominator)\n  }\n\n  public toSignificant(\n    significantDigits: number = 6,\n    format?: object,\n    rounding: Rounding = Rounding.ROUND_DOWN\n  ): string {\n    return super.divide(this.decimalScale).toSignificant(significantDigits, format, rounding)\n  }\n\n  public toFixed(\n    decimalPlaces: number = this.currency.decimals,\n    format?: object,\n    rounding: Rounding = Rounding.ROUND_DOWN\n  ): string {\n    invariant(decimalPlaces <= this.currency.decimals, 'DECIMALS')\n    return super.divide(this.decimalScale).toFixed(decimalPlaces, format, rounding)\n  }\n\n  public toExact(format: object = { groupSeparator: '' }): string {\n    Big.DP = this.currency.decimals\n    return new Big(this.quotient.toString()).div(this.decimalScale.toString()).toFormat(format)\n  }\n\n  public get wrapped(): CurrencyAmount<Token> {\n    if (this.currency.isToken) return this as CurrencyAmount<Token>\n    return CurrencyAmount.fromFractionalAmount(this.currency.wrapped, this.numerator, this.denominator)\n  }\n}\n","import { BigintIsh } from '../types'\nimport { Currency } from './Currency'\nimport { CurrencyAmount } from './CurrencyAmount'\nimport { Fraction } from './Fraction'\nimport JSBI from 'jsbi'\nimport { Rounding } from '../enums'\nimport invariant from 'tiny-invariant'\n\nexport class Price<TBase extends Currency, TQuote extends Currency> extends Fraction {\n  public readonly baseCurrency: TBase // input i.e. denominator\n  public readonly quoteCurrency: TQuote // output i.e. numerator\n  public readonly scalar: Fraction // used to adjust the raw fraction w/r/t the decimals of the {base,quote}Token\n\n  /**\n   * Construct a price, either with the base and quote currency amount, or the\n   * @param args\n   */\n  public constructor(\n    ...args:\n      | [TBase, TQuote, BigintIsh, BigintIsh]\n      | [\n          {\n            baseAmount: CurrencyAmount<TBase>\n            quoteAmount: CurrencyAmount<TQuote>\n          }\n        ]\n  ) {\n    let baseCurrency: TBase, quoteCurrency: TQuote, denominator: BigintIsh, numerator: BigintIsh\n\n    if (args.length === 4) {\n      ;[baseCurrency, quoteCurrency, denominator, numerator] = args\n    } else {\n      const result = args[0].quoteAmount.divide(args[0].baseAmount)\n      ;[baseCurrency, quoteCurrency, denominator, numerator] = [\n        args[0].baseAmount.currency,\n        args[0].quoteAmount.currency,\n        result.denominator,\n        result.numerator\n      ]\n    }\n    super(numerator, denominator)\n\n    this.baseCurrency = baseCurrency\n    this.quoteCurrency = quoteCurrency\n    this.scalar = new Fraction(\n      JSBI.exponentiate(JSBI.BigInt(10), JSBI.BigInt(baseCurrency.decimals)),\n      JSBI.exponentiate(JSBI.BigInt(10), JSBI.BigInt(quoteCurrency.decimals))\n    )\n  }\n\n  /**\n   * Flip the price, switching the base and quote currency\n   */\n  public invert(): Price<TQuote, TBase> {\n    return new Price(this.quoteCurrency, this.baseCurrency, this.numerator, this.denominator)\n  }\n\n  /**\n   * Multiply the price by another price, returning a new price. The other price must have the same base currency as this price's quote currency\n   * @param other the other price\n   */\n  public multiply<TOtherQuote extends Currency>(other: Price<TQuote, TOtherQuote>): Price<TBase, TOtherQuote> {\n    invariant(this.quoteCurrency.equals(other.baseCurrency), 'TOKEN')\n    const fraction = super.multiply(other)\n    return new Price(this.baseCurrency, other.quoteCurrency, fraction.denominator, fraction.numerator)\n  }\n\n  /**\n   * Return the amount of quote currency corresponding to a given amount of the base currency\n   * @param currencyAmount the amount of base currency to quote against the price\n   */\n  public quote(currencyAmount: CurrencyAmount<TBase>): CurrencyAmount<TQuote> {\n    invariant(currencyAmount.currency.equals(this.baseCurrency), 'TOKEN')\n    const result = super.multiply(currencyAmount)\n    return CurrencyAmount.fromFractionalAmount(this.quoteCurrency, result.numerator, result.denominator)\n  }\n\n  /**\n   * Get the value scaled by decimals for formatting\n   * @private\n   */\n  private get adjustedForDecimals(): Fraction {\n    return super.multiply(this.scalar)\n  }\n\n  public toSignificant(significantDigits: number = 6, format?: object, rounding?: Rounding): string {\n    return this.adjustedForDecimals.toSignificant(significantDigits, format, rounding)\n  }\n\n  public toFixed(decimalPlaces: number = 4, format?: object, rounding?: Rounding): string {\n    return this.adjustedForDecimals.toFixed(decimalPlaces, format, rounding)\n  }\n}\n","import { keccak256, pack } from '@ethersproject/solidity'\n\n// import { INIT_CODE_HASH } from '../constants'\nimport { Token } from '../entities'\nimport { getCreate2Address } from '@ethersproject/address'\nimport { initCodeHashOf } from './determiner'\nimport { Exchanger } from '../enums/Exchanger'\n\nexport const computePairAddress = ({\n  factoryAddress,\n  tokenA,\n  tokenB,\n  isConveyorPair = false\n}: {\n  factoryAddress: string\n  tokenA: Token\n  tokenB: Token\n  isConveyorPair: boolean\n}): string => {\n  const [token0, token1] = tokenA.sortsBefore(tokenB) ? [tokenA, tokenB] : [tokenB, tokenA] // does safety checks\n  const exchanger = !isConveyorPair ? Exchanger.SUSHI : Exchanger.CONVEYOR\n  return getCreate2Address(\n    factoryAddress,\n    keccak256(['bytes'], [pack(['address', 'address'], [token0.address, token1.address])]),\n    // INIT_CODE_HASH\n    initCodeHashOf(exchanger)\n  )\n}\n","import { FACTORY_ADDRESS, INIT_CODE_HASH, LIQUIDITY_TOKEN_IDENTITY } from '../constants'\nimport { ChainId, Environment, Exchanger, TokenType } from '../enums'\n\n/**\n * Determine the factory address of the selected exchanger\n * @param chainId\n * @param env Environment. Default to staging.\n * @returns Factory address\n */\nexport function factoryAddressOf(\n  chainId: ChainId,\n  env: Environment = Environment.STAGING\n): string {\n  return FACTORY_ADDRESS[env][chainId]\n}\n\n/**\n * Determine the init code hash of the selected exchanger\n * @param exchanger Default to Sushiswap\n * @returns Init code hash\n * @deprecated\n */\nexport function initCodeHashOf(exchanger: Exchanger = Exchanger.SUSHI): string {\n  return INIT_CODE_HASH[exchanger]\n}\n\n/**\n * Determine the token symbol and name of the selected liquidity pair type\n * @param type Default to Uniswap token\n * @returns [{token symbol}, {token name}]\n * @deprecated\n */\nexport function tokenIdentityOf(type: TokenType = TokenType.UNISWAP): string[] {\n  return LIQUIDITY_TOKEN_IDENTITY[type]\n}\n","import JSBI from 'jsbi'\nimport invariant from 'tiny-invariant'\n\nexport const MAX_SAFE_INTEGER = JSBI.BigInt(Number.MAX_SAFE_INTEGER)\n\nconst ZERO = JSBI.BigInt(0)\nconst ONE = JSBI.BigInt(1)\nconst TWO = JSBI.BigInt(2)\n\n/**\n * Computes floor(sqrt(value))\n * @param value the value for which to compute the square root, rounded down\n */\nexport function sqrt(value: JSBI): JSBI {\n  invariant(JSBI.greaterThanOrEqual(value, ZERO), 'NEGATIVE')\n\n  // rely on built in sqrt if possible\n  if (JSBI.lessThan(value, MAX_SAFE_INTEGER)) {\n    return JSBI.BigInt(Math.floor(Math.sqrt(JSBI.toNumber(value))))\n  }\n\n  let z: JSBI\n  let x: JSBI\n  z = value\n  x = JSBI.add(JSBI.divide(value, TWO), ONE)\n  while (JSBI.lessThan(x, z)) {\n    z = x\n    x = JSBI.divide(JSBI.add(JSBI.divide(value, x), x), TWO)\n  }\n  return z\n}\n","import { /*FACTORY_ADDRESS,*/ FIVE, MINIMUM_LIQUIDITY, ONE, ZERO, _1000, _997 } from '../constants'\nimport { InsufficientInputAmountError, InsufficientReservesError } from '../errors'\n\nimport { BigintIsh } from '../types'\nimport { CurrencyAmount } from './CurrencyAmount'\nimport JSBI from 'jsbi'\nimport { Price } from './Price'\nimport { Token } from './Token'\nimport { computePairAddress } from '../functions/computePairAddress'\nimport invariant from 'tiny-invariant'\nimport { sqrt } from '../functions/sqrt'\nimport { factoryAddressOf, tokenIdentityOf } from '../functions/determiner'\nimport { TokenType } from '../enums/Liquidity'\nimport { Environment } from '../enums/Environment'\n\nexport class Pair {\n  public readonly liquidityToken: Token\n  private readonly tokenAmounts: [CurrencyAmount<Token>, CurrencyAmount<Token>]\n\n  public static getAddress(tokenA: Token, tokenB: Token, isConveyorPair: boolean = false, conveyorEnvIsProduction: boolean|undefined = undefined): string {\n    const env = conveyorEnvIsProduction ? Environment.PRODUCTION : Environment.STAGING\n    const factoryAddress = factoryAddressOf(tokenA.chainId, env)\n    return computePairAddress({\n      factoryAddress,\n      tokenA,\n      tokenB,\n      isConveyorPair\n    })\n  }\n\n  public constructor(currencyAmountA: CurrencyAmount<Token>, currencyAmountB: CurrencyAmount<Token>, isConveyorPair: boolean = false, conveyorEnvIsProduction: boolean|undefined = undefined) {\n    const currencyAmounts = currencyAmountA.currency.sortsBefore(currencyAmountB.currency) // does safety checks\n      ? [currencyAmountA, currencyAmountB]\n      : [currencyAmountB, currencyAmountA]\n    const [tokenSymbol, tokenName] = tokenIdentityOf(!isConveyorPair ? TokenType.UNISWAP : TokenType.CONVEYOR)\n    this.liquidityToken = new Token(\n      currencyAmounts[0].currency.chainId,\n      Pair.getAddress(currencyAmounts[0].currency, currencyAmounts[1].currency, isConveyorPair, conveyorEnvIsProduction),\n      18,\n      // 'UNI-V2',\n      // 'Uniswap V2'\n      tokenSymbol,\n      tokenName\n    )\n    this.tokenAmounts = currencyAmounts as [CurrencyAmount<Token>, CurrencyAmount<Token>]\n  }\n\n  /**\n   * Returns true if the token is either token0 or token1\n   * @param token to check\n   */\n  public involvesToken(token: Token): boolean {\n    return token.equals(this.token0) || token.equals(this.token1)\n  }\n\n  /**\n   * Returns the current mid price of the pair in terms of token0, i.e. the ratio of reserve1 to reserve0\n   */\n  public get token0Price(): Price<Token, Token> {\n    const result = this.tokenAmounts[1].divide(this.tokenAmounts[0])\n    return new Price(this.token0, this.token1, result.denominator, result.numerator)\n  }\n\n  /**\n   * Returns the current mid price of the pair in terms of token1, i.e. the ratio of reserve0 to reserve1\n   */\n  public get token1Price(): Price<Token, Token> {\n    const result = this.tokenAmounts[0].divide(this.tokenAmounts[1])\n    return new Price(this.token1, this.token0, result.denominator, result.numerator)\n  }\n\n  /**\n   * Return the price of the given token in terms of the other token in the pair.\n   * @param token token to return price of\n   */\n  public priceOf(token: Token): Price<Token, Token> {\n    invariant(this.involvesToken(token), 'TOKEN')\n    return token.equals(this.token0) ? this.token0Price : this.token1Price\n  }\n\n  /**\n   * Returns the chain ID of the tokens in the pair.\n   */\n  public get chainId(): number {\n    return this.token0.chainId\n  }\n\n  public get token0(): Token {\n    return this.tokenAmounts[0].currency\n  }\n\n  public get token1(): Token {\n    return this.tokenAmounts[1].currency\n  }\n\n  public get reserve0(): CurrencyAmount<Token> {\n    return this.tokenAmounts[0]\n  }\n\n  public get reserve1(): CurrencyAmount<Token> {\n    return this.tokenAmounts[1]\n  }\n\n  public reserveOf(token: Token): CurrencyAmount<Token> {\n    invariant(this.involvesToken(token), 'TOKEN')\n    return token.equals(this.token0) ? this.reserve0 : this.reserve1\n  }\n\n  public getOutputAmount(inputAmount: CurrencyAmount<Token>): [CurrencyAmount<Token>, Pair] {\n    invariant(this.involvesToken(inputAmount.currency), 'TOKEN')\n    if (JSBI.equal(this.reserve0.quotient, ZERO) || JSBI.equal(this.reserve1.quotient, ZERO)) {\n      throw new InsufficientReservesError()\n    }\n    const inputReserve = this.reserveOf(inputAmount.currency)\n    const outputReserve = this.reserveOf(inputAmount.currency.equals(this.token0) ? this.token1 : this.token0)\n    const inputAmountWithFee = JSBI.multiply(inputAmount.quotient, _997)\n    const numerator = JSBI.multiply(inputAmountWithFee, outputReserve.quotient)\n    const denominator = JSBI.add(JSBI.multiply(inputReserve.quotient, _1000), inputAmountWithFee)\n    const outputAmount = CurrencyAmount.fromRawAmount(\n      inputAmount.currency.equals(this.token0) ? this.token1 : this.token0,\n      JSBI.divide(numerator, denominator)\n    )\n    if (JSBI.equal(outputAmount.quotient, ZERO)) {\n      throw new InsufficientInputAmountError()\n    }\n    return [outputAmount, new Pair(inputReserve.add(inputAmount), outputReserve.subtract(outputAmount))]\n  }\n\n  public getInputAmount(outputAmount: CurrencyAmount<Token>): [CurrencyAmount<Token>, Pair] {\n    invariant(this.involvesToken(outputAmount.currency), 'TOKEN')\n    if (\n      JSBI.equal(this.reserve0.quotient, ZERO) ||\n      JSBI.equal(this.reserve1.quotient, ZERO) ||\n      JSBI.greaterThanOrEqual(outputAmount.quotient, this.reserveOf(outputAmount.currency).quotient)\n    ) {\n      throw new InsufficientReservesError()\n    }\n\n    const outputReserve = this.reserveOf(outputAmount.currency)\n    const inputReserve = this.reserveOf(outputAmount.currency.equals(this.token0) ? this.token1 : this.token0)\n    const numerator = JSBI.multiply(JSBI.multiply(inputReserve.quotient, outputAmount.quotient), _1000)\n    const denominator = JSBI.multiply(JSBI.subtract(outputReserve.quotient, outputAmount.quotient), _997)\n    const inputAmount = CurrencyAmount.fromRawAmount(\n      outputAmount.currency.equals(this.token0) ? this.token1 : this.token0,\n      JSBI.add(JSBI.divide(numerator, denominator), ONE)\n    )\n    return [inputAmount, new Pair(inputReserve.add(inputAmount), outputReserve.subtract(outputAmount))]\n  }\n\n  public getLiquidityMinted(\n    totalSupply: CurrencyAmount<Token>,\n    tokenAmountA: CurrencyAmount<Token>,\n    tokenAmountB: CurrencyAmount<Token>\n  ): CurrencyAmount<Token> {\n    invariant(totalSupply.currency.equals(this.liquidityToken), 'LIQUIDITY')\n    const tokenAmounts = tokenAmountA.currency.sortsBefore(tokenAmountB.currency) // does safety checks\n      ? [tokenAmountA, tokenAmountB]\n      : [tokenAmountB, tokenAmountA]\n    invariant(tokenAmounts[0].currency.equals(this.token0) && tokenAmounts[1].currency.equals(this.token1), 'TOKEN')\n\n    let liquidity: JSBI\n    if (JSBI.equal(totalSupply.quotient, ZERO)) {\n      liquidity = JSBI.subtract(\n        sqrt(JSBI.multiply(tokenAmounts[0].quotient, tokenAmounts[1].quotient)),\n        MINIMUM_LIQUIDITY\n      )\n    } else {\n      const amount0 = JSBI.divide(JSBI.multiply(tokenAmounts[0].quotient, totalSupply.quotient), this.reserve0.quotient)\n      const amount1 = JSBI.divide(JSBI.multiply(tokenAmounts[1].quotient, totalSupply.quotient), this.reserve1.quotient)\n      liquidity = JSBI.lessThanOrEqual(amount0, amount1) ? amount0 : amount1\n    }\n    if (!JSBI.greaterThan(liquidity, ZERO)) {\n      throw new InsufficientInputAmountError()\n    }\n    return CurrencyAmount.fromRawAmount(this.liquidityToken, liquidity)\n  }\n\n  public getLiquidityValue(\n    token: Token,\n    totalSupply: CurrencyAmount<Token>,\n    liquidity: CurrencyAmount<Token>,\n    feeOn: boolean = false,\n    kLast?: BigintIsh\n  ): CurrencyAmount<Token> {\n    invariant(this.involvesToken(token), 'TOKEN')\n    invariant(totalSupply.currency.equals(this.liquidityToken), 'TOTAL_SUPPLY')\n    invariant(liquidity.currency.equals(this.liquidityToken), 'LIQUIDITY')\n    invariant(JSBI.lessThanOrEqual(liquidity.quotient, totalSupply.quotient), 'LIQUIDITY')\n\n    let totalSupplyAdjusted: CurrencyAmount<Token>\n    if (!feeOn) {\n      totalSupplyAdjusted = totalSupply\n    } else {\n      invariant(!!kLast, 'K_LAST')\n      const kLastParsed = JSBI.BigInt(kLast)\n      if (!JSBI.equal(kLastParsed, ZERO)) {\n        const rootK = sqrt(JSBI.multiply(this.reserve0.quotient, this.reserve1.quotient))\n        const rootKLast = sqrt(kLastParsed)\n        if (JSBI.greaterThan(rootK, rootKLast)) {\n          const numerator = JSBI.multiply(totalSupply.quotient, JSBI.subtract(rootK, rootKLast))\n          const denominator = JSBI.add(JSBI.multiply(rootK, FIVE), rootKLast)\n          const feeLiquidity = JSBI.divide(numerator, denominator)\n          totalSupplyAdjusted = totalSupply.add(CurrencyAmount.fromRawAmount(this.liquidityToken, feeLiquidity))\n        } else {\n          totalSupplyAdjusted = totalSupply\n        }\n      } else {\n        totalSupplyAdjusted = totalSupply\n      }\n    }\n\n    return CurrencyAmount.fromRawAmount(\n      token,\n      JSBI.divide(JSBI.multiply(liquidity.quotient, this.reserveOf(token).quotient), totalSupplyAdjusted.quotient)\n    )\n  }\n}\n","import { BigintIsh } from '../types'\nimport { Fraction } from './Fraction'\nimport JSBI from 'jsbi'\nimport { Rounding } from '../enums'\n\nconst ONE_HUNDRED = new Fraction(JSBI.BigInt(100))\n\n/**\n * Converts a fraction to a percent\n * @param fraction the fraction to convert\n */\nfunction toPercent(fraction: Fraction): Percent {\n  return new Percent(fraction.numerator, fraction.denominator)\n}\n\nexport class Percent extends Fraction {\n  /**\n   * This boolean prevents a fraction from being interpreted as a Percent\n   */\n  public readonly isPercent: true = true\n\n  add(other: Fraction | BigintIsh): Percent {\n    return toPercent(super.add(other))\n  }\n\n  subtract(other: Fraction | BigintIsh): Percent {\n    return toPercent(super.subtract(other))\n  }\n\n  multiply(other: Fraction | BigintIsh): Percent {\n    return toPercent(super.multiply(other))\n  }\n\n  divide(other: Fraction | BigintIsh): Percent {\n    return toPercent(super.divide(other))\n  }\n\n  public toSignificant(significantDigits: number = 5, format?: object, rounding?: Rounding): string {\n    return super.multiply(ONE_HUNDRED).toSignificant(significantDigits, format, rounding)\n  }\n\n  public toFixed(decimalPlaces: number = 2, format?: object, rounding?: Rounding): string {\n    return super.multiply(ONE_HUNDRED).toFixed(decimalPlaces, format, rounding)\n  }\n}\n","import { Currency } from './Currency'\nimport { Pair } from './Pair'\nimport { Price } from './Price'\nimport { Token } from './Token'\nimport invariant from 'tiny-invariant'\n\nexport class Route<TInput extends Currency, TOutput extends Currency> {\n  public readonly pairs: Pair[]\n  public readonly path: Token[]\n  public readonly input: TInput\n  public readonly output: TOutput\n\n  public constructor(pairs: Pair[], input: TInput, output: TOutput) {\n    invariant(pairs.length > 0, 'PAIRS')\n    const chainId: number = pairs[0].chainId\n    invariant(\n      pairs.every(pair => pair.chainId === chainId),\n      'CHAIN_IDS'\n    )\n\n    const wrappedInput = input.wrapped\n    invariant(pairs[0].involvesToken(wrappedInput), 'INPUT')\n    invariant(typeof output === 'undefined' || pairs[pairs.length - 1].involvesToken(output.wrapped), 'OUTPUT')\n\n    const path: Token[] = [wrappedInput]\n    for (const [i, pair] of pairs.entries()) {\n      const currentInput = path[i]\n      invariant(currentInput.equals(pair.token0) || currentInput.equals(pair.token1), 'PATH')\n      const output = currentInput.equals(pair.token0) ? pair.token1 : pair.token0\n      path.push(output)\n    }\n\n    this.pairs = pairs\n    this.path = path\n    this.input = input\n    this.output = output\n  }\n\n  private _midPrice: Price<TInput, TOutput> | null = null\n\n  public get midPrice(): Price<TInput, TOutput> {\n    if (this._midPrice !== null) return this._midPrice\n    const prices: Price<Currency, Currency>[] = []\n    for (const [i, pair] of this.pairs.entries()) {\n      prices.push(\n        this.path[i].equals(pair.token0)\n          ? new Price(pair.reserve0.currency, pair.reserve1.currency, pair.reserve0.quotient, pair.reserve1.quotient)\n          : new Price(pair.reserve1.currency, pair.reserve0.currency, pair.reserve1.quotient, pair.reserve0.quotient)\n      )\n    }\n    const reduced = prices.slice(1).reduce((accumulator, currentValue) => accumulator.multiply(currentValue), prices[0])\n    return (this._midPrice = new Price(this.input, this.output, reduced.denominator, reduced.numerator))\n  }\n\n  public get chainId(): number {\n    return this.pairs[0].chainId\n  }\n}\n","import { Currency } from '../entities/Currency'\nimport { CurrencyAmount } from '../entities/CurrencyAmount'\nimport { Percent } from '../entities/Percent'\nimport { Price } from '../entities/Price'\n/**\n * Returns the percent difference between the mid price and the execution price, i.e. price impact.\n * @param midPrice mid price before the trade\n * @param inputAmount the input amount of the trade\n * @param outputAmount the output amount of the trade\n */\nexport function computePriceImpact<TBase extends Currency, TQuote extends Currency>(\n  midPrice: Price<TBase, TQuote>,\n  inputAmount: CurrencyAmount<TBase>,\n  outputAmount: CurrencyAmount<TQuote>\n): Percent {\n  const quotedOutputAmount = midPrice.quote(inputAmount)\n  // calculate price impact := (exactQuote - outputAmount) / exactQuote\n  const priceImpact = quotedOutputAmount.subtract(outputAmount).divide(quotedOutputAmount)\n  return new Percent(priceImpact.numerator, priceImpact.denominator)\n}\n","import invariant from 'tiny-invariant'\n\n// given an array of items sorted by `comparator`, insert an item into its sort index and constrain the size to\n// `maxSize` by removing the last item\nexport function sortedInsert<T>(items: T[], add: T, maxSize: number, comparator: (a: T, b: T) => number): T | null {\n  invariant(maxSize > 0, 'MAX_SIZE_ZERO')\n  // this is an invariant because the interface cannot return multiple removed items if items.length exceeds maxSize\n  invariant(items.length <= maxSize, 'ITEMS_SIZE')\n\n  // short circuit first item add\n  if (items.length === 0) {\n    items.push(add)\n    return null\n  } else {\n    const isFull = items.length === maxSize\n    // short circuit if full and the additional item does not come before the last item\n    if (isFull && comparator(items[items.length - 1], add) <= 0) {\n      return add\n    }\n\n    let lo = 0,\n      hi = items.length\n\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1\n      if (comparator(items[mid], add) <= 0) {\n        lo = mid + 1\n      } else {\n        hi = mid\n      }\n    }\n    items.splice(lo, 0, add)\n    return isFull ? items.pop()! : null\n  }\n}\n","import { ONE, ZERO } from '../constants'\n\nimport { Currency } from './Currency'\nimport { CurrencyAmount } from './CurrencyAmount'\nimport { Fraction } from './Fraction'\nimport { Pair } from './Pair'\nimport { Percent } from './Percent'\nimport { Price } from './Price'\nimport { Route } from './Route'\nimport { Token } from './Token'\nimport { TradeType } from '../enums'\nimport { computePriceImpact } from '../functions/computePriceImpact'\nimport invariant from 'tiny-invariant'\nimport { sortedInsert } from '../functions/sortedInsert'\n\n// minimal interface so the input output comparator may be shared across types\ninterface InputOutput<TInput extends Currency, TOutput extends Currency> {\n  readonly inputAmount: CurrencyAmount<TInput>\n  readonly outputAmount: CurrencyAmount<TOutput>\n}\n\n// comparator function that allows sorting trades by their output amounts, in decreasing order, and then input amounts\n// in increasing order. i.e. the best trades have the most outputs for the least inputs and are sorted first\nexport function inputOutputComparator<TInput extends Currency, TOutput extends Currency>(\n  a: InputOutput<TInput, TOutput>,\n  b: InputOutput<TInput, TOutput>\n): number {\n  // must have same input and output token for comparison\n  invariant(a.inputAmount.currency.equals(b.inputAmount.currency), 'INPUT_CURRENCY')\n  invariant(a.outputAmount.currency.equals(b.outputAmount.currency), 'OUTPUT_CURRENCY')\n  if (a.outputAmount.equalTo(b.outputAmount)) {\n    if (a.inputAmount.equalTo(b.inputAmount)) {\n      return 0\n    }\n    // trade A requires less input than trade B, so A should come first\n    if (a.inputAmount.lessThan(b.inputAmount)) {\n      return -1\n    } else {\n      return 1\n    }\n  } else {\n    // tradeA has less output than trade B, so should come second\n    if (a.outputAmount.lessThan(b.outputAmount)) {\n      return 1\n    } else {\n      return -1\n    }\n  }\n}\n\n// extension of the input output comparator that also considers other dimensions of the trade in ranking them\nexport function tradeComparator<TInput extends Currency, TOutput extends Currency, TTradeType extends TradeType>(\n  a: Trade<TInput, TOutput, TTradeType>,\n  b: Trade<TInput, TOutput, TTradeType>\n) {\n  const ioComp = inputOutputComparator(a, b)\n  if (ioComp !== 0) {\n    return ioComp\n  }\n\n  // consider lowest slippage next, since these are less likely to fail\n  if (a.priceImpact.lessThan(b.priceImpact)) {\n    return -1\n  } else if (a.priceImpact.greaterThan(b.priceImpact)) {\n    return 1\n  }\n\n  // finally consider the number of hops since each hop costs gas\n  return a.route.path.length - b.route.path.length\n}\n\nexport interface BestTradeOptions {\n  // how many results to return\n  maxNumResults?: number\n  // the maximum number of hops a trade should contain\n  maxHops?: number\n}\n\n/**\n * Represents a trade executed against a list of pairs.\n * Does not account for slippage, i.e. trades that front run this trade and move the price.\n */\nexport class Trade<TInput extends Currency, TOutput extends Currency, TTradeType extends TradeType> {\n  /**\n   * The route of the trade, i.e. which pairs the trade goes through and the input/output currencies.\n   */\n  public readonly route: Route<TInput, TOutput>\n  /**\n   * The type of the trade, either exact in or exact out.\n   */\n  public readonly tradeType: TTradeType\n  /**\n   * The input amount for the trade assuming no slippage.\n   */\n  public readonly inputAmount: CurrencyAmount<TInput>\n  /**\n   * The output amount for the trade assuming no slippage.\n   */\n  public readonly outputAmount: CurrencyAmount<TOutput>\n  /**\n   * The price expressed in terms of output amount/input amount.\n   */\n  public readonly executionPrice: Price<TInput, TOutput>\n  /**\n   * The percent difference between the mid price before the trade and the trade execution price.\n   */\n  public readonly priceImpact: Percent\n\n  /**\n   * Constructs an exact in trade with the given amount in and route\n   * @param route route of the exact in trade\n   * @param amountIn the amount being passed in\n   */\n  public static exactIn<TInput extends Currency, TOutput extends Currency>(\n    route: Route<TInput, TOutput>,\n    amountIn: CurrencyAmount<TInput>\n  ): Trade<TInput, TOutput, TradeType.EXACT_INPUT> {\n    return new Trade(route, amountIn, TradeType.EXACT_INPUT)\n  }\n\n  /**\n   * Constructs an exact out trade with the given amount out and route\n   * @param route route of the exact out trade\n   * @param amountOut the amount returned by the trade\n   */\n  public static exactOut<TInput extends Currency, TOutput extends Currency>(\n    route: Route<TInput, TOutput>,\n    amountOut: CurrencyAmount<TOutput>\n  ): Trade<TInput, TOutput, TradeType.EXACT_OUTPUT> {\n    return new Trade(route, amountOut, TradeType.EXACT_OUTPUT)\n  }\n\n  public constructor(\n    route: Route<TInput, TOutput>,\n    amount: TTradeType extends TradeType.EXACT_INPUT ? CurrencyAmount<TInput> : CurrencyAmount<TOutput>,\n    tradeType: TTradeType\n  ) {\n    this.route = route\n    this.tradeType = tradeType\n\n    const tokenAmounts: CurrencyAmount<Token>[] = new Array(route.path.length)\n    if (tradeType === TradeType.EXACT_INPUT) {\n      invariant(amount.currency.equals(route.input), 'INPUT')\n      tokenAmounts[0] = amount.wrapped\n      for (let i = 0; i < route.path.length - 1; i++) {\n        const pair = route.pairs[i]\n        const [outputAmount] = pair.getOutputAmount(tokenAmounts[i])\n        tokenAmounts[i + 1] = outputAmount\n      }\n      this.inputAmount = CurrencyAmount.fromFractionalAmount(route.input, amount.numerator, amount.denominator)\n      this.outputAmount = CurrencyAmount.fromFractionalAmount(\n        route.output,\n        tokenAmounts[tokenAmounts.length - 1].numerator,\n        tokenAmounts[tokenAmounts.length - 1].denominator\n      )\n    } else {\n      invariant(amount.currency.equals(route.output), 'OUTPUT')\n      tokenAmounts[tokenAmounts.length - 1] = amount.wrapped\n      for (let i = route.path.length - 1; i > 0; i--) {\n        const pair = route.pairs[i - 1]\n        const [inputAmount] = pair.getInputAmount(tokenAmounts[i])\n        tokenAmounts[i - 1] = inputAmount\n      }\n      this.inputAmount = CurrencyAmount.fromFractionalAmount(\n        route.input,\n        tokenAmounts[0].numerator,\n        tokenAmounts[0].denominator\n      )\n      this.outputAmount = CurrencyAmount.fromFractionalAmount(route.output, amount.numerator, amount.denominator)\n    }\n    this.executionPrice = new Price(\n      this.inputAmount.currency,\n      this.outputAmount.currency,\n      this.inputAmount.quotient,\n      this.outputAmount.quotient\n    )\n    this.priceImpact = computePriceImpact(route.midPrice, this.inputAmount, this.outputAmount)\n  }\n\n  /**\n   * Get the minimum amount that must be received from this trade for the given slippage tolerance\n   * @param slippageTolerance tolerance of unfavorable slippage from the execution price of this trade\n   */\n  public minimumAmountOut(slippageTolerance: Percent): CurrencyAmount<TOutput> {\n    invariant(!slippageTolerance.lessThan(ZERO), 'SLIPPAGE_TOLERANCE')\n    if (this.tradeType === TradeType.EXACT_OUTPUT) {\n      return this.outputAmount\n    } else {\n      const slippageAdjustedAmountOut = new Fraction(ONE)\n        .add(slippageTolerance)\n        .invert()\n        .multiply(this.outputAmount.quotient).quotient\n      return CurrencyAmount.fromRawAmount(this.outputAmount.currency, slippageAdjustedAmountOut)\n    }\n  }\n\n  /**\n   * Get the maximum amount in that can be spent via this trade for the given slippage tolerance\n   * @param slippageTolerance tolerance of unfavorable slippage from the execution price of this trade\n   */\n  public maximumAmountIn(slippageTolerance: Percent): CurrencyAmount<TInput> {\n    invariant(!slippageTolerance.lessThan(ZERO), 'SLIPPAGE_TOLERANCE')\n    if (this.tradeType === TradeType.EXACT_INPUT) {\n      return this.inputAmount\n    } else {\n      const slippageAdjustedAmountIn = new Fraction(ONE).add(slippageTolerance).multiply(this.inputAmount.quotient)\n        .quotient\n      return CurrencyAmount.fromRawAmount(this.inputAmount.currency, slippageAdjustedAmountIn)\n    }\n  }\n\n  /**\n   * Given a list of pairs, and a fixed amount in, returns the top `maxNumResults` trades that go from an input token\n   * amount to an output token, making at most `maxHops` hops.\n   * Note this does not consider aggregation, as routes are linear. It's possible a better route exists by splitting\n   * the amount in among multiple routes.\n   * @param pairs the pairs to consider in finding the best trade\n   * @param nextAmountIn exact amount of input currency to spend\n   * @param currencyOut the desired currency out\n   * @param maxNumResults maximum number of results to return\n   * @param maxHops maximum number of hops a returned trade can make, e.g. 1 hop goes through a single pair\n   * @param currentPairs used in recursion; the current list of pairs\n   * @param currencyAmountIn used in recursion; the original value of the currencyAmountIn parameter\n   * @param bestTrades used in recursion; the current list of best trades\n   */\n  public static bestTradeExactIn<TInput extends Currency, TOutput extends Currency>(\n    pairs: Pair[],\n    currencyAmountIn: CurrencyAmount<TInput>,\n    currencyOut: TOutput,\n    { maxNumResults = 3, maxHops = 3 }: BestTradeOptions = {},\n    // used in recursion.\n    currentPairs: Pair[] = [],\n    nextAmountIn: CurrencyAmount<Currency> = currencyAmountIn,\n    bestTrades: Trade<TInput, TOutput, TradeType.EXACT_INPUT>[] = []\n  ): Trade<TInput, TOutput, TradeType.EXACT_INPUT>[] {\n    invariant(pairs.length > 0, 'PAIRS')\n    invariant(maxHops > 0, 'MAX_HOPS')\n    invariant(currencyAmountIn === nextAmountIn || currentPairs.length > 0, 'INVALID_RECURSION')\n\n    const amountIn = nextAmountIn.wrapped\n    const tokenOut = currencyOut.wrapped\n    for (let i = 0; i < pairs.length; i++) {\n      const pair = pairs[i]\n      // pair irrelevant\n      if (!pair.token0.equals(amountIn.currency) && !pair.token1.equals(amountIn.currency)) continue\n      if (pair.reserve0.equalTo(ZERO) || pair.reserve1.equalTo(ZERO)) continue\n\n      let amountOut: CurrencyAmount<Token>\n      try {\n        ;[amountOut] = pair.getOutputAmount(amountIn)\n      } catch (error) {\n        // input too low\n        if (error.isInsufficientInputAmountError) {\n          continue\n        }\n        throw error\n      }\n      // we have arrived at the output token, so this is the final trade of one of the paths\n      if (amountOut.currency.equals(tokenOut)) {\n        sortedInsert(\n          bestTrades,\n          new Trade(\n            new Route([...currentPairs, pair], currencyAmountIn.currency, currencyOut),\n            currencyAmountIn,\n            TradeType.EXACT_INPUT\n          ),\n          maxNumResults,\n          tradeComparator\n        )\n      } else if (maxHops > 1 && pairs.length > 1) {\n        const pairsExcludingThisPair = pairs.slice(0, i).concat(pairs.slice(i + 1, pairs.length))\n\n        // otherwise, consider all the other paths that lead from this token as long as we have not exceeded maxHops\n        Trade.bestTradeExactIn(\n          pairsExcludingThisPair,\n          currencyAmountIn,\n          currencyOut,\n          {\n            maxNumResults,\n            maxHops: maxHops - 1\n          },\n          [...currentPairs, pair],\n          amountOut,\n          bestTrades\n        )\n      }\n    }\n\n    return bestTrades\n  }\n\n  /**\n   * Return the execution price after accounting for slippage tolerance\n   * @param slippageTolerance the allowed tolerated slippage\n   */\n  public worstExecutionPrice(slippageTolerance: Percent): Price<TInput, TOutput> {\n    return new Price(\n      this.inputAmount.currency,\n      this.outputAmount.currency,\n      this.maximumAmountIn(slippageTolerance).quotient,\n      this.minimumAmountOut(slippageTolerance).quotient\n    )\n  }\n\n  /**\n   * similar to the above method but instead targets a fixed output amount\n   * given a list of pairs, and a fixed amount out, returns the top `maxNumResults` trades that go from an input token\n   * to an output token amount, making at most `maxHops` hops\n   * note this does not consider aggregation, as routes are linear. it's possible a better route exists by splitting\n   * the amount in among multiple routes.\n   * @param pairs the pairs to consider in finding the best trade\n   * @param currencyIn the currency to spend\n   * @param nextAmountOut the exact amount of currency out\n   * @param maxNumResults maximum number of results to return\n   * @param maxHops maximum number of hops a returned trade can make, e.g. 1 hop goes through a single pair\n   * @param currentPairs used in recursion; the current list of pairs\n   * @param currencyAmountOut used in recursion; the original value of the currencyAmountOut parameter\n   * @param bestTrades used in recursion; the current list of best trades\n   */\n  public static bestTradeExactOut<TInput extends Currency, TOutput extends Currency>(\n    pairs: Pair[],\n    currencyIn: TInput,\n    currencyAmountOut: CurrencyAmount<TOutput>,\n    { maxNumResults = 3, maxHops = 3 }: BestTradeOptions = {},\n    // used in recursion.\n    currentPairs: Pair[] = [],\n    nextAmountOut: CurrencyAmount<Currency> = currencyAmountOut,\n    bestTrades: Trade<TInput, TOutput, TradeType.EXACT_OUTPUT>[] = []\n  ): Trade<TInput, TOutput, TradeType.EXACT_OUTPUT>[] {\n    invariant(pairs.length > 0, 'PAIRS')\n    invariant(maxHops > 0, 'MAX_HOPS')\n    invariant(currencyAmountOut === nextAmountOut || currentPairs.length > 0, 'INVALID_RECURSION')\n\n    const amountOut = nextAmountOut.wrapped\n    const tokenIn = currencyIn.wrapped\n    for (let i = 0; i < pairs.length; i++) {\n      const pair = pairs[i]\n      // pair irrelevant\n      if (!pair.token0.equals(amountOut.currency) && !pair.token1.equals(amountOut.currency)) continue\n      if (pair.reserve0.equalTo(ZERO) || pair.reserve1.equalTo(ZERO)) continue\n\n      let amountIn: CurrencyAmount<Token>\n      try {\n        ;[amountIn] = pair.getInputAmount(amountOut)\n      } catch (error) {\n        // not enough liquidity in this pair\n        if (error.isInsufficientReservesError) {\n          continue\n        }\n        throw error\n      }\n      // we have arrived at the input token, so this is the first trade of one of the paths\n      if (amountIn.currency.equals(tokenIn)) {\n        sortedInsert(\n          bestTrades,\n          new Trade(\n            new Route([pair, ...currentPairs], currencyIn, currencyAmountOut.currency),\n            currencyAmountOut,\n            TradeType.EXACT_OUTPUT\n          ),\n          maxNumResults,\n          tradeComparator\n        )\n      } else if (maxHops > 1 && pairs.length > 1) {\n        const pairsExcludingThisPair = pairs.slice(0, i).concat(pairs.slice(i + 1, pairs.length))\n\n        // otherwise, consider all the other paths that arrive at this token as long as we have not exceeded maxHops\n        Trade.bestTradeExactOut(\n          pairsExcludingThisPair,\n          currencyIn,\n          currencyAmountOut,\n          {\n            maxNumResults,\n            maxHops: maxHops - 1\n          },\n          [pair, ...currentPairs],\n          amountIn,\n          bestTrades\n        )\n      }\n    }\n\n    return bestTrades\n  }\n}\n","import { BigNumber } from '@ethersproject/bignumber'\n\nexport interface RToken {\n  name: string\n  address: string\n}\n\nexport enum PoolType {\n  ConstantProduct = 'ConstantProduct',\n  Weighted = 'Weighted',\n  Hybrid = 'Hybrid',\n  ConcentratedLiquidity = 'ConcentratedLiquidity'\n}\n\nexport interface PoolInfo {\n  address: string\n  token0: RToken\n  token1: RToken\n  type: PoolType\n  reserve0: BigNumber\n  reserve1: BigNumber\n  fee: number\n  minLiquidity: number\n  swapGasCost: number\n}\n\ntype Omit<T, K extends keyof T> = Pick<T, Exclude<keyof T, K>>\ntype PartialBy<T, K extends keyof T> = Omit<T, K> & Partial<Pick<T, K>>\ntype PoolInfoWithDefaults = PartialBy<PoolInfo, 'minLiquidity' | 'swapGasCost'>\n\nexport class Pool {\n  address: string\n  token0: RToken\n  token1: RToken\n  type: PoolType\n  reserve0: BigNumber\n  reserve1: BigNumber\n  fee: number\n  minLiquidity: number\n  swapGasCost: number\n\n  constructor(_info: PoolInfoWithDefaults) {\n    const info = {\n      minLiquidity: 1000,\n      swapGasCost: 40_000,\n      ..._info\n    }\n    this.address = info.address\n    this.token0 = info.token0\n    this.token1 = info.token1\n    this.type = info.type\n    this.reserve0 = info.reserve0\n    this.reserve1 = info.reserve1\n    this.fee = info.fee\n    this.minLiquidity = info.minLiquidity\n    this.swapGasCost = info.swapGasCost\n  }\n}\n\ntype PoolInfoNoType = Omit<PoolInfoWithDefaults, 'type'>\n\nexport class ConstantProductPool extends Pool {\n  constructor(info: PoolInfoNoType) {\n    super({\n      type: PoolType.ConstantProduct,\n      ...info\n    })\n  }\n  // public static fromPool(pool: ConstantProductPool) {\n  //   return\n  // }\n}\n\ntype HybridPoolInfo = PoolInfoNoType & { A: number }\n\nexport class HybridPool extends Pool {\n  A: number\n  constructor(info: HybridPoolInfo) {\n    super({\n      type: PoolType.Hybrid,\n      ...info\n    })\n    this.A = info.A\n  }\n}\n\ntype WeightedPoolInfo = PoolInfoNoType & { weight0: number; weight1: number }\n\nexport class WeightedPool extends Pool {\n  weight0: number\n  weight1: number\n  constructor(info: WeightedPoolInfo) {\n    super({\n      type: PoolType.Weighted,\n      ...info\n    })\n    this.weight0 = info.weight0\n    this.weight1 = info.weight1\n  }\n}\n\nexport const CL_MIN_TICK = -887272\nexport const CL_MAX_TICK = -CL_MIN_TICK - 1\ninterface CLTick {\n  index: number\n  DLiquidity: number\n}\n\ninterface CLSpecific {\n  liquidity: number\n  sqrtPrice: number\n  nearestTick: number\n  ticks: CLTick[]\n}\n\ntype CLPoolInfo = Omit<PoolInfoNoType, 'reserve0' | 'reserve1'> & CLSpecific\n\nexport class ConcentratedLiquidityPool extends Pool {\n  liquidity: number\n  sqrtPrice: number\n  nearestTick: number\n  ticks: CLTick[]\n  constructor(info: CLPoolInfo) {\n    super({\n      type: PoolType.ConcentratedLiquidity,\n      reserve0: BigNumber.from(0),\n      reserve1: BigNumber.from(0),\n      ...info\n    })\n    this.liquidity = info.liquidity\n    this.sqrtPrice = info.sqrtPrice\n    this.nearestTick = info.nearestTick\n    this.ticks = info.ticks\n  }\n}\n\nexport interface RouteLeg {\n  address: string\n  token: RToken\n  swapPortion: number // For router contract\n  absolutePortion: number // To depict at webpage for user\n}\n\nexport enum RouteStatus {\n  Success = 'Success',\n  NoWay = 'NoWay',\n  Partial = 'Partial'\n}\nexport interface MultiRoute {\n  status: RouteStatus\n  amountIn: number\n  amountOut: number\n  legs: RouteLeg[]\n  gasSpent: number\n  totalAmountOut: number\n}\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","export const types = {\n  EIP712Domain: [\n    { name: 'name', type: 'string' },\n    { name: 'chainId', type: 'uint256' },\n    { name: 'verifyingContract', type: 'address' }\n  ],\n  LimitOrder: [\n    { name: 'maker', type: 'address' },\n    { name: 'tokenIn', type: 'address' },\n    { name: 'tokenOut', type: 'address' },\n    { name: 'amountIn', type: 'uint256' },\n    { name: 'amountOut', type: 'uint256' },\n    { name: 'recipient', type: 'address' },\n    { name: 'startTime', type: 'uint256' },\n    { name: 'endTime', type: 'uint256' },\n    { name: 'stopPrice', type: 'uint256' },\n    { name: 'oracleAddress', type: 'address' },\n    { name: 'oracleData', type: 'bytes32' }\n  ]\n}\n\nexport const bentoTypes = {\n  EIP712Domain: [\n    { name: 'name', type: 'string' },\n    { name: 'chainId', type: 'uint256' },\n    { name: 'verifyingContract', type: 'address' }\n  ],\n  SetMasterContractApproval: [\n    { name: 'warning', type: 'string' },\n    { name: 'user', type: 'address' },\n    { name: 'masterContract', type: 'address' },\n    { name: 'approved', type: 'bool' },\n    { name: 'nonce', type: 'uint256' }\n  ]\n}\nexport const name = 'LimitOrder'\n","import { BENTOBOX_ADDRESS, STOP_LIMIT_ORDER_ADDRESS } from '../constants'\nimport { bentoTypes, name, types } from '../types'\n\nimport { ChainId } from '../enums'\nimport { SigningKey } from '@ethersproject/signing-key'\nimport { Web3Provider } from '@ethersproject/providers'\nimport { getMessage } from 'eip-712'\nimport { splitSignature } from '@ethersproject/bytes'\n\nexport interface Domain {\n  name: string\n  chainId: ChainId\n  verifyingContract: string\n}\n\nexport interface Message {\n  maker: string\n  tokenIn: string\n  tokenOut: string\n  amountIn: string\n  amountOut: string\n  recipient: string\n  startTime: string\n  endTime: string\n  stopPrice: string\n  oracleAddress: string\n  oracleData: string\n}\n\nexport interface BentoApprovalMessage {\n  warning: string\n  user: string\n  masterContract: string\n  approved: boolean\n  nonce: number\n}\n\nexport const getSignature = (message: Message, chainId: ChainId, privateKey: string) => {\n  let domain: Domain = {\n    name: name,\n    chainId: chainId,\n    verifyingContract: STOP_LIMIT_ORDER_ADDRESS[chainId]\n  }\n  return sign({ types, primaryType: 'LimitOrder', domain, message }, privateKey)\n}\n\nexport const getTypedData = (message: Message, chainId: ChainId) => {\n  let domain: Domain = {\n    name: name,\n    chainId: chainId,\n    verifyingContract: STOP_LIMIT_ORDER_ADDRESS[chainId]\n  }\n  return { types, primaryType: 'LimitOrder', domain, message }\n}\n\nexport const getTypedDataBento = (message: BentoApprovalMessage, chainId: ChainId) => {\n  let domain: Domain = {\n    name: 'BentoBox V1',\n    chainId: chainId,\n    verifyingContract: BENTOBOX_ADDRESS[chainId]\n  }\n  return {\n    types: bentoTypes,\n    primaryType: 'SetMasterContractApproval',\n    domain,\n    message\n  }\n}\n\nexport const getTypeHash = (typedData: any) => {\n  let message = getMessage(typedData, true).toString('hex')\n  return `0x${message}`\n}\n\nconst sign = (typedData: any, privateKey: string) => {\n  let message = getMessage(typedData, true)\n  const signingKey = new SigningKey(privateKey)\n  const { v, r, s } = signingKey.signDigest(message)\n  return { v, r, s }\n}\n\nexport const getSignatureWithProvider = async (\n  message: Message,\n  chainId: ChainId,\n  provider: Web3Provider\n): Promise<{ v: number; r: string; s: string }> => {\n  const typedData = getTypedData(message, chainId)\n  const signature = await provider.send('eth_signTypedData_v4', [message.maker, JSON.stringify(typedData)])\n  const { v, r, s } = splitSignature(signature)\n  return { v, r, s }\n}\n\nexport const getSignatureWithProviderBentobox = async (\n  message: BentoApprovalMessage,\n  chainId: ChainId,\n  provider: Web3Provider\n): Promise<{ v: number; r: string; s: string }> => {\n  const typedData = getTypedDataBento(message, chainId)\n  const signature = await provider.send('eth_signTypedData_v4', [message.user, JSON.stringify(typedData)])\n  const { v, r, s } = splitSignature(signature)\n  return { v, r, s }\n}\n\nexport const getSignatureBento = async (bentoApproval: BentoApprovalMessage, chainId: ChainId, privateKey: string) => {\n  let domain: Domain = {\n    name: 'BentoBox V1',\n    chainId: chainId,\n    verifyingContract: BENTOBOX_ADDRESS[chainId]\n  }\n  return sign(\n    {\n      types: bentoTypes,\n      primaryType: 'SetMasterContractApproval',\n      domain,\n      message: bentoApproval\n    },\n    privateKey\n  )\n}\n","import { Currency } from './entities/Currency'\nimport { CurrencyAmount } from './entities/CurrencyAmount'\nimport { Percent } from './entities/Percent'\nimport { Token } from './entities/Token'\nimport { Trade } from './entities/Trade'\nimport { TradeType } from './enums/TradeType'\nimport invariant from 'tiny-invariant'\nimport { validateAndParseAddress } from './functions/validateAndParseAddress'\n\n/**\n * Options for producing the arguments to send call to the router.\n */\nexport interface TradeOptions {\n  /**\n   * How much the execution price is allowed to move unfavorably from the trade execution price.\n   */\n  allowedSlippage: Percent\n  /**\n   * How long the swap is valid until it expires, in seconds.\n   * This will be used to produce a `deadline` parameter which is computed from when the swap call parameters\n   * are generated.\n   */\n  ttl: number\n  /**\n   * The account that should receive the output of the swap.\n   */\n  recipient: string\n\n  /**\n   * Whether any of the tokens in the path are fee on transfer tokens, which should be handled with special methods\n   */\n  feeOnTransfer?: boolean\n}\n\nexport interface TradeOptionsDeadline extends Omit<TradeOptions, 'ttl'> {\n  /**\n   * When the transaction expires.\n   * This is an atlernate to specifying the ttl, for when you do not want to use local time.\n   */\n  deadline: number\n}\n\n/**\n * The parameters to use in the call to the Uniswap V2 Router to execute a trade.\n */\nexport interface SwapParameters {\n  /**\n   * The method to call on the Uniswap V2 Router.\n   */\n  methodName: string\n  /**\n   * The arguments to pass to the method, all hex encoded.\n   */\n  args: (string | string[])[]\n  /**\n   * The amount of wei to send in hex.\n   */\n  value: string\n}\n\nexport function toHex(currencyAmount: CurrencyAmount<Currency>) {\n  return `0x${currencyAmount.quotient.toString(16)}`\n}\n\nconst ZERO_HEX = '0x0'\n\n/**\n * Represents the Uniswap V2 Router, and has static methods for helping execute trades.\n */\nexport abstract class Router {\n  /**\n   * Cannot be constructed.\n   */\n  private constructor() {}\n  /**\n   * Produces the on-chain method name to call and the hex encoded parameters to pass as arguments for a given trade.\n   * @param trade to produce call parameters for\n   * @param options options for the call parameters\n   */\n  public static swapCallParameters(\n    trade: Trade<Currency, Currency, TradeType>,\n    options: TradeOptions | TradeOptionsDeadline\n  ): SwapParameters {\n    const etherIn = trade.inputAmount.currency.isNative\n    const etherOut = trade.outputAmount.currency.isNative\n    // the router does not support both ether in and out\n    invariant(!(etherIn && etherOut), 'ETHER_IN_OUT')\n    invariant(!('ttl' in options) || options.ttl > 0, 'TTL')\n\n    const to: string = validateAndParseAddress(options.recipient)\n    const amountIn: string = toHex(trade.maximumAmountIn(options.allowedSlippage))\n    const amountOut: string = toHex(trade.minimumAmountOut(options.allowedSlippage))\n    const path: string[] = trade.route.path.map((token: Token) => token.address)\n    const deadline =\n      'ttl' in options\n        ? `0x${(Math.floor(new Date().getTime() / 1000) + options.ttl).toString(16)}`\n        : `0x${options.deadline.toString(16)}`\n\n    const useFeeOnTransfer = Boolean(options.feeOnTransfer)\n\n    let methodName: string\n    let args: (string | string[])[]\n    let value: string\n    switch (trade.tradeType) {\n      case TradeType.EXACT_INPUT:\n        if (etherIn) {\n          methodName = useFeeOnTransfer ? 'swapExactETHForTokensSupportingFeeOnTransferTokens' : 'swapExactETHForTokens'\n          // (uint amountOutMin, address[] calldata path, address to, uint deadline)\n          args = [amountOut, path, to, deadline]\n          value = amountIn\n        } else if (etherOut) {\n          methodName = useFeeOnTransfer ? 'swapExactTokensForETHSupportingFeeOnTransferTokens' : 'swapExactTokensForETH'\n          // (uint amountIn, uint amountOutMin, address[] calldata path, address to, uint deadline)\n          args = [amountIn, amountOut, path, to, deadline]\n          value = ZERO_HEX\n        } else {\n          methodName = useFeeOnTransfer\n            ? 'swapExactTokensForTokensSupportingFeeOnTransferTokens'\n            : 'swapExactTokensForTokens'\n          // (uint amountIn, uint amountOutMin, address[] calldata path, address to, uint deadline)\n          args = [amountIn, amountOut, path, to, deadline]\n          value = ZERO_HEX\n        }\n        break\n      case TradeType.EXACT_OUTPUT:\n        invariant(!useFeeOnTransfer, 'EXACT_OUT_FOT')\n        if (etherIn) {\n          methodName = 'swapETHForExactTokens'\n          // (uint amountOut, address[] calldata path, address to, uint deadline)\n          args = [amountOut, path, to, deadline]\n          value = amountIn\n        } else if (etherOut) {\n          methodName = 'swapTokensForExactETH'\n          // (uint amountOut, uint amountInMax, address[] calldata path, address to, uint deadline)\n          args = [amountOut, amountIn, path, to, deadline]\n          value = ZERO_HEX\n        } else {\n          methodName = 'swapTokensForExactTokens'\n          // (uint amountOut, uint amountInMax, address[] calldata path, address to, uint deadline)\n          args = [amountOut, amountIn, path, to, deadline]\n          value = ZERO_HEX\n        }\n        break\n    }\n    return {\n      methodName,\n      args,\n      value\n    }\n  }\n}\n","import { BigNumber } from '@ethersproject/bignumber'\nimport {\n  Pool,\n  PoolType,\n  HybridPool,\n  WeightedPool,\n  ConcentratedLiquidityPool,\n  CL_MIN_TICK,\n  CL_MAX_TICK\n} from '../types/MultiRouterTypes'\n\nconst A_PRECISION = 100\n\nconst DCacheBN = new Map<Pool, BigNumber>()\nexport function HybridComputeLiquidity(pool: HybridPool): BigNumber {\n  const res = DCacheBN.get(pool)\n  if (res !== undefined) return res\n\n  const r0 = pool.reserve0\n  const r1 = pool.reserve1\n\n  if (r0.isZero() && r1.isZero()) {\n    DCacheBN.set(pool, BigNumber.from(0))\n    return BigNumber.from(0)\n  }\n  const s = r0.add(r1)\n\n  const nA = BigNumber.from(pool.A * 2)\n\n  let prevD\n\n  let D = s\n  for (let i = 0; i < 256; i++) {\n    const dP = D.mul(D)\n      .div(r0)\n      .mul(D)\n      .div(r1)\n      .div(4)\n    prevD = D\n    D = nA\n      .mul(s)\n      .div(A_PRECISION)\n      .add(dP.mul(2))\n      .mul(D)\n      .div(\n        nA\n          .div(A_PRECISION)\n          .sub(1)\n          .mul(D)\n          .add(dP.mul(3))\n      )\n    if (\n      D.sub(prevD)\n        .abs()\n        .lte(1)\n    ) {\n      break\n    }\n  }\n  DCacheBN.set(pool, D)\n  return D\n}\n\nexport function HybridgetY(pool: HybridPool, x: BigNumber): BigNumber {\n  const D = HybridComputeLiquidity(pool)\n\n  const nA = pool.A * 2\n\n  let c = D.mul(D)\n    .div(x.mul(2))\n    .mul(D)\n    .div((nA * 2) / A_PRECISION)\n  let b = D.mul(A_PRECISION)\n    .div(nA)\n    .add(x)\n\n  let yPrev\n  let y = D\n  for (let i = 0; i < 256; i++) {\n    yPrev = y\n\n    y = y\n      .mul(y)\n      .add(c)\n      .div(\n        y\n          .mul(2)\n          .add(b)\n          .sub(D)\n      )\n    if (\n      y\n        .sub(yPrev)\n        .abs()\n        .lte(1)\n    ) {\n      break\n    }\n  }\n  return y\n}\n\nexport function calcOutByIn(pool: Pool, amountIn: number, direction = true): number {\n  const xBN = direction ? pool.reserve0 : pool.reserve1\n  const yBN = direction ? pool.reserve1 : pool.reserve0\n  switch (pool.type) {\n    case PoolType.ConstantProduct: {\n      const x = parseInt(xBN.toString())\n      const y = parseInt(yBN.toString())\n      return (y * amountIn) / (x / (1 - pool.fee) + amountIn)\n    }\n    case PoolType.Weighted: {\n      const x = parseInt(xBN.toString())\n      const y = parseInt(yBN.toString())\n      const wPool = pool as WeightedPool\n      const weightRatio = direction ? wPool.weight0 / wPool.weight1 : wPool.weight1 / wPool.weight0\n      const actualIn = amountIn * (1 - pool.fee)\n      const out = y * (1 - Math.pow(x / (x + actualIn), weightRatio))\n      return out\n    }\n    case PoolType.Hybrid: {\n      // const xNew = x + amountIn*(1-pool.fee);\n      // const yNew = HybridgetY(pool, xNew);\n      // const dy = y - yNew;\n\n      const xNewBN = xBN.add(getBigNumber(undefined, amountIn * (1 - pool.fee)))\n      const yNewBN = HybridgetY(pool as HybridPool, xNewBN)\n      const dy = parseInt(yBN.sub(yNewBN).toString())\n\n      return dy\n    }\n    case PoolType.ConcentratedLiquidity: {\n      return ConcentratedLiquidityOutByIn(pool as ConcentratedLiquidityPool, amountIn, direction)\n    }\n  }\n}\n\nexport class OutOfLiquidity extends Error {}\n\nfunction ConcentratedLiquidityOutByIn(pool: ConcentratedLiquidityPool, inAmount: number, direction: boolean) {\n  if (pool.ticks.length === 0) return 0\n  if (pool.ticks[0].index > CL_MIN_TICK) pool.ticks.unshift({ index: CL_MIN_TICK, DLiquidity: 0 })\n  if (pool.ticks[pool.ticks.length - 1].index < CL_MAX_TICK) pool.ticks.push({ index: CL_MAX_TICK, DLiquidity: 0 })\n\n  let nextTickToCross = direction ? pool.nearestTick : pool.nearestTick + 1\n  let currentPrice = pool.sqrtPrice\n  let currentLiquidity = pool.liquidity\n  let outAmount = 0\n  let input = inAmount\n\n  while (input > 0) {\n    if (nextTickToCross < 0 || nextTickToCross >= pool.ticks.length) throw new OutOfLiquidity()\n\n    const nextTickPrice = Math.sqrt(Math.pow(1.0001, pool.ticks[nextTickToCross].index))\n    // console.log('L, P, tick, nextP', currentLiquidity,\n    //     currentPrice, pool.ticks[nextTickToCross].index, nextTickPrice);\n    let output = 0\n\n    if (direction) {\n      const maxDx = (currentLiquidity * (currentPrice - nextTickPrice)) / currentPrice / nextTickPrice\n      //console.log('input, maxDx', input, maxDx);\n\n      if (input <= maxDx) {\n        output = (currentLiquidity * currentPrice * input) / (input + currentLiquidity / currentPrice)\n        input = 0\n      } else {\n        output = currentLiquidity * (currentPrice - nextTickPrice)\n        currentPrice = nextTickPrice\n        input -= maxDx\n        if (pool.ticks[nextTickToCross].index % 2 === 0) {\n          currentLiquidity -= pool.ticks[nextTickToCross].DLiquidity\n        } else {\n          currentLiquidity += pool.ticks[nextTickToCross].DLiquidity\n        }\n        nextTickToCross--\n      }\n    } else {\n      const maxDy = currentLiquidity * (nextTickPrice - currentPrice)\n      //console.log('input, maxDy', input, maxDy);\n      if (input <= maxDy) {\n        output = input / currentPrice / (currentPrice + input / currentLiquidity)\n        input = 0\n      } else {\n        output = (currentLiquidity * (nextTickPrice - currentPrice)) / currentPrice / nextTickPrice\n        currentPrice = nextTickPrice\n        input -= maxDy\n        if (pool.ticks[nextTickToCross].index % 2 === 0) {\n          currentLiquidity += pool.ticks[nextTickToCross].DLiquidity\n        } else {\n          currentLiquidity -= pool.ticks[nextTickToCross].DLiquidity\n        }\n        nextTickToCross++\n      }\n    }\n\n    outAmount += output * (1 - pool.fee)\n    //console.log('out', outAmount);\n  }\n\n  return outAmount\n}\n\nexport function calcInByOut(pool: Pool, amountOut: number, direction: boolean): number {\n  let input = 0\n  const xBN = direction ? pool.reserve0 : pool.reserve1\n  const yBN = direction ? pool.reserve1 : pool.reserve0\n  switch (pool.type) {\n    case PoolType.ConstantProduct: {\n      const x = parseInt(xBN.toString())\n      const y = parseInt(yBN.toString())\n      input = (x * amountOut) / (1 - pool.fee) / (y - amountOut)\n      break\n    }\n    case PoolType.Weighted: {\n      const x = parseInt(xBN.toString())\n      const y = parseInt(yBN.toString())\n      const wPool = pool as WeightedPool\n      const weightRatio = direction ? wPool.weight0 / wPool.weight1 : wPool.weight1 / wPool.weight0\n      input = x * (1 - pool.fee) * (Math.pow(1 - amountOut / y, -weightRatio) - 1)\n      break\n    }\n    case PoolType.Hybrid: {\n      let yNewBN = yBN.sub(getBigNumber(undefined, amountOut))\n      if (yNewBN.lt(1))\n        // lack of precision\n        yNewBN = BigNumber.from(1)\n\n      const xNewBN = HybridgetY(pool as HybridPool, yNewBN)\n      input = Math.round(parseInt(xNewBN.sub(xBN).toString()) / (1 - pool.fee))\n\n      // const yNew = y - amountOut;\n      // const xNew = HybridgetY(pool, yNew);\n      // input = (xNew - x)/(1-pool.fee);\n      break\n    }\n    default:\n      console.error('Unknown pool type')\n  }\n\n  // ASSERT(() => {\n  //   const amount2 = calcOutByIn(pool, input, direction);\n  //   const res = closeValues(amountOut, amount2, 1e-6);\n  //   if (!res) console.log(\"Error 138:\", amountOut, amount2, Math.abs(amountOut/amount2 - 1));\n  //   return res;\n  // });\n  if (input < 1) input = 1\n  return input\n}\n\nexport function calcPrice(pool: Pool, amountIn: number): number {\n  const r0 = parseInt(pool.reserve0.toString())\n  const r1 = parseInt(pool.reserve1.toString())\n  switch (pool.type) {\n    case PoolType.ConstantProduct: {\n      const x = r0 / (1 - pool.fee)\n      return (r1 * x) / (x + amountIn) / (x + amountIn)\n    }\n    case PoolType.Weighted: {\n      const wPool = pool as WeightedPool\n      const weightRatio = wPool.weight0 / wPool.weight1\n      const x = r0 + amountIn * (1 - pool.fee)\n      return (r1 * weightRatio * (1 - pool.fee) * Math.pow(r0 / x, weightRatio)) / x\n    }\n    case PoolType.Hybrid: {\n      const hPool = pool as HybridPool\n      const D = parseInt(HybridComputeLiquidity(hPool).toString())\n      const A = hPool.A / A_PRECISION\n      const x = r0 + amountIn\n      const b = 4 * A * x + D - 4 * A * D\n      const ac4 = (D * D * D) / x\n      const Ds = Math.sqrt(b * b + 4 * A * ac4)\n      const res = (0.5 - (2 * b - ac4 / x) / Ds / 4) * (1 - pool.fee)\n      return res\n    }\n  }\n  return 0\n}\n\nfunction calcInputByPriceConstantMean(pool: WeightedPool, price: number) {\n  const r0 = parseInt(pool.reserve0.toString())\n  const r1 = parseInt(pool.reserve1.toString())\n  const weightRatio = pool.weight0 / pool.weight1\n  const t = r1 * price * weightRatio * (1 - pool.fee) * Math.pow(r0, weightRatio)\n  return (Math.pow(t, 1 / (weightRatio + 1)) - r0) / (1 - pool.fee)\n}\n\nexport function calcInputByPrice(pool: Pool, priceEffective: number, hint = 1): number {\n  switch (pool.type) {\n    case PoolType.ConstantProduct: {\n      const r0 = parseInt(pool.reserve0.toString())\n      const r1 = parseInt(pool.reserve1.toString())\n      const x = r0 / (1 - pool.fee)\n      const res = Math.sqrt(r1 * x * priceEffective) - x\n      return res\n    }\n    case PoolType.Weighted: {\n      const res = calcInputByPriceConstantMean(pool as WeightedPool, priceEffective)\n      return res\n    }\n    case PoolType.Hybrid: {\n      return revertPositive((x: number) => 1 / calcPrice(pool, x), priceEffective, hint)\n    }\n  }\n  return 0\n}\n\n//================================= Utils ====================================\n\nexport function ASSERT(f: () => boolean, t?: string) {\n  if (!f() && t) console.error(t)\n}\n\nexport function closeValues(a: number, b: number, accuracy: number): boolean {\n  if (accuracy === 0) return a === b\n  if (a < 1 / accuracy) return Math.abs(a - b) <= 10\n  return Math.abs(a / b - 1) < accuracy\n}\n\nexport function calcSquareEquation(a: number, b: number, c: number): [number, number] {\n  const D = b * b - 4 * a * c\n  console.assert(D >= 0, `Discriminant is negative! ${a} ${b} ${c}`)\n  const sqrtD = Math.sqrt(D)\n  return [(-b - sqrtD) / 2 / a, (-b + sqrtD) / 2 / a]\n}\n\n// returns such x > 0 that f(x) = out or 0 if there is no such x or f defined not everywhere\n// hint - approximation of x to spead up the algorithm\n// f assumed to be continues monotone growth function defined everywhere\nexport function revertPositive(f: (x: number) => number, out: number, hint = 1) {\n  try {\n    if (out <= f(0)) return 0\n    let min, max\n    if (f(hint) > out) {\n      min = hint / 2\n      while (f(min) > out) min /= 2\n      max = min * 2\n    } else {\n      max = hint * 2\n      while (f(max) < out) max *= 2\n      min = max / 2\n    }\n\n    while (max / min - 1 > 1e-4) {\n      const x0: number = (min + max) / 2\n      const y0 = f(x0)\n      if (out === y0) return x0\n      if (out < y0) max = x0\n      else min = x0\n    }\n    return (min + max) / 2\n  } catch (e) {\n    return 0\n  }\n}\n\nexport function getBigNumber(valueBN: BigNumber | undefined, value: number): BigNumber {\n  if (valueBN !== undefined) return valueBN\n\n  if (value < Number.MAX_SAFE_INTEGER) return BigNumber.from(Math.round(value))\n\n  const exp = Math.floor(Math.log(value) / Math.LN2)\n  console.assert(exp >= 51, 'Internal Error 314')\n  const shift = exp - 51\n  const mant = Math.round(value / Math.pow(2, shift))\n  const res = BigNumber.from(mant).mul(BigNumber.from(2).pow(shift))\n  return res\n}\n","import { CurrencyAmount, Price, Token } from './entities'\nimport { LAMBDA_URL, STOP_LIMIT_ORDER_ADDRESS } from './constants'\nimport { Message, getSignature, getSignatureWithProvider, getTypeHash, getTypedData } from './entities'\n\nimport { BigNumber } from '@ethersproject/bignumber'\nimport { ChainId } from './enums'\nimport { Contract } from '@ethersproject/contracts'\nimport { NonceManager } from '@ethersproject/experimental'\nimport { Signer } from '@ethersproject/abstract-signer'\nimport { Transaction } from '@ethersproject/transactions'\nimport { Web3Provider } from '@ethersproject/providers'\nimport abi from './abis/StopLimitOrder.json'\nimport { defaultAbiCoder } from '@ethersproject/abi'\nimport fetch from 'isomorphic-unfetch'\nimport { keccak256 } from '@ethersproject/solidity'\nimport { validateAndParseAddress } from './functions/validateAndParseAddress'\n\nexport interface ILimitOrderData {\n  maker: string\n  tokenIn: string\n  tokenOut: string\n  tokenInDecimals: number\n  tokenOutDecimals: number\n  tokenInSymbol: string\n  tokenOutSymbol: string\n  amountIn: string\n  amountOut: string\n  recipient: string\n  startTime: string | number\n  endTime: string | number\n  stopPrice?: string\n  oracleAddress?: string\n  oracleData?: string\n  v: number\n  r: string\n  s: string\n  chainId: ChainId\n  orderTypeHash?: string\n}\n\nexport class LimitOrder {\n  public readonly maker: string\n  public readonly amountIn: CurrencyAmount<Token>\n  public readonly amountOut: CurrencyAmount<Token>\n  public readonly recipient: string\n  public readonly startTime: string\n  public readonly endTime: string\n  public readonly stopPrice: string\n  public readonly oracleAddress: string\n  public readonly oracleData: string\n  public v: number\n  public r: string\n  public s: string\n\n  static getLimitOrder(data: ILimitOrderData): LimitOrder {\n    return new LimitOrder(\n      data.maker,\n      CurrencyAmount.fromRawAmount(\n        new Token(data.chainId, data.tokenIn, data.tokenInDecimals, data.tokenInSymbol),\n        data.amountIn\n      ),\n      CurrencyAmount.fromRawAmount(\n        new Token(data.chainId, data.tokenOut, data.tokenOutDecimals, data.tokenOutSymbol),\n        data.amountOut\n      ),\n      data.recipient,\n      data.startTime,\n      data.endTime,\n      data.stopPrice,\n      data.oracleAddress,\n      data.oracleData,\n      data.v,\n      data.r,\n      data.s\n    )\n  }\n\n  constructor(\n    maker: string,\n    amountIn: CurrencyAmount<Token>,\n    amountOut: CurrencyAmount<Token>,\n    recipient: string,\n    startTime: string | number,\n    endTime: string | number,\n    stopPrice = '0',\n    oracleAddress = '0x0000000000000000000000000000000000000000',\n    oracleData = '0x00000000000000000000000000000000000000000000000000000000000000',\n    v = 0,\n    r = '',\n    s = ''\n  ) {\n    this.maker = validateAndParseAddress(maker)\n    this.amountIn = amountIn\n    this.amountOut = amountOut\n    this.recipient = validateAndParseAddress(recipient)\n    this.startTime = startTime.toString()\n    this.endTime = endTime.toString()\n    this.stopPrice = stopPrice\n    this.oracleAddress = validateAndParseAddress(oracleAddress)\n    this.oracleData = oracleData\n    this.v = v\n    this.r = r\n    this.s = s\n  }\n\n  get amountInRaw(): string {\n    return this.amountIn.quotient.toString()\n  }\n\n  get amountOutRaw(): string {\n    return this.amountOut.quotient.toString()\n  }\n\n  get tokenInAddress(): string {\n    return this.amountIn.currency.address\n  }\n\n  get tokenOutAddress(): string {\n    return this.amountOut.currency.address\n  }\n\n  get tokenInDecimals(): number {\n    return this.amountIn.currency.decimals\n  }\n\n  get tokenOutDecimals(): number {\n    return this.amountOut.currency.decimals\n  }\n\n  get tokenInSymbol(): string {\n    return this.amountIn.currency.symbol || ''\n  }\n\n  get tokenOutSymbol(): string {\n    return this.amountOut.currency.symbol || ''\n  }\n\n  get chainId(): ChainId {\n    return this.amountIn.currency.chainId\n  }\n\n  usePrice(price: Price<Token, Token>): LimitOrder {\n    return new LimitOrder(\n      this.maker,\n      this.amountIn,\n      CurrencyAmount.fromRawAmount(this.amountOut.currency, price.quote(this.amountIn).quotient.toString()),\n      this.recipient,\n      this.startTime,\n      this.endTime,\n      this.stopPrice,\n      this.oracleAddress,\n      this.oracleData\n    )\n  }\n\n  signdOrderWithPrivatekey(chainId: ChainId, privateKey: string) {\n    let order: Message = {\n      maker: this.maker,\n      tokenIn: this.tokenInAddress,\n      tokenOut: this.tokenOutAddress,\n      amountIn: this.amountInRaw,\n      amountOut: this.amountOutRaw,\n      recipient: this.recipient,\n      startTime: this.startTime,\n      endTime: this.endTime,\n      stopPrice: this.stopPrice,\n      oracleAddress: this.oracleAddress,\n      oracleData: keccak256(['bytes'], [this.oracleData])\n    }\n\n    const { v, r, s } = getSignature(order, chainId, privateKey)\n\n    this.v = v\n    this.r = r\n    this.s = s\n\n    return { v, r, s }\n  }\n\n  async signOrderWithProvider(chainId: ChainId, provider: Web3Provider) {\n    let order: Message = {\n      maker: this.maker,\n      tokenIn: this.tokenInAddress,\n      tokenOut: this.tokenOutAddress,\n      amountIn: this.amountInRaw,\n      amountOut: this.amountOutRaw,\n      recipient: this.recipient,\n      startTime: this.startTime,\n      endTime: this.endTime,\n      stopPrice: this.stopPrice,\n      oracleAddress: this.oracleAddress,\n      oracleData: keccak256(['bytes'], [this.oracleData])\n    }\n\n    const { v, r, s } = await getSignatureWithProvider(order, chainId, provider)\n\n    this.v = v\n    this.r = r\n    this.s = s\n\n    return { v, r, s }\n  }\n\n  getTypedData() {\n    let order: Message = {\n      maker: this.maker,\n      tokenIn: this.tokenInAddress,\n      tokenOut: this.tokenOutAddress,\n      amountIn: this.amountInRaw,\n      amountOut: this.amountOutRaw,\n      recipient: this.recipient,\n      startTime: this.startTime,\n      endTime: this.endTime,\n      stopPrice: this.stopPrice,\n      oracleAddress: this.oracleAddress,\n      oracleData: keccak256(['bytes'], [this.oracleData])\n    }\n\n    return getTypedData(order, this.chainId)\n  }\n\n  getTypeHash() {\n    let typedData = this.getTypedData()\n    let digest = getTypeHash(typedData)\n    return digest\n  }\n\n  async send() {\n    const resp = await fetch(`${LAMBDA_URL}/orders/create`, {\n      method: 'POST',\n      body: JSON.stringify({\n        maker: this.maker,\n        tokenIn: this.tokenInAddress,\n        tokenOut: this.tokenOutAddress,\n        tokenInDecimals: this.tokenInDecimals,\n        tokenOutDecimals: this.tokenOutDecimals,\n        tokenInSymbol: this.tokenInSymbol,\n        tokenOutSymbol: this.tokenOutSymbol,\n        amountIn: this.amountInRaw,\n        amountOut: this.amountOutRaw,\n        recipient: this.recipient,\n        startTime: this.startTime,\n        endTime: this.endTime,\n        stopPrice: this.stopPrice,\n        oracleAddress: this.oracleAddress,\n        oracleData: this.oracleData,\n        v: this.v,\n        r: this.r,\n        s: this.s,\n        chainId: this.amountIn.currency.chainId\n      })\n    })\n\n    return resp.json()\n  }\n}\n\nexport class FillLimitOrder {\n  public readonly order: LimitOrder\n  public readonly path: string[]\n  public readonly amountExternal: BigNumber\n  public readonly amountToFill: BigNumber\n  public readonly limitOrderReceiver: string\n  public readonly to: string\n  public readonly tokenIn: string\n  public readonly tokenOut: string\n  public readonly limitOrderReceiverData: string\n\n  constructor(\n    order: LimitOrder,\n    path: string[],\n    amountExternal: BigNumber,\n    amountToFill: BigNumber,\n    limitOrderReceiver: string,\n    to: string,\n    keepTokenIn = false\n  ) {\n    this.order = order\n    this.path = path.map(validateAndParseAddress)\n    this.amountExternal = amountExternal\n    this.amountToFill = amountToFill\n    this.limitOrderReceiver = validateAndParseAddress(limitOrderReceiver)\n    this.to = validateAndParseAddress(to)\n    this.tokenIn = order.amountIn.currency.address\n    this.tokenOut = order.amountOut.currency.address\n\n    this.limitOrderReceiverData = defaultAbiCoder.encode(\n      ['address[]', 'uint256', 'address', 'bool'],\n      [this.path, this.amountExternal.toString(), this.to, keepTokenIn]\n    )\n  }\n\n  public fillOrderOpen(\n    signer: Signer,\n    extra: {\n      forceExecution?: boolean\n      gasPrice?: BigNumber\n      nonce?: number\n      debug?: boolean\n      open?: boolean\n    }\n  ) {\n    extra.open = true\n    return this.fillOrder(signer, extra)\n  }\n\n  public async fillOrder(\n    signer: Signer | NonceManager,\n    extra: {\n      debug?: boolean\n      forceExecution?: boolean\n      gasPrice?: BigNumber\n      open?: boolean\n      nonce?: number\n    }\n  ): Promise<{ executed: boolean; transaction?: Transaction }> {\n    const { gasPrice, nonce, forceExecution = false, open = false } = extra\n\n    const func = open ? 'fillOrderOpen' : 'fillOrder'\n\n    const orderArg = [\n      this.order.maker,\n      this.order.amountInRaw,\n      this.order.amountOutRaw,\n      this.order.recipient,\n      this.order.startTime,\n      this.order.endTime,\n      this.order.stopPrice,\n      this.order.oracleAddress,\n      this.order.oracleData,\n      this.amountToFill.toString(),\n      this.order.v,\n      this.order.r,\n      this.order.s\n    ]\n\n    const limitOrderContract = new Contract(STOP_LIMIT_ORDER_ADDRESS[this.order.chainId], abi, signer)\n\n    let gasLimit\n    let executed = true\n\n    if (extra.debug) console.log(orderArg, this.path, this.limitOrderReceiver, this.limitOrderReceiverData)\n\n    try {\n      gasLimit = await limitOrderContract.estimateGas[func](\n        orderArg,\n        this.path[0],\n        this.path[this.path.length - 1],\n        this.limitOrderReceiver,\n        this.limitOrderReceiverData\n      )\n      gasLimit = gasLimit.mul(11).div(10)\n    } catch (e) {\n      if (forceExecution) {\n        console.log('Failed to estimate gas, forcing execution')\n        gasLimit = BigNumber.from('400000') // 400k\n        executed = true\n      } else {\n        return { executed: false }\n      }\n    }\n\n    const transaction: Transaction = await limitOrderContract.fillOrder(\n      orderArg,\n      this.path[0],\n      this.path[this.path.length - 1],\n      this.limitOrderReceiver,\n      this.limitOrderReceiverData,\n      { gasLimit, gasPrice, nonce }\n    )\n\n    return { executed, transaction }\n  }\n}\n","import { Contract } from '@ethersproject/contracts'\nimport { getNetwork } from '@ethersproject/networks'\nimport { getDefaultProvider } from '@ethersproject/providers'\nimport UniswapV2Pair from \"@sushiswap/core/artifacts/contracts/uniswapv2/UniswapV2Pair.sol/UniswapV2Pair.json\";\nimport invariant from 'tiny-invariant'\nimport { CurrencyAmount, Pair, Token } from './entities'\n\n/**\n * Contains methods for constructing instances of pairs and tokens from on-chain data.\n */\nexport abstract class Fetcher {\n  /**\n   * Cannot be constructed.\n   */\n  private constructor() {}\n\n  /**\n   * Fetches information about a pair and constructs a pair from the given two tokens.\n   * @param tokenA first token\n   * @param tokenB second token\n   * @param provider the provider to use to fetch the data\n   */\n  public static async fetchPairData(\n    tokenA: Token,\n    tokenB: Token,\n    conveyorEnvIsProduction: boolean,\n    provider = getDefaultProvider(getNetwork(tokenA.chainId))\n  ): Promise<Pair> {\n    invariant(tokenA.chainId === tokenB.chainId, 'CHAIN_ID')\n    const address = Pair.getAddress(tokenA, tokenB, true, conveyorEnvIsProduction)\n    const [reserves0, reserves1] = await new Contract(address, UniswapV2Pair.abi, provider).getReserves()\n    const balances = tokenA.sortsBefore(tokenB) ? [reserves0, reserves1] : [reserves1, reserves0]\n    return new Pair(CurrencyAmount.fromRawAmount(tokenA, balances[0]), CurrencyAmount.fromRawAmount(tokenB, balances[1]))\n  }\n}\n","import { utils, BigNumber, Signature } from 'ethers';\n\nconst sig_tuple = 'tuple(uint8 v, bytes32 r, bytes32 s)';\n\nconst addliquidity_tuple =\n  'tuple(address tokenA, address tokenB, uint256 amountADesired, uint256 amountBDesired, uint256 amountAMin, uint256 amountBMin, address user, uint256 deadline)';\nconst addLiquiditySig = [`function addLiquidity(${addliquidity_tuple})`];\nconst addLiquidityIFace = new utils.Interface(addLiquiditySig);\nexport function encodeAddLiquidity(\n    _tokenA: string,\n    _tokenB: string,\n    _amountADesired: BigNumber,\n    _amountBDesired: BigNumber,\n    _amountAMin: BigNumber,\n    _amountBMin: BigNumber,\n    _user: string,\n    _deadline: BigNumber,\n): string {\n  const args = [...arguments];\n  const typedArgs = args as [string, string, BigNumber, BigNumber, BigNumber, BigNumber, string, BigNumber];\n  const res = addLiquidityIFace.encodeFunctionData('addLiquidity', [typedArgs]);\n  return res;\n}\n\nconst swap_tuple = 'tuple(uint256 amount0, uint256 amount1, address[] path, address user, uint256 deadline)';\nconst swapExactTokensForTokensSig = [`function swapExactTokensForTokens(${swap_tuple})`];\nconst swapTokensForExactTokensSig = [`function swapTokensForExactTokens(${swap_tuple})`];\nconst swapExactTokensForTokensIFace = new utils.Interface(swapExactTokensForTokensSig);\nconst swapTokensForExactTokensIFace = new utils.Interface(swapTokensForExactTokensSig);\n\nexport function encodeSwapExactTokensForTokens(\n  _amountIn: BigNumber,\n  _amountOutMin: BigNumber,\n  _path: string[],\n  _user: string,\n  _deadline: BigNumber\n): string {\n  const args = [...arguments];\n  const typedArgs = args as [BigNumber, BigNumber, string[], string, BigNumber];\n  return swapExactTokensForTokensIFace.encodeFunctionData('swapExactTokensForTokens', [typedArgs]);\n}\nexport function encodeSwapTokensForExactTokens(\n  _amountOut: BigNumber,\n  _amountInMax: BigNumber,\n  _path: string[],\n  _user: string,\n  _deadline: BigNumber\n): string {\n  const args = [...arguments];\n  const typedArgs = args as [BigNumber, BigNumber, string[], string, BigNumber];\n  return swapTokensForExactTokensIFace.encodeFunctionData('swapTokensForExactTokens', [typedArgs]);\n}\n\nconst removeLiquidity_tuple =\n  'tuple(address tokenA, address tokenB, uint256 liquidity, uint256 amountAMin, uint256 amountBMin, address user, uint256 deadline)';\nconst removeLiquidityWithPermitSig = [`function removeLiquidityWithPermit(${removeLiquidity_tuple},${sig_tuple})`];\nconst removeLiquidityWithPermitIFace = new utils.Interface(removeLiquidityWithPermitSig);\nexport function encodeRemoveLiquidityWithPermit(\n  _tokenA: string,\n  _tokenB: string,\n  _liquidity: BigNumber,\n  _amountAMin: BigNumber,\n  _amountBMin: BigNumber,\n  _user: string,\n  _deadline: BigNumber,\n  _sig_obj: Signature\n): string {\n  const args = [...arguments];\n  const trimmedArgs = args.slice(0, args.length - 1);\n  const typedArgs = trimmedArgs as [string, string, BigNumber, BigNumber, BigNumber, string, BigNumber];\n  return removeLiquidityWithPermitIFace.encodeFunctionData('removeLiquidityWithPermit', [typedArgs, _sig_obj]);\n}","import { BigNumber, Signature, utils } from 'ethers';\nconst { keccak256, defaultAbiCoder, toUtf8Bytes, solidityPack } = utils;\nimport { encodeAddLiquidity, encodeSwapExactTokensForTokens, encodeRemoveLiquidityWithPermit } from './functionEncoder';\n\n// EIP712 Types\nexport const DomainType = [\n  { name: 'name', type: 'string' },\n  { name: 'version', type: 'string' },\n  { name: 'chainId', type: 'uint256' },\n  { name: 'verifyingContract', type: 'address' },\n];\nexport const PermitType = [\n  { name: 'owner', type: 'address' },\n  { name: 'spender', type: 'address' },\n  { name: 'value', type: 'uint256' },\n  { name: 'nonce', type: 'uint256' },\n  { name: 'deadline', type: 'uint256' },\n];\nexport const ForwarderType = [\n  { name: 'from', type: 'address' },\n  { name: 'feeToken', type: 'address' },\n  { name: 'maxTokenAmount', type: 'uint256' },\n  { name: 'deadline', type: 'uint256' },\n  { name: 'nonce', type: 'uint256' },\n  { name: 'data', type: 'bytes' },\n  { name: 'hashedPayload', type: 'bytes32' },\n];\n\n// hash payloads\nexport function hashAddLiquidityPayload(\n  tokenA: string,\n  tokenB: string,\n  amountADesired: BigNumber,\n  amountBDesired: BigNumber,\n  amountAMin: BigNumber,\n  amountBMin: BigNumber,\n  user: string,\n  deadline: BigNumber,\n): string {\n  const ADDLIQUIDITY_TYPEHASH = keccak256(\n    toUtf8Bytes(\n      'AddLiquidity(address tokenA,address tokenB,uint256 amountADesired,uint256 amountBDesired,uint256 amountAMin,uint256 amountBMin,address user,uint256 deadline)',\n    ),\n  );\n\n  return keccak256(\n    defaultAbiCoder.encode(\n      ['bytes', 'address', 'address', 'uint256', 'uint256', 'uint256', 'uint256', 'address', 'uint256'],\n      [\n        ADDLIQUIDITY_TYPEHASH,\n        tokenA,\n        tokenB,\n        amountADesired,\n        amountBDesired,\n        amountAMin,\n        amountBMin,\n        user,\n        deadline,\n      ],\n    ),\n  );\n}\nexport function hashSwapPayload(\n  amount0: BigNumber,\n  amount1: BigNumber,\n  path: string[],\n  user: string,\n  deadline: BigNumber\n): string {\n  const SWAP_TYPEHASH = keccak256(\n    toUtf8Bytes('Swap(uint256 amount0,uint256 amount1,address[] path,address user,uint256 deadline)'),\n  );\n\n  return keccak256(\n    defaultAbiCoder.encode(\n      ['bytes', 'uint256', 'uint256', 'bytes32', 'address', 'uint256'],\n      [\n        SWAP_TYPEHASH,\n        amount0,\n        amount1,\n        keccak256(solidityPack(['address[]'], [path])),\n        user,\n        deadline,\n      ],\n    ),\n  );\n}\nexport function hashRemoveLiquidityPayload(\n  tokenA: string,\n  tokenB: string,\n  liquidity: BigNumber,\n  amountAMin: BigNumber,\n  amountBMin: BigNumber,\n  user: string,\n  deadline: BigNumber,\n  sig: Signature\n): string {\n  const REMOVE_LIQUIDITY_TYPEHASH = keccak256(\n    toUtf8Bytes(\n      'RemoveLiquidity(address tokenA,address tokenB,uint256 liquidity,uint256 amountAMin,uint256 amountBMin,address user,uint256 deadline,uint8 v,bytes32 r,bytes32 s)',\n    ),\n  );\n  return keccak256(\n    defaultAbiCoder.encode(\n      [\n        'bytes',\n        'address',\n        'address',\n        'uint256',\n        'uint256',\n        'uint256',\n        'address',\n        'uint256',\n        'uint8',\n        'bytes32',\n        'bytes32',\n      ],\n      [\n        REMOVE_LIQUIDITY_TYPEHASH,\n        tokenA,\n        tokenB,\n        liquidity,\n        amountAMin,\n        amountBMin,\n        user,\n        deadline,\n        sig.v,\n        sig.r,\n        sig.s,\n      ],\n    ),\n  );\n}\n\n// message\nexport interface TypedDomain {\n    name: string;\n    version: string;\n    chainId: string;\n    verifyingContract: string;\n}\nexport interface TypedForwarder {\n  from: string;\n  feeToken: string;\n  maxTokenAmount: string; // hexstring\n  deadline: string; // hexstring\n  nonce: string; // hexstring\n  data: string;\n  hashedPayload: string;\n}\n\nexport function getDomain(contractAddress: string, chain_id: number, domain_name: string): TypedDomain {\n    return {\n      name: domain_name,\n      version: '1',\n      chainId: BigNumber.from(chain_id).toHexString(),\n      verifyingContract: contractAddress,\n    };\n}\nexport function buildMessage(args: Array<any>, method: string, feeToken: string, maxTokenAmount: BigNumber, nonce: BigNumber): TypedForwarder {\n  let hashedPayload: string = '';\n  let data: string = '';\n  let typedArgs;\n  let deadline: string = '';\n  let from: string = '';\n  switch (method) {\n    case 'addLiquidity':\n        typedArgs = args as [string, string, BigNumber, BigNumber, BigNumber, BigNumber, string, BigNumber];\n        hashedPayload = hashAddLiquidityPayload(...typedArgs);\n        data = encodeAddLiquidity(...typedArgs);\n        deadline = (args[args.length - 1]).toHexString();\n        from = args[args.length - 2];\n        break;\n    case 'swapExactTokensForTokens':\n        typedArgs = args as [BigNumber, BigNumber, string[], string, BigNumber];\n        hashedPayload = hashSwapPayload(...typedArgs);\n        data = encodeSwapExactTokensForTokens(...typedArgs);\n        deadline = (args[args.length - 1]).toHexString();\n        from = args[args.length - 2];\n        break;\n    case 'removeLiquidity':\n        typedArgs = args as [string, string, BigNumber, BigNumber, BigNumber, string, BigNumber, Signature];\n        hashedPayload = hashRemoveLiquidityPayload(...typedArgs);\n        data = encodeRemoveLiquidityWithPermit(...typedArgs);\n        deadline = (args[args.length - 2]).toHexString();\n        from = args[args.length - 3];\n        break;\n    default:\n        throw new Error('Error: Method not recognized!');\n  }\n  return {\n    from: from,\n    feeToken: feeToken,\n    maxTokenAmount: maxTokenAmount.toHexString(),\n    deadline: deadline,\n    nonce: nonce.toHexString(),\n    data: data,\n    hashedPayload: hashedPayload\n  }\n}","export const FACTORY_ADDRESS = '0x5f8017621825BC10D63d15C3e863f893946781F7';\nexport const ROUTER_ADDRESS = '0x838309Bc4C6769050A23007742CF8f9F305DcE13';\nexport const INIT_CODE_HASH = '0xf7b68428a2644f9a0d674330d4e4af2d7c3d2797a7f5766d3a86c223c4e12d17';\n\nexport const SWAP_GAS_LIMIT = 512500;\nexport const ADD_LIQUIDITY_GAS_LIMIT = 662500;\nexport const CREATE_PAIR_GAS_LIMIT = 5125000;\nexport const HOP_ADDITIONAL_GAS = 175000;\nexport const REMOVE_LIQUIDITY_GAS_LIMIT = 625000;","import { BigNumber } from \"@ethersproject/bignumber\";\nimport { ChainId } from '../../enums';\nimport { BigNumber as JSBigNumber } from \"bignumber.js\";\n\nimport fetch from 'cross-fetch';\n\nexport const PRICE_API_PREFIX: { [chainId in ChainId]?: string} = {\n    [ChainId.BSC]: 'https://api.coingecko.com/api/v3/simple/token_price/binance-smart-chain?',\n    [ChainId.MATIC]: 'https://api.coingecko.com/api/v3/simple/token_price/polygon-pos?',\n    [ChainId.MAINNET]: 'https://api.coingecko.com/api/v3/simple/token_price/ethereum?'\n}\n\n/**\n * This function converts a transaction fee to the equivalent value of the provided payment token\n * @param chainId the chainID of the network\n * @param token the payment token\n * @param tokenDecimals the decimals of the token\n * @param gasFee the transaction fee\n * @param nativeToken the native token of the network. 'eth', 'bsc' etc\n * @param nativeTokenDecimals defaults at 18\n * @return the total amount of tokens to be paid for the transaction fee\n */\nexport async function calculateFee(\n    chainId: ChainId,\n    token: string,\n    tokenDecimals: number,\n    gasFee: BigNumber,\n    nativeToken: string,\n    nativeTokenDecimals = 18\n): Promise<BigNumber> {\n    const priceApiPrefix = PRICE_API_PREFIX[chainId];\n    if (!priceApiPrefix) {\n        throw new Error(`Error: API support for the provided chainId ${chainId} is not supported`);\n    }\n    const response = await fetch(`${priceApiPrefix}contract_addresses=${token}&vs_currencies=${nativeToken}`);\n    const data: Promise<any> = response.json().then((res) => {\n        if (Object.keys(res).length === 0) {\n            throw new Error('Error: Unsupported fee token.');\n        }\n        return Object.values(res)[0];\n    });\n    let ethPerToken: number;\n    if (nativeToken === 'eth') {\n        const { eth } = await data;\n        ethPerToken = eth;\n    } else if (nativeToken === 'bnb') {\n        const { bnb } = await data;\n        ethPerToken = bnb;\n    } else {\n        throw new Error('Error: Unsupported native token. Use the calculateFeeOnMatic() method for calculating fees on the Matic network.');\n    }\n    const factor = (new JSBigNumber(10).pow(nativeTokenDecimals)).div(new JSBigNumber(10).pow(tokenDecimals));\n    const adjustedPrice = new JSBigNumber(ethPerToken).multipliedBy(factor); // WEI per token - adjusted for the token decimals\n    const fee = new JSBigNumber(gasFee.toString()).div(adjustedPrice);\n    return BigNumber.from(fee.toFixed(0));\n}\n\n/**\n * Same as the calculateFee() method but used exclusively for calculating token fees on the Matic network\n * @param token the payment token\n * @param tokenDecimals the decimals of the token\n * @param gasFee the transaction fee\n * @returns the total amount of tokens to be paid for the transaction fee\n */\nexport async function calculateFeeOnMatic(\n    token: string,\n    tokenDecimals: number,\n    gasFee: BigNumber\n): Promise<BigNumber> {\n    const priceApiPrefix = PRICE_API_PREFIX[ChainId.MATIC];\n    const response = await fetch(`${priceApiPrefix}contract_addresses=${token}&vs_currencies=bnb`);\n    const data = response.json().then((res) => {\n        if (Object.keys(res).length === 0) {\n            throw new Error('Error: Unsupported fee token.');\n        }\n        return res;\n    });\n    const { bnb } = await data;\n    const adjustedBnbPerToken = new JSBigNumber(bnb).multipliedBy(new JSBigNumber(10).pow(18)).div(new JSBigNumber(10).pow(tokenDecimals))\n    const maticBnbRatioApi = 'https://api.coingecko.com/api/v3/simple/price?ids=matic-network&vs_currencies=bnb'\n    const maticResponse = await fetch(maticBnbRatioApi)\n    const maticResponseMap = await maticResponse.json()\n    const maticData = maticResponseMap['matic-network']\n    const maticBnb = maticData['bnb']\n    const bnbPerMatic = new JSBigNumber(maticBnb);\n    \n    const fee = new JSBigNumber(gasFee.toString()).div(adjustedBnbPerToken.div(bnbPerMatic));\n    return BigNumber.from(fee.toFixed(0));\n}","import { ChainId, Environment } from '../../enums'\nimport { AddressMap } from '../../types';\n\nexport const RELAYER_ENDPOINT_MAP: { [env in Environment]: AddressMap } = {\n  [Environment.PRODUCTION]: {\n    [ChainId.MAINNET]: 'https://conveyor-prod-eth.ata.network',\n    [ChainId.ROPSTEN]: '',\n    [ChainId.RINKEBY]: '',\n    [ChainId.GÖRLI]: '',\n    [ChainId.KOVAN]: '',\n    [ChainId.FANTOM]: '',\n    [ChainId.FANTOM_TESTNET]: '',\n    [ChainId.MATIC]: 'https://conveyor-prod-matic.ata.network',\n    [ChainId.MATIC_TESTNET]: '',\n    [ChainId.XDAI]: '',\n    [ChainId.BSC]: 'https://conveyor-prod-bsc.ata.network',\n    [ChainId.BSC_TESTNET]: '',\n    [ChainId.ARBITRUM]: '',\n    [ChainId.ARBITRUM_TESTNET]: '',\n    [ChainId.MOONBEAM_TESTNET]: '',\n    [ChainId.AVALANCHE]: '',\n    [ChainId.AVALANCHE_TESTNET]: '',\n    [ChainId.HECO]: '',\n    [ChainId.HECO_TESTNET]: '',\n    [ChainId.HARMONY]: '',\n    [ChainId.HARMONY_TESTNET]: '',\n    [ChainId.OKEX]: '',\n    [ChainId.OKEX_TESTNET]: '',\n    [ChainId.CELO]: '',\n    [ChainId.PALM]: '',\n    [ChainId.PALM_TESTNET]: ''\n  },\n  [Environment.STAGING]: {\n    [ChainId.MAINNET]: 'https://gtoken-geode-staging.ata.network',\n    [ChainId.ROPSTEN]: '',\n    [ChainId.RINKEBY]: '',\n    [ChainId.GÖRLI]: '',\n    [ChainId.KOVAN]: '',\n    [ChainId.FANTOM]: '',\n    [ChainId.FANTOM_TESTNET]: '',\n    [ChainId.MATIC]: 'https://gtoken-geode-staging.ata.network',\n    [ChainId.MATIC_TESTNET]: '',\n    [ChainId.XDAI]: '',\n    [ChainId.BSC]: 'https://gtoken-geode-staging.ata.network',\n    [ChainId.BSC_TESTNET]: 'https://gtoken-geode-staging.ata.network',\n    [ChainId.ARBITRUM]: '',\n    [ChainId.ARBITRUM_TESTNET]: '',\n    [ChainId.MOONBEAM_TESTNET]: '',\n    [ChainId.AVALANCHE]: '',\n    [ChainId.AVALANCHE_TESTNET]: '',\n    [ChainId.HECO]: '',\n    [ChainId.HECO_TESTNET]: '',\n    [ChainId.HARMONY]: '',\n    [ChainId.HARMONY_TESTNET]: '',\n    [ChainId.OKEX]: '',\n    [ChainId.OKEX_TESTNET]: '',\n    [ChainId.CELO]: '',\n    [ChainId.PALM]: '',\n    [ChainId.PALM_TESTNET]: ''\n  }\n}","import { BigNumber, ethers, utils, constants as ethersConstants, Signature } from 'ethers';\nimport * as eip712 from './lib/eip712';\nimport * as constants from './lib/constants';\nimport { calculateFee, calculateFeeOnMatic } from './lib/fee';\nimport { JsonRpcProvider } from '@ethersproject/providers';\nconst { splitSignature, verifyTypedData } = utils;\nimport { abi as RouterAbi } from '../abis/ConveyorV2Router01.json';\nimport { abi as FactoryAbi } from '../abis/ConveyorV2Factory.json';\nimport { abi as PairAbi } from '../abis/ConveyorV2Pair.json';\nimport { abi as ERC20Abi } from '../abis/ERC20.json';\nimport { ChainId, Environment } from '../enums';\nimport fetch from 'cross-fetch';\nimport { RELAYER_ENDPOINT_MAP } from './lib/relayer';\n\nconst zeroAddress = ethersConstants.AddressZero;\n\ninterface Response {\n    id: number;\n    jsonrpc: string;\n    result: {\n        errorMessage: string,\n        success: boolean,\n        txnHash: string,\n    }\n}\n\nexport default class XATA {\n    chainId: number = -1;\n    geodeEndpoint: string = '';\n    provider: JsonRpcProvider = new ethers.providers.JsonRpcProvider(); // defaults to localhost\n    feeToken = new ethers.Contract(zeroAddress, ERC20Abi, this.provider); // NULL contract\n    routerContract = new ethers.Contract(zeroAddress, RouterAbi, this.provider); // NULL contract\n    factoryContract = new ethers.Contract(zeroAddress, FactoryAbi, this.provider); // NULL contract\n\n    // Must be called immediately after instantiating the class\n    async init(provider: JsonRpcProvider, feeTokenAddr: string, env: Environment = Environment.PRODUCTION) {\n        this.chainId = (await provider.getNetwork()).chainId;\n        this.provider = provider;\n        this.feeToken = new ethers.Contract(feeTokenAddr, ERC20Abi, provider);\n        this.factoryContract = new ethers.Contract(constants.FACTORY_ADDRESS, FactoryAbi, provider);\n        this.routerContract = new ethers.Contract(constants.ROUTER_ADDRESS, RouterAbi, provider);\n        this.geodeEndpoint = RELAYER_ENDPOINT_MAP[env][this.chainId];\n        if (this.geodeEndpoint.length == 0) {\n            throw new Error(`Chain ID ${this.chainId} not supported`);\n        }\n    }\n\n    _checkInit() {\n        const notInit = this.chainId === -1 \n        || this.feeToken.address === zeroAddress \n        || this.geodeEndpoint === '' \n        || this.factoryContract.address === zeroAddress \n        || this.routerContract.address === zeroAddress;\n\n        if (notInit) {\n            throw new Error('Error: XATA API has not been initialized yet!');\n        }\n    }\n\n    async _pathExists(path: string[]): Promise<boolean> {\n        const factory = this.factoryContract;\n        for (let i = 0; i < path.length - 2; i++) {\n            const addr = await factory.getPair(path[i], path[i + 1]);\n            if (addr === zeroAddress) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    _verifySignature(domain: eip712.TypedDomain, message: eip712.TypedForwarder, signature: Signature, signerAddress: string): boolean {\n        const recovered = verifyTypedData(domain, {'Forwarder': eip712.ForwarderType}, message, signature);\n        return recovered === signerAddress;\n    }\n\n    setFeeToken(feeTokenAddr: string) {\n        this.feeToken = new ethers.Contract(feeTokenAddr, ERC20Abi, this.provider);\n    }\n\n    async sendRequest(\n        args: Array<any>,\n        method: string,\n        gasLimit: BigNumber,\n        gasPrice?: BigNumber,\n    ): Promise<Response> {\n        this._checkInit();\n\n        const price: BigNumber = gasPrice || await this.provider.getGasPrice(); // WEI per gas\n        const txnFee = gasLimit.mul(price);\n\n        // determine token gas price\n        let maxTokenFee = BigNumber.from(0);\n\n        switch (this.chainId) {\n            case ChainId.MATIC:\n                maxTokenFee = await calculateFeeOnMatic(this.feeToken.address, (await this.feeToken.decimals()), txnFee);\n                break;\n            case ChainId.MAINNET:\n                maxTokenFee = await calculateFee(this.chainId, this.feeToken.address, (await this.feeToken.decimals()), txnFee, 'eth');\n                break;\n            case ChainId.BSC:\n                maxTokenFee = await calculateFee(this.chainId, this.feeToken.address, (await this.feeToken.decimals()), txnFee, 'bnb');\n                break;\n        }\n\n        // fetch router info\n        const provider = this.provider;\n        const signer = provider.getSigner();\n\n        const user = await signer.getAddress();\n        const router = this.routerContract;\n        const nonce = await router.nonces(user);\n\n        // construct EIP712\n        const message = eip712.buildMessage(args, method, this.feeToken.address, maxTokenFee, nonce);\n        const domain = eip712.getDomain(router.address, this.chainId, 'ConveyorV2');\n        const EIP712Content = {\n            types: {\n                EIP712Domain: eip712.DomainType,\n                Forwarder: eip712.ForwarderType,\n            },\n            domain: domain,\n            primaryType: 'Forwarder',\n            message: message,\n        }\n        const sigParams = [user, JSON.stringify(EIP712Content)];\n\n        const metaIsEnabled = await router.metaEnabled();\n\n        if (metaIsEnabled) {\n            // sign message\n            const sig: Signature = await provider.send(\n                'eth_signTypedData_v4',\n                sigParams\n            )\n            const { v, r, s } = splitSignature(sig);\n\n            const params = [(this.chainId).toString(), EIP712Content, v.toString(), r, s];\n\n            if (!this._verifySignature(domain, message, sig, user)) {\n                throw new Error('Error: Invalid signature');\n            }\n\n            const jsonRpcRequest = {\n                jsonrpc: '2.0',\n                method: `/v2/metaTx/${method}`,\n                id: 1,\n                params\n            };\n\n            const requestOptions = {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(jsonRpcRequest),\n            }\n\n            // send request\n            console.log(requestOptions);\n            const jsonRpcResponse = await fetch(this.geodeEndpoint, requestOptions);\n            const result  = (await jsonRpcResponse.json()) as Response;\n            return result;\n        } else {\n            // send the txn directly\n            let res: Response;\n            try {\n                const tx = await signer.sendTransaction({\n                    to: router.address,\n                    data: message.data,\n                    gasLimit: gasLimit,\n                    gasPrice: price,\n                });\n                await tx.wait();\n                res = {\n                    id: 1,\n                    jsonrpc: '2.0',\n                    result: {\n                        errorMessage: '',\n                        success: true,\n                        txnHash: tx.hash,\n                    } \n                }\n            } catch (e) {\n                const err = e as Error;\n                res = {\n                    id: 1,\n                    jsonrpc: '2.0',\n                    result: {\n                        errorMessage: err.message,\n                        success: false,\n                        txnHash: '',\n                    } \n                }\n            }\n            return res;\n        }\n    }\n\n    async addLiquidity(\n        _tokenA: string,\n        _tokenB: string,\n        _amountADesired: BigNumber,\n        _amountBDesired: BigNumber,\n        _amountAMin: BigNumber,\n        _amountBMin: BigNumber,\n        _user: string,\n        _deadline: BigNumber,\n        gasLimit?: BigNumber,\n        gasPrice?: BigNumber\n    ) {\n        this._checkInit();\n\n        // check if a pair exists\n        const pairExists: boolean = (await this.factoryContract.getPair(_tokenA, _tokenB)) !== zeroAddress;\n\n        // get gas limit if not provided\n        let limit: BigNumber;\n        if (gasLimit) {\n            limit = gasLimit;\n        } else if (pairExists) {\n            limit = BigNumber.from(constants.ADD_LIQUIDITY_GAS_LIMIT);\n        } else {\n            limit = BigNumber.from(constants.CREATE_PAIR_GAS_LIMIT);\n        }\n\n        // trim gas price and gas limit\n        let args: Array<any> = [...arguments];\n        if (gasPrice) {\n            args = args.slice(0, args.length - 1);\n        } else if (gasPrice && gasLimit) {\n            args = args.slice(0, args.length - 2);\n        }\n\n        return (await this.sendRequest(args, 'addLiquidity', limit, gasPrice));\n    }\n\n    async swapExactTokensForTokens(\n        _amountIn: BigNumber,\n        _amountOutMin: BigNumber,\n        _path: string[],\n        _user: string,\n        _deadline: BigNumber,\n        gasLimit?: BigNumber,\n        gasPrice?: BigNumber\n    ) {\n        this._checkInit();\n\n        const pathExists: boolean = (await this._pathExists(_path)) && _path.length >= 2;\n\n        // get gas limit if not provided\n        let limit: BigNumber;\n        if (!pathExists) {\n            throw new Error(\"Trade path does not exist.\");\n        } else {\n            if (gasLimit) {\n                limit = gasLimit;\n            } else {\n                limit = BigNumber.from(constants.SWAP_GAS_LIMIT);\n                if (_path.length >= 2) {\n                    limit = limit.add(BigNumber.from(constants.HOP_ADDITIONAL_GAS * (_path.length - 2)));\n                }\n            }\n        }\n\n        // trim gas price and gas limit\n        let args: Array<any> = [...arguments];\n        if (gasPrice) {\n            args = args.slice(0, args.length - 1);\n        } else if (gasPrice && gasLimit) {\n            args = args.slice(0, args.length - 2);\n        }\n\n        return (await this.sendRequest(args, 'swapExactTokensForTokens', limit, gasPrice));\n    }\n\n    async removeLiquidity(\n        _tokenA: string,\n        _tokenB: string,\n        _liquidity: BigNumber,\n        _amountAMin: BigNumber,\n        _amountBMin: BigNumber,\n        _user: string,\n        _deadline: BigNumber,\n        gasLimit?: BigNumber,\n        gasPrice?: BigNumber\n    ) {\n        this._checkInit();\n\n        // check if a pair exists\n        const pairAddr = await this.factoryContract.getPair(_tokenA, _tokenB);\n        const pairExists: boolean = pairAddr !== zeroAddress;\n\n        // determine gas limit\n        let limit: BigNumber;\n        if (pairExists) {\n            if (gasLimit) {\n                limit = gasLimit;\n            } else {\n                limit = BigNumber.from(constants.REMOVE_LIQUIDITY_GAS_LIMIT);\n            }\n        } else {\n            throw new Error(\"Pair does not exist.\");\n        }\n\n        // sign the permit message\n        const pairErc20 = new ethers.Contract(pairAddr, PairAbi, this.provider);\n        const permitDomain = eip712.getDomain(pairAddr, this.chainId, 'Conveyor V2');\n        const pairNonce = await pairErc20.nonces(_user);\n        const permitMessage = {\n            owner: _user,\n            spender: this.routerContract.address,\n            value: _liquidity.toHexString(),\n            nonce: pairNonce.toHexString(),\n            deadline: _deadline.toHexString(),\n        }\n        const EIP712Permit = {\n            types: {\n                EIP712Domain: eip712.DomainType,\n                Permit: eip712.PermitType\n            },\n            domain: permitDomain,\n            primaryType: 'Permit',\n            message: permitMessage\n        }\n        const permitSigParams = [_user, JSON.stringify(EIP712Permit)];\n\n        const permitSig: Signature = await this.provider.send(\n            'eth_signTypedData_v4',\n            permitSigParams\n        )\n\n        const { v, r, s } = splitSignature(permitSig);\n\n        // trim gas price and gas limit\n        let args: Array<any> = [...arguments];\n        if (gasPrice) {\n            args = args.slice(0, args.length - 1);\n        } else if (gasPrice && gasLimit) {\n            args = args.slice(0, args.length - 2);\n        }\n\n        const sigStruct = {\n            v: v,\n            r: r,\n            s: s,\n        }\n\n        // append sig to args\n        args.push(sigStruct);\n\n        return (await this.sendRequest(args, 'removeLiquidity', limit, gasPrice));\n    }\n}","import { SOLIDITY_TYPE_MAXIMA, SolidityType, ZERO } from '../constants'\n\nimport JSBI from 'jsbi'\nimport invariant from 'tiny-invariant'\n\nexport function validateSolidityTypeInstance(value: JSBI, solidityType: SolidityType): void {\n  invariant(JSBI.greaterThanOrEqual(value, ZERO), `${value} is not a ${solidityType}.`)\n  invariant(JSBI.lessThanOrEqual(value, SOLIDITY_TYPE_MAXIMA[solidityType]), `${value} is not a ${solidityType}.`)\n}\n"],"names":["Exchanger","TokenType","ChainId","Rounding","TradeType","KashiAction","Fee","OrderStatus","Environment","USDC_ADDRESS","MAINNET","ROPSTEN","KOVAN","MATIC","FANTOM","BSC","HARMONY","HECO","OKEX","XDAI","FACTORY_ADDRESS","PRODUCTION","RINKEBY","GÖRLI","FANTOM_TESTNET","MATIC_TESTNET","BSC_TESTNET","ARBITRUM","ARBITRUM_TESTNET","MOONBEAM_TESTNET","AVALANCHE","AVALANCHE_TESTNET","HECO_TESTNET","HARMONY_TESTNET","OKEX_TESTNET","CELO","PALM","PALM_TESTNET","STAGING","ROUTER_ADDRESS","SUSHI_ADDRESS","MASTERCHEF_ADDRESS","BAR_ADDRESS","MAKER_ADDRESS","TIMELOCK_ADDRESS","BENTOBOX_ADDRESS","KASHI_ADDRESS","SUSHISWAP_SWAPPER_ADDRESS","SUSHISWAP_MULTISWAPPER_ADDRESS","SUSHISWAP_MULTI_EXACT_SWAPPER_ADDRESS","BORING_HELPER_ADDRESS","STOP_LIMIT_ORDER_ADDRESS","ARCHER_ROUTER_ADDRESS","MINICHEF_ADDRESS","WETH9_ADDRESS","WNATIVE_ADDRESS","MASTERCHEF_V2_ADDRESS","ENS_REGISTRAR_ADDRESS","ZAPPER_ADDRESS","MERKLE_DISTRIBUTOR_ADDRESS","MULTICALL2_ADDRESS","MINIMUM_TARGET_UTILIZATION","BigNumber","from","MAXIMUM_TARGET_UTILIZATION","UTILIZATION_PRECISION","FULL_UTILIZATION","FULL_UTILIZATION_MINUS_MAX","sub","STARTING_INTEREST_PER_YEAR","mul","MINIMUM_INTEREST_PER_YEAR","MAXIMUM_INTEREST_PER_YEAR","INTEREST_ELASTICITY","FACTOR_PRECISION","PROTOCOL_FEE","PROTOCOL_FEE_DIVISOR","AbstractCurrency","chainId","decimals","symbol","name","Number","isSafeInteger","invariant","isInteger","NativeCurrency","validateAndParseAddress","address","getAddress","error","Token","equals","other","isToken","this","sortsBefore","toLowerCase","USDC","WETH9","WNATIVE","Avalanche","_NativeCurrency","onChain","_cache","isNative","wnative","Binance","Celo","wcelo","Ether","_etherCache","weth9","Fantom","Harmony","Heco","Matic","Okex","xDai","Palm","SolidityType","NATIVE","MaxUint256","JSBI","BigInt","ZERO","ONE","TWO","THREE","FIVE","TEN","_100","_997","_1000","LIQUIDITY_TOKEN_IDENTITY","UNISWAP","CONVEYOR","INIT_CODE_HASH","SUSHI","MINIMUM_LIQUIDITY","SOLIDITY_TYPE_MAXIMA","uint8","uint256","LAMBDA_URL","CAN_SET_PROTOTYPE","Object","InsufficientReservesError","_this","constructor","setPrototypeOf","prototype","Error","InsufficientInputAmountError","_this2","Decimal","toFormat","_Decimal","Big","_Big","strict","toSignificantRounding","ROUND_DOWN","ROUND_HALF_UP","ROUND_UP","toFixedRounding","Fraction","numerator","denominator","tryParseFraction","fractionish","invert","add","otherParsed","equal","multiply","subtract","lessThan","equalTo","greaterThan","divide","toSignificant","significantDigits","format","rounding","groupSeparator","set","precision","quotient","toString","div","toSignificantDigits","decimalPlaces","toFixed","DP","RM","remainder","CurrencyAmount","currency","lessThanOrEqual","decimalScale","exponentiate","fromRawAmount","rawAmount","fromFractionalAmount","added","subtracted","multiplied","divided","_Fraction","toExact","wrapped","Price","baseCurrency","quoteCurrency","args","length","result","quoteAmount","baseAmount","scalar","fraction","quote","currencyAmount","adjustedForDecimals","computePairAddress","factoryAddress","tokenA","tokenB","isConveyorPair","exchanger","getCreate2Address","keccak256","pack","initCodeHashOf","MAX_SAFE_INTEGER","sqrt","value","greaterThanOrEqual","Math","floor","toNumber","z","x","Pair","currencyAmountA","currencyAmountB","conveyorEnvIsProduction","undefined","type","currencyAmounts","tokenSymbol","tokenName","liquidityToken","tokenAmounts","env","factoryAddressOf","involvesToken","token","token0","token1","priceOf","token0Price","token1Price","reserveOf","reserve0","reserve1","getOutputAmount","inputAmount","inputReserve","outputReserve","inputAmountWithFee","outputAmount","getInputAmount","getLiquidityMinted","totalSupply","tokenAmountA","tokenAmountB","liquidity","amount0","amount1","getLiquidityValue","feeOn","kLast","totalSupplyAdjusted","kLastParsed","rootK","rootKLast","feeLiquidity","ONE_HUNDRED","toPercent","Percent","Route","pairs","input","output","every","pair","wrappedInput","path","entries","currentInput","push","_midPrice","prices","reduced","slice","reduce","accumulator","currentValue","computePriceImpact","midPrice","quotedOutputAmount","priceImpact","sortedInsert","items","maxSize","comparator","isFull","lo","hi","mid","splice","pop","inputOutputComparator","a","b","tradeComparator","ioComp","route","PoolType","Trade","amount","tradeType","Array","EXACT_INPUT","i","executionPrice","exactIn","amountIn","exactOut","amountOut","EXACT_OUTPUT","minimumAmountOut","slippageTolerance","slippageAdjustedAmountOut","maximumAmountIn","slippageAdjustedAmountIn","bestTradeExactIn","currencyAmountIn","currencyOut","currentPairs","nextAmountIn","bestTrades","maxNumResults","maxHops","tokenOut","isInsufficientInputAmountError","pairsExcludingThisPair","concat","worstExecutionPrice","bestTradeExactOut","currencyIn","currencyAmountOut","nextAmountOut","tokenIn","isInsufficientReservesError","runtime","exports","Op","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","obj","key","defineProperty","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","generator","create","Generator","context","Context","_invoke","state","method","arg","done","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","makeInvokeMethod","fn","call","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","resolve","reject","invoke","__await","then","unwrapped","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","doneResult","displayName","isGeneratorFunction","genFun","ctor","mark","__proto__","awrap","async","Promise","iter","keys","object","reverse","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","module","regeneratorRuntime","accidentalStrictMode","globalThis","Function","RouteStatus","Pool","_info","minLiquidity","swapGasCost","fee","ConstantProductPool","_Pool","ConstantProduct","HybridPool","Hybrid","A","WeightedPool","Weighted","weight0","weight1","ConcentratedLiquidityPool","ConcentratedLiquidity","sqrtPrice","nearestTick","ticks","types","EIP712Domain","LimitOrder","bentoTypes","SetMasterContractApproval","getSignature","message","privateKey","sign","primaryType","domain","verifyingContract","getTypedData","getTypedDataBento","getTypeHash","typedData","getMessage","SigningKey","signDigest","v","r","s","getSignatureWithProvider","provider","send","maker","JSON","stringify","splitSignature","getSignatureWithProviderBentobox","user","getSignatureBento","bentoApproval","toHex","Router","swapCallParameters","trade","options","etherIn","etherOut","ttl","methodName","to","recipient","allowedSlippage","map","deadline","Date","getTime","useFeeOnTransfer","Boolean","feeOnTransfer","DCacheBN","Map","HybridComputeLiquidity","pool","res","get","r0","r1","isZero","prevD","nA","D","dP","abs","lte","HybridgetY","yPrev","c","y","OutOfLiquidity","calcPrice","parseInt","weightRatio","pow","hPool","ac4","revertPositive","f","out","hint","min","max","x0","y0","e","getBigNumber","valueBN","round","exp","log","LN2","console","assert","shift","mant","startTime","endTime","stopPrice","oracleAddress","oracleData","getLimitOrder","data","tokenInDecimals","tokenInSymbol","tokenOutDecimals","tokenOutSymbol","usePrice","price","signdOrderWithPrivatekey","order","tokenInAddress","tokenOutAddress","amountInRaw","amountOutRaw","signOrderWithProvider","fetch","body","json","FillLimitOrder","amountExternal","amountToFill","limitOrderReceiver","keepTokenIn","limitOrderReceiverData","defaultAbiCoder","encode","fillOrderOpen","signer","extra","open","fillOrder","gasPrice","nonce","forceExecution","func","orderArg","limitOrderContract","Contract","abi","executed","debug","estimateGas","gasLimit","transaction","Fetcher","fetchPairData","getDefaultProvider","getNetwork","UniswapV2Pair","getReserves","reserves0","reserves1","balances","addLiquidityIFace","utils","Interface","encodeAddLiquidity","_tokenA","_tokenB","_amountADesired","_amountBDesired","_amountAMin","_amountBMin","_user","_deadline","arguments","typedArgs","encodeFunctionData","swapExactTokensForTokensIFace","encodeSwapExactTokensForTokens","_amountIn","_amountOutMin","_path","removeLiquidityWithPermitIFace","encodeRemoveLiquidityWithPermit","_liquidity","_sig_obj","trimmedArgs","toUtf8Bytes","solidityPack","DomainType","PermitType","ForwarderType","hashAddLiquidityPayload","amountADesired","amountBDesired","amountAMin","amountBMin","ADDLIQUIDITY_TYPEHASH","hashSwapPayload","SWAP_TYPEHASH","hashRemoveLiquidityPayload","sig","REMOVE_LIQUIDITY_TYPEHASH","getDomain","contractAddress","chain_id","domain_name","version","toHexString","buildMessage","feeToken","maxTokenAmount","hashedPayload","PRICE_API_PREFIX","calculateFee","tokenDecimals","gasFee","nativeToken","nativeTokenDecimals","priceApiPrefix","ethPerToken","eth","bnb","factor","JSBigNumber","adjustedPrice","multipliedBy","calculateFeeOnMatic","adjustedBnbPerToken","maticResponse","bnbPerMatic","RELAYER_ENDPOINT_MAP","verifyTypedData","zeroAddress","ethersConstants","AddressZero","XATA","ethers","providers","JsonRpcProvider","ERC20Abi","RouterAbi","FactoryAbi","init","feeTokenAddr","factoryContract","routerContract","geodeEndpoint","_checkInit","_pathExists","factory","getPair","_verifySignature","signature","signerAddress","eip712","setFeeToken","sendRequest","getGasPrice","txnFee","maxTokenFee","getSigner","router","nonces","EIP712Content","Forwarder","sigParams","metaEnabled","params","requestOptions","headers","jsonrpc","id","jsonRpcResponse","sendTransaction","tx","wait","errorMessage","success","txnHash","hash","addLiquidity","pairExists","limit","swapExactTokensForTokens","removeLiquidity","pairAddr","pairErc20","PairAbi","permitDomain","pairNonce","permitMessage","owner","spender","EIP712Permit","Permit","permitSigParams","t","direction","xBN","yBN","yNewBN","lt","xNewBN","priceEffective","calcInputByPriceConstantMean","inAmount","index","unshift","DLiquidity","nextTickToCross","currentPrice","currentLiquidity","outAmount","nextTickPrice","maxDx","maxDy","ConcentratedLiquidityOutByIn","sqrtD","accuracy","currencyA","currencyB","solidityType"],"mappings":"8IAAYA,ECAAC,ECAAC,ECAAC,ECAAC,ECAAC,ECCAC,ECDAC,ECAAC,gxBRAAR,EAAAA,oBAAAA,0CAEVA,4BCFUC,EAAAA,oBAAAA,8CAEVA,4BCFUC,EAAAA,kBAAAA,4CAEVA,yBACAA,yBACAA,wBACAA,sBACAA,uBACAA,yCACAA,yBACAA,0CACAA,qBACAA,kBACAA,kCACAA,+BACAA,wDACAA,8CACAA,iCACAA,iDACAA,qBACAA,qCACAA,+BACAA,+CACAA,oBACAA,oCACAA,uBACAA,6BACAA,8CC1BUC,EAAAA,mBAAAA,mDAEVA,qCACAA,4BCHUC,EAAAA,oBAAAA,sDAEVA,oCCFUC,EAAAA,sBAAAA,oDAEVA,qBACAA,mCACAA,6CACAA,uBACAA,yCACAA,uCACAA,uBAGAA,wCACAA,oDAGAA,sCACAA,wCACAA,wCACAA,0DACAA,8CAGAA,qBCrBUC,EAAAA,cAAAA,0CCDAC,EAAAA,sBAAAA,yCAEVA,wBACAA,oBACAA,qBCJUC,EAAAA,sBAAAA,sDAEVA,6BCCWC,WACVP,gBAAQQ,SAAU,+CAClBR,gBAAQS,SAAU,+CAClBT,gBAAQU,OAAQ,+CAChBV,gBAAQW,OAAQ,+CAChBX,gBAAQY,QAAS,+CACjBZ,gBAAQa,KAAM,+CACdb,gBAAQc,SAAU,+CAClBd,gBAAQe,MAAO,+CACff,gBAAQgB,MAAO,+CACfhB,gBAAQiB,MAAO,gDAGLC,WACVZ,oBAAYa,oBACVnB,gBAAQQ,SAAU,+CAClBR,gBAAQoB,SAAU,KAClBpB,gBAAQS,SAAU,KAClBT,gBAAQqB,OAAQ,KAChBrB,gBAAQU,OAAQ,KAChBV,gBAAQY,QAAS,KACjBZ,gBAAQsB,gBAAiB,KACzBtB,gBAAQW,OAAQ,+CAChBX,gBAAQuB,eAAgB,KACxBvB,gBAAQiB,MAAO,KACfjB,gBAAQa,KAAM,+CACdb,gBAAQwB,aAAc,KACtBxB,gBAAQyB,UAAW,KACnBzB,gBAAQ0B,kBAAmB,KAC3B1B,gBAAQ2B,kBAAmB,KAC3B3B,gBAAQ4B,WAAY,KACpB5B,gBAAQ6B,mBAAoB,KAC5B7B,gBAAQe,MAAO,KACff,gBAAQ8B,cAAe,KACvB9B,gBAAQc,SAAU,KAClBd,gBAAQ+B,iBAAkB,KAC1B/B,gBAAQgB,MAAO,KACfhB,gBAAQgC,cAAe,KACvBhC,gBAAQiC,MAAO,KACfjC,gBAAQkC,MAAO,KACflC,gBAAQmC,cAAe,QAEzB7B,oBAAY8B,iBACVpC,gBAAQQ,SAAU,+CAClBR,gBAAQoB,SAAU,KAClBpB,gBAAQS,SAAU,KAClBT,gBAAQqB,OAAQ,KAChBrB,gBAAQU,OAAQ,KAChBV,gBAAQY,QAAS,KACjBZ,gBAAQsB,gBAAiB,KAEzBtB,gBAAQW,OAAQ,+CAChBX,gBAAQuB,eAAgB,KACxBvB,gBAAQiB,MAAO,KACfjB,gBAAQa,KAAM,+CACdb,gBAAQwB,aAAc,KACtBxB,gBAAQyB,UAAW,KACnBzB,gBAAQ0B,kBAAmB,KAC3B1B,gBAAQ2B,kBAAmB,KAC3B3B,gBAAQ4B,WAAY,KACpB5B,gBAAQ6B,mBAAoB,KAC5B7B,gBAAQe,MAAO,KACff,gBAAQ8B,cAAe,KACvB9B,gBAAQc,SAAU,KAClBd,gBAAQ+B,iBAAkB,KAC1B/B,gBAAQgB,MAAO,KACfhB,gBAAQgC,cAAe,KACvBhC,gBAAQiC,MAAO,KACfjC,gBAAQkC,MAAO,KACflC,gBAAQmC,cAAe,SAIfE,WACV/B,oBAAYa,oBACVnB,gBAAQQ,SAAU,+CAClBR,gBAAQoB,SAAU,KAClBpB,gBAAQS,SAAU,KAClBT,gBAAQqB,OAAQ,KAChBrB,gBAAQU,OAAQ,KAChBV,gBAAQY,QAAS,KACjBZ,gBAAQsB,gBAAiB,KACzBtB,gBAAQW,OAAQ,+CAChBX,gBAAQuB,eAAgB,KACxBvB,gBAAQiB,MAAO,KACfjB,gBAAQa,KAAM,+CACdb,gBAAQwB,aAAc,KACtBxB,gBAAQyB,UAAW,KACnBzB,gBAAQ0B,kBAAmB,KAC3B1B,gBAAQ2B,kBAAmB,KAC3B3B,gBAAQ4B,WAAY,KACpB5B,gBAAQ6B,mBAAoB,KAC5B7B,gBAAQe,MAAO,KACff,gBAAQ8B,cAAe,KACvB9B,gBAAQc,SAAU,KAClBd,gBAAQ+B,iBAAkB,KAC1B/B,gBAAQgB,MAAO,KACfhB,gBAAQgC,cAAe,KACvBhC,gBAAQiC,MAAO,KACfjC,gBAAQkC,MAAO,KACflC,gBAAQmC,cAAe,QAEzB7B,oBAAY8B,iBACVpC,gBAAQQ,SAAU,+CAClBR,gBAAQoB,SAAU,KAClBpB,gBAAQS,SAAU,KAClBT,gBAAQqB,OAAQ,KAChBrB,gBAAQU,OAAQ,KAChBV,gBAAQY,QAAS,KACjBZ,gBAAQsB,gBAAiB,KAEzBtB,gBAAQW,OAAQ,+CAChBX,gBAAQuB,eAAgB,KACxBvB,gBAAQiB,MAAO,KACfjB,gBAAQa,KAAM,+CACdb,gBAAQwB,aAAc,KACtBxB,gBAAQyB,UAAW,KACnBzB,gBAAQ0B,kBAAmB,KAC3B1B,gBAAQ2B,kBAAmB,KAC3B3B,gBAAQ4B,WAAY,KACpB5B,gBAAQ6B,mBAAoB,KAC5B7B,gBAAQe,MAAO,KACff,gBAAQ8B,cAAe,KACvB9B,gBAAQc,SAAU,KAClBd,gBAAQ+B,iBAAkB,KAC1B/B,gBAAQgB,MAAO,KACfhB,gBAAQgC,cAAe,KACvBhC,gBAAQiC,MAAO,KACfjC,gBAAQkC,MAAO,KACflC,gBAAQmC,cAAe,SAIfG,WACVtC,gBAAQQ,SAAU,+CAClBR,gBAAQS,SAAU,+CAClBT,gBAAQoB,SAAU,+CAClBpB,gBAAQqB,OAAQ,+CAChBrB,gBAAQU,OAAQ,+CAChBV,gBAAQY,QAAS,+CACjBZ,gBAAQsB,gBAAiB,KACzBtB,gBAAQW,OAAQ,+CAChBX,gBAAQuB,eAAgB,KACxBvB,gBAAQiB,MAAO,+CACfjB,gBAAQa,KAAM,+CACdb,gBAAQwB,aAAc,KACtBxB,gBAAQyB,UAAW,KACnBzB,gBAAQ0B,kBAAmB,KAC3B1B,gBAAQ2B,kBAAmB,KAC3B3B,gBAAQ4B,WAAY,+CACpB5B,gBAAQ6B,mBAAoB,KAC5B7B,gBAAQe,MAAO,+CACff,gBAAQ8B,cAAe,KACvB9B,gBAAQc,SAAU,+CAClBd,gBAAQ+B,iBAAkB,KAC1B/B,gBAAQgB,MAAO,+CACfhB,gBAAQgC,cAAe,KACvBhC,gBAAQiC,MAAO,KACfjC,gBAAQkC,MAAO,KACflC,gBAAQmC,cAAe,MAGbI,WACVvC,gBAAQQ,SAAU,+CAClBR,gBAAQS,SAAU,+CAClBT,gBAAQoB,SAAU,+CAClBpB,gBAAQqB,OAAQ,+CAChBrB,gBAAQU,OAAQ,+CAChBV,gBAAQY,QAAS,KACjBZ,gBAAQsB,gBAAiB,KACzBtB,gBAAQW,OAAQ,KAChBX,gBAAQuB,eAAgB,KACxBvB,gBAAQiB,MAAO,KACfjB,gBAAQa,KAAM,KACdb,gBAAQwB,aAAc,KACtBxB,gBAAQyB,UAAW,KACnBzB,gBAAQ0B,kBAAmB,KAC3B1B,gBAAQ2B,kBAAmB,KAC3B3B,gBAAQ4B,WAAY,KACpB5B,gBAAQ6B,mBAAoB,KAC5B7B,gBAAQe,MAAO,KACff,gBAAQ8B,cAAe,KACvB9B,gBAAQc,SAAU,KAClBd,gBAAQ+B,iBAAkB,KAC1B/B,gBAAQgB,MAAO,KACfhB,gBAAQgC,cAAe,KACvBhC,gBAAQiC,MAAO,KACfjC,gBAAQkC,MAAO,KACflC,gBAAQmC,cAAe,MAGbK,WACVxC,gBAAQQ,SAAU,+CAClBR,gBAAQS,SAAU,+CAClBT,gBAAQoB,SAAU,+CAClBpB,gBAAQqB,OAAQ,+CAChBrB,gBAAQU,OAAQ,+CAChBV,gBAAQY,QAAS,KACjBZ,gBAAQsB,gBAAiB,KACzBtB,gBAAQW,OAAQ,KAChBX,gBAAQuB,eAAgB,KACxBvB,gBAAQiB,MAAO,KACfjB,gBAAQa,KAAM,KACdb,gBAAQwB,aAAc,KACtBxB,gBAAQyB,UAAW,KACnBzB,gBAAQ0B,kBAAmB,KAC3B1B,gBAAQ2B,kBAAmB,KAC3B3B,gBAAQ4B,WAAY,KACpB5B,gBAAQ6B,mBAAoB,KAC5B7B,gBAAQe,MAAO,KACff,gBAAQ8B,cAAe,KACvB9B,gBAAQc,SAAU,KAClBd,gBAAQ+B,iBAAkB,KAC1B/B,gBAAQgB,MAAO,KACfhB,gBAAQgC,cAAe,KACvBhC,gBAAQiC,MAAO,KACfjC,gBAAQkC,MAAO,KACflC,gBAAQmC,cAAe,MAGbM,WACVzC,gBAAQQ,SAAU,+CAClBR,gBAAQS,SAAU,+CAClBT,gBAAQoB,SAAU,+CAClBpB,gBAAQqB,OAAQ,+CAChBrB,gBAAQU,OAAQ,+CAChBV,gBAAQY,QAAS,KACjBZ,gBAAQsB,gBAAiB,KACzBtB,gBAAQW,OAAQ,KAChBX,gBAAQuB,eAAgB,KACxBvB,gBAAQiB,MAAO,KACfjB,gBAAQa,KAAM,KACdb,gBAAQwB,aAAc,KACtBxB,gBAAQyB,UAAW,KACnBzB,gBAAQ0B,kBAAmB,KAC3B1B,gBAAQ2B,kBAAmB,KAC3B3B,gBAAQ4B,WAAY,KACpB5B,gBAAQ6B,mBAAoB,KAC5B7B,gBAAQe,MAAO,KACff,gBAAQ8B,cAAe,KACvB9B,gBAAQc,SAAU,KAClBd,gBAAQ+B,iBAAkB,KAC1B/B,gBAAQgB,MAAO,KACfhB,gBAAQgC,cAAe,KACvBhC,gBAAQiC,MAAO,KACfjC,gBAAQkC,MAAO,KACflC,gBAAQmC,cAAe,MAGbO,WACV1C,gBAAQQ,SAAU,+CAClBR,gBAAQS,SAAU,KAClBT,gBAAQoB,SAAU,KAClBpB,gBAAQqB,OAAQ,KAChBrB,gBAAQU,OAAQ,KAChBV,gBAAQY,QAAS,KACjBZ,gBAAQsB,gBAAiB,KACzBtB,gBAAQW,OAAQ,KAChBX,gBAAQuB,eAAgB,KACxBvB,gBAAQiB,MAAO,KACfjB,gBAAQa,KAAM,KACdb,gBAAQwB,aAAc,KACtBxB,gBAAQyB,UAAW,KACnBzB,gBAAQ0B,kBAAmB,KAC3B1B,gBAAQ2B,kBAAmB,KAC3B3B,gBAAQ4B,WAAY,KACpB5B,gBAAQ6B,mBAAoB,KAC5B7B,gBAAQe,MAAO,KACff,gBAAQ8B,cAAe,KACvB9B,gBAAQc,SAAU,KAClBd,gBAAQ+B,iBAAkB,KAC1B/B,gBAAQgB,MAAO,KACfhB,gBAAQgC,cAAe,KACvBhC,gBAAQiC,MAAO,KACfjC,gBAAQkC,MAAO,KACflC,gBAAQmC,cAAe,MAGbQ,WACV3C,gBAAQQ,SAAU,+CAClBR,gBAAQS,SAAU,+CAClBT,gBAAQoB,SAAU,+CAClBpB,gBAAQqB,OAAQ,+CAChBrB,gBAAQU,OAAQ,+CAChBV,gBAAQY,QAAS,+CACjBZ,gBAAQsB,gBAAiB,KACzBtB,gBAAQW,OAAQ,+CAChBX,gBAAQuB,eAAgB,+CACxBvB,gBAAQiB,MAAO,+CACfjB,gBAAQa,KAAM,+CACdb,gBAAQwB,aAAc,+CACtBxB,gBAAQyB,UAAW,KACnBzB,gBAAQ0B,kBAAmB,KAC3B1B,gBAAQ2B,kBAAmB,KAC3B3B,gBAAQ4B,WAAY,KACpB5B,gBAAQ6B,mBAAoB,KAC5B7B,gBAAQe,MAAO,+CACff,gBAAQ8B,cAAe,KACvB9B,gBAAQc,SAAU,KAClBd,gBAAQ+B,iBAAkB,KAC1B/B,gBAAQgB,MAAO,KACfhB,gBAAQgC,cAAe,KACvBhC,gBAAQiC,MAAO,KACfjC,gBAAQkC,MAAO,KACflC,gBAAQmC,cAAe,MAGbS,WACV5C,gBAAQQ,SAAU,+CAClBR,gBAAQS,SAAU,KAClBT,gBAAQoB,SAAU,KAClBpB,gBAAQqB,OAAQ,KAChBrB,gBAAQU,OAAQ,+CAChBV,gBAAQY,QAAS,KACjBZ,gBAAQsB,gBAAiB,KACzBtB,gBAAQW,OAAQ,+CAChBX,gBAAQuB,eAAgB,KACxBvB,gBAAQiB,MAAO,+CACfjB,gBAAQa,KAAM,+CACdb,gBAAQwB,aAAc,KACtBxB,gBAAQyB,UAAW,KACnBzB,gBAAQ0B,kBAAmB,KAC3B1B,gBAAQ2B,kBAAmB,KAC3B3B,gBAAQ4B,WAAY,KACpB5B,gBAAQ6B,mBAAoB,KAC5B7B,gBAAQe,MAAO,+CACff,gBAAQ8B,cAAe,KACvB9B,gBAAQc,SAAU,KAClBd,gBAAQ+B,iBAAkB,KAC1B/B,gBAAQgB,MAAO,KACfhB,gBAAQgC,cAAe,KACvBhC,gBAAQiC,MAAO,KACfjC,gBAAQkC,MAAO,KACflC,gBAAQmC,cAAe,MAGbU,WACV7C,gBAAQQ,SAAU,+CAClBR,gBAAQS,SAAU,KAClBT,gBAAQoB,SAAU,KAClBpB,gBAAQqB,OAAQ,KAChBrB,gBAAQU,OAAQ,KAChBV,gBAAQY,QAAS,KACjBZ,gBAAQsB,gBAAiB,KACzBtB,gBAAQW,OAAQ,+CAChBX,gBAAQuB,eAAgB,KACxBvB,gBAAQiB,MAAO,+CACfjB,gBAAQa,KAAM,+CACdb,gBAAQwB,aAAc,KACtBxB,gBAAQyB,UAAW,KACnBzB,gBAAQ0B,kBAAmB,KAC3B1B,gBAAQ2B,kBAAmB,KAC3B3B,gBAAQ4B,WAAY,KACpB5B,gBAAQ6B,mBAAoB,KAC5B7B,gBAAQe,MAAO,+CACff,gBAAQ8B,cAAe,KACvB9B,gBAAQc,SAAU,KAClBd,gBAAQ+B,iBAAkB,KAC1B/B,gBAAQgB,MAAO,KACfhB,gBAAQgC,cAAe,KACvBhC,gBAAQiC,MAAO,KACfjC,gBAAQkC,MAAO,KACflC,gBAAQmC,cAAe,MAGbW,WACV9C,gBAAQQ,SAAU,+CAClBR,gBAAQS,SAAU,KAClBT,gBAAQoB,SAAU,KAClBpB,gBAAQqB,OAAQ,KAChBrB,gBAAQU,OAAQ,+CAChBV,gBAAQY,QAAS,KACjBZ,gBAAQsB,gBAAiB,KACzBtB,gBAAQW,OAAQ,+CAChBX,gBAAQuB,eAAgB,KACxBvB,gBAAQiB,MAAO,+CACfjB,gBAAQa,KAAM,+CACdb,gBAAQwB,aAAc,KACtBxB,gBAAQyB,UAAW,KACnBzB,gBAAQ0B,kBAAmB,KAC3B1B,gBAAQ2B,kBAAmB,KAC3B3B,gBAAQ4B,WAAY,KACpB5B,gBAAQ6B,mBAAoB,KAC5B7B,gBAAQe,MAAO,KACff,gBAAQ8B,cAAe,KACvB9B,gBAAQc,SAAU,KAClBd,gBAAQ+B,iBAAkB,KAC1B/B,gBAAQgB,MAAO,KACfhB,gBAAQgC,cAAe,KACvBhC,gBAAQiC,MAAO,KACfjC,gBAAQkC,MAAO,KACflC,gBAAQmC,cAAe,MAGbY,WACV/C,gBAAQQ,SAAU,+CAClBR,gBAAQS,SAAU,KAClBT,gBAAQoB,SAAU,KAClBpB,gBAAQqB,OAAQ,KAChBrB,gBAAQU,OAAQ,+CAChBV,gBAAQY,QAAS,KACjBZ,gBAAQsB,gBAAiB,KACzBtB,gBAAQW,OAAQ,+CAChBX,gBAAQuB,eAAgB,KACxBvB,gBAAQiB,MAAO,+CACfjB,gBAAQa,KAAM,+CACdb,gBAAQwB,aAAc,KACtBxB,gBAAQyB,UAAW,KACnBzB,gBAAQ0B,kBAAmB,KAC3B1B,gBAAQ2B,kBAAmB,KAC3B3B,gBAAQ4B,WAAY,KACpB5B,gBAAQ6B,mBAAoB,KAC5B7B,gBAAQe,MAAO,KACff,gBAAQ8B,cAAe,KACvB9B,gBAAQc,SAAU,KAClBd,gBAAQ+B,iBAAkB,KAC1B/B,gBAAQgB,MAAO,KACfhB,gBAAQgC,cAAe,KACvBhC,gBAAQiC,MAAO,KACfjC,gBAAQkC,MAAO,KACflC,gBAAQmC,cAAe,MAWba,WACVhD,gBAAQQ,SAAU,+CAClBR,gBAAQS,SAAU,KAClBT,gBAAQoB,SAAU,KAClBpB,gBAAQqB,OAAQ,KAChBrB,gBAAQU,OAAQ,+CAChBV,gBAAQY,QAAS,KACjBZ,gBAAQsB,gBAAiB,KACzBtB,gBAAQW,OAAQ,+CAChBX,gBAAQuB,eAAgB,KACxBvB,gBAAQiB,MAAO,+CACfjB,gBAAQa,KAAM,+CACdb,gBAAQwB,aAAc,KACtBxB,gBAAQyB,UAAW,KACnBzB,gBAAQ0B,kBAAmB,KAC3B1B,gBAAQ2B,kBAAmB,KAC3B3B,gBAAQ4B,WAAY,KACpB5B,gBAAQ6B,mBAAoB,KAC5B7B,gBAAQe,MAAO,+CACff,gBAAQ8B,cAAe,KACvB9B,gBAAQc,SAAU,KAClBd,gBAAQ+B,iBAAkB,KAC1B/B,gBAAQgB,MAAO,KACfhB,gBAAQgC,cAAe,KACvBhC,gBAAQiC,MAAO,KACfjC,gBAAQkC,MAAO,KACflC,gBAAQmC,cAAe,MAGbc,WACVjD,gBAAQQ,SAAU,KAClBR,gBAAQS,SAAU,KAClBT,gBAAQoB,SAAU,KAClBpB,gBAAQqB,OAAQ,KAChBrB,gBAAQU,OAAQ,+CAChBV,gBAAQY,QAAS,KACjBZ,gBAAQsB,gBAAiB,KACzBtB,gBAAQW,OAAQ,+CAChBX,gBAAQuB,eAAgB,KACxBvB,gBAAQiB,MAAO,KACfjB,gBAAQa,KAAM,KACdb,gBAAQwB,aAAc,KACtBxB,gBAAQyB,UAAW,KACnBzB,gBAAQ0B,kBAAmB,KAC3B1B,gBAAQ2B,kBAAmB,KAC3B3B,gBAAQ4B,WAAY,KACpB5B,gBAAQ6B,mBAAoB,KAC5B7B,gBAAQe,MAAO,KACff,gBAAQ8B,cAAe,KACvB9B,gBAAQc,SAAU,KAClBd,gBAAQ+B,iBAAkB,KAC1B/B,gBAAQgB,MAAO,KACfhB,gBAAQgC,cAAe,KACvBhC,gBAAQiC,MAAO,KACfjC,gBAAQkC,MAAO,KACflC,gBAAQmC,cAAe,MAGbe,WACVlD,gBAAQQ,SAAU,gDAGR2C,WACVnD,gBAAQW,OAAQ,+CAChBX,gBAAQiB,MAAO,+CACfjB,gBAAQc,SAAU,gDAGRsC,WACVpD,gBAAQQ,SAAU,+CAClBR,gBAAQS,SAAU,+CAClBT,gBAAQoB,SAAU,+CAClBpB,gBAAQqB,OAAQ,+CAChBrB,gBAAQU,OAAQ,+CAChBV,gBAAQyB,UAAW,+CACnBzB,gBAAQ0B,kBAAmB,+CAC3B1B,gBAAQa,KAAM,+CACdb,gBAAQY,QAAS,+CACjBZ,gBAAQW,OAAQ,+CAChBX,gBAAQgB,MAAO,+CACfhB,gBAAQe,MAAO,+CACff,gBAAQc,SAAU,+CAClBd,gBAAQiB,MAAO,+CACfjB,gBAAQ4B,WAAY,gDAGVyB,WACVrD,gBAAQQ,SAAU4C,GAAcpD,gBAAQQ,WACxCR,gBAAQS,SAAU2C,GAAcpD,gBAAQS,WACxCT,gBAAQoB,SAAUgC,GAAcpD,gBAAQoB,WACxCpB,gBAAQqB,OAAQ+B,GAAcpD,gBAAQqB,SACtCrB,gBAAQU,OAAQ0C,GAAcpD,gBAAQU,SACtCV,gBAAQyB,UAAW2B,GAAcpD,gBAAQyB,YACzCzB,gBAAQ0B,kBAAmB0B,GAAcpD,gBAAQ0B,oBACjD1B,gBAAQY,QAAS,+CACjBZ,gBAAQsB,gBAAiB,+CACzBtB,gBAAQW,OAAQ,+CAChBX,gBAAQuB,eAAgB,+CACxBvB,gBAAQiB,MAAO,+CACfjB,gBAAQa,KAAM,+CACdb,gBAAQwB,aAAc,+CACtBxB,gBAAQ2B,kBAAmB,+CAC3B3B,gBAAQ4B,WAAY,+CACpB5B,gBAAQ6B,mBAAoB,+CAC5B7B,gBAAQe,MAAO,+CACff,gBAAQ8B,cAAe,+CACvB9B,gBAAQc,SAAU,+CAClBd,gBAAQ+B,iBAAkB,+CAC1B/B,gBAAQgB,MAAO,+CACfhB,gBAAQgC,cAAe,+CACvBhC,gBAAQiC,MAAO,+CACfjC,gBAAQkC,MAAO,gDAGLoB,WACVtD,gBAAQQ,SAAU,gDAGR+C,WACVvD,gBAAQQ,SAAU,+CAClBR,gBAAQqB,OAAQ,+CAChBrB,gBAAQS,SAAU,+CAClBT,gBAAQoB,SAAU,gDAGRoC,WACVxD,gBAAQQ,SAAU,+CAClBR,gBAAQS,SAAU,gDAGRgD,WACVzD,gBAAQQ,SAAU,+CAClBR,gBAAQS,SAAU,gDAGRiD,WACV1D,gBAAQQ,SAAU,+CAClBR,gBAAQS,SAAU,+CAClBT,gBAAQoB,SAAU,+CAClBpB,gBAAQqB,OAAQ,+CAChBrB,gBAAQU,OAAQ,+CAChBV,gBAAQyB,UAAW,+CACnBzB,gBAAQ0B,kBAAmB,+CAC3B1B,gBAAQiC,MAAO,+CACfjC,gBAAQY,QAAS,+CACjBZ,gBAAQsB,gBAAiB,KACzBtB,gBAAQW,OAAQ,+CAChBX,gBAAQuB,eAAgB,KACxBvB,gBAAQiB,MAAO,+CACfjB,gBAAQa,KAAM,+CACdb,gBAAQwB,aAAc,KACtBxB,gBAAQ2B,kBAAmB,KAC3B3B,gBAAQ4B,WAAY,+CACpB5B,gBAAQ6B,mBAAoB,KAC5B7B,gBAAQe,MAAO,+CACff,gBAAQ8B,cAAe,KACvB9B,gBAAQc,SAAU,+CAClBd,gBAAQ+B,iBAAkB,KAC1B/B,gBAAQgB,MAAO,+CACfhB,gBAAQgC,cAAe,KACvBhC,gBAAQkC,MAAO,gDCxjBLyB,GAA6BC,YAAUC,KAAK,sBAE5CC,GAA6BF,YAAUC,KAAK,sBAE5CE,GAAwBH,YAAUC,KAAK,uBAEvCG,GAAmBJ,YAAUC,KAAK,uBAElCI,GAA6BD,GAAiBE,IAAIJ,IAElDK,GAA6BP,YAAUC,KAAK,WACtDO,IAAIR,YAAUC,KAAK,KACnBO,IAAIR,YAAUC,KAAK,KACnBO,IAAIR,YAAUC,KAAK,KACnBO,IAAIR,YAAUC,KAAK,MAETQ,GAA4BT,YAAUC,KAAK,UACrDO,IAAIR,YAAUC,KAAK,KACnBO,IAAIR,YAAUC,KAAK,KACnBO,IAAIR,YAAUC,KAAK,KACnBO,IAAIR,YAAUC,KAAK,MAETS,GAA4BV,YAAUC,KAAK,YACrDO,IAAIR,YAAUC,KAAK,KACnBO,IAAIR,YAAUC,KAAK,KACnBO,IAAIR,YAAUC,KAAK,KACnBO,IAAIR,YAAUC,KAAK,MAETU,GAAsBX,YAAUC,KAAK,6CAErCW,GAAmBZ,YAAUC,KAAK,uBAElCY,GAAeb,YAAUC,KAAK,SAE9Ba,GAAuBd,YAAUC,KAAK,u6FCrD7Bc,GAkCpB,SAAsBC,EAAiBC,EAAkBC,EAAiBC,GAC9DC,OAAOC,cAAcL,IAA/BM,MACUL,GAAY,GAAKA,EAAW,KAAOG,OAAOG,UAAUN,IAA9DK,WAEKN,QAAUA,OACVC,SAAWA,OACXC,OAASA,OACTC,KAAOA,GC3CMK,oFACa,aACA,sBAFUT,aCA7BU,GAAwBC,cAETC,aAAWD,GAGtC,MAAOE,GACPN,oBCFSO,0BAOQb,EAAkBU,EAAiBT,EAAkBC,EAAiBC,8BACjFH,EAASC,EAAUC,EAAQC,oBAJD,aACF,IAIzBH,QAAUA,IACVU,QAAUD,GAAwBC,wCAOlCI,OAAA,SAAOC,UACLA,EAAMC,SAAWC,KAAKjB,UAAYe,EAAMf,SAAWiB,KAAKP,UAAYK,EAAML,WAS5EQ,YAAA,SAAYH,UACPE,KAAKjB,UAAYe,EAAMf,SAAjCM,MACUW,KAAKP,UAAYK,EAAML,SAAjCJ,MACOW,KAAKP,QAAQS,cAAgBJ,EAAML,QAAQS,wCAMpD,kBACSF,YArCgBlB,ICHdqB,YACVhG,gBAAQQ,SAAU,IAAIiF,GAAMzF,gBAAQQ,QAASD,GAAaP,gBAAQQ,SAAU,EAAG,OAAQ,eACvFR,gBAAQS,SAAU,IAAIgF,GAAMzF,gBAAQS,QAASF,GAAaP,gBAAQS,SAAU,EAAG,OAAQ,eACvFT,gBAAQU,OAAQ,IAAI+E,GAAMzF,gBAAQU,MAAOH,GAAaP,gBAAQU,OAAQ,EAAG,OAAQ,eACjFV,gBAAQW,OAAQ,IAAI8E,GAAMzF,gBAAQW,MAAOJ,GAAaP,gBAAQW,OAAQ,EAAG,OAAQ,eACjFX,gBAAQY,QAAS,IAAI6E,GAAMzF,gBAAQY,OAAQL,GAAaP,gBAAQY,QAAS,EAAG,OAAQ,eACpFZ,gBAAQa,KAAM,IAAI4E,GAAMzF,gBAAQa,IAAKN,GAAaP,gBAAQa,KAAM,GAAI,OAAQ,eAC5Eb,gBAAQc,SAAU,IAAI2E,GAAMzF,gBAAQc,QAASP,GAAaP,gBAAQc,SAAU,EAAG,OAAQ,eACvFd,gBAAQe,MAAO,IAAI0E,GAAMzF,gBAAQe,KAAMR,GAAaP,gBAAQe,MAAO,EAAG,OAAQ,eAC9Ef,gBAAQgB,MAAO,IAAIyE,GAAMzF,gBAAQgB,KAAMT,GAAaP,gBAAQgB,MAAO,GAAI,OAAQ,eAC/EhB,gBAAQiB,MAAO,IAAIwE,GAAMzF,gBAAQiB,KAAMV,GAAaP,gBAAQiB,MAAO,EAAG,OAAQ,gBAGpEgF,YACVjG,gBAAQQ,SAAU,IAAIiF,GAAMzF,gBAAQQ,QAAS4C,GAAcpD,gBAAQQ,SAAU,GAAI,QAAS,oBAC1FR,gBAAQS,SAAU,IAAIgF,GAAMzF,gBAAQS,QAAS2C,GAAcpD,gBAAQS,SAAU,GAAI,QAAS,oBAC1FT,gBAAQoB,SAAU,IAAIqE,GAAMzF,gBAAQoB,QAASgC,GAAcpD,gBAAQoB,SAAU,GAAI,QAAS,oBAC1FpB,gBAAQqB,OAAQ,IAAIoE,GAAMzF,gBAAQqB,MAAO+B,GAAcpD,gBAAQqB,OAAQ,GAAI,QAAS,oBACpFrB,gBAAQU,OAAQ,IAAI+E,GAAMzF,gBAAQU,MAAO0C,GAAcpD,gBAAQU,OAAQ,GAAI,QAAS,oBACpFV,gBAAQyB,UAAW,IAAIgE,GAAMzF,gBAAQyB,SAAU2B,GAAcpD,gBAAQyB,UAAW,GAAI,QAAS,oBAC7FzB,gBAAQ0B,kBAAmB,IAAI+D,GAC9BzF,gBAAQ0B,iBACR0B,GAAcpD,gBAAQ0B,kBACtB,GACA,OACA,oBAGD1B,gBAAQa,KAAM,IAAI4E,GAAMzF,gBAAQa,IAAKuC,GAAcpD,gBAAQa,KAAM,GAAI,OAAQ,oBAE7Eb,gBAAQY,QAAS,IAAI6E,GAAMzF,gBAAQY,OAAQwC,GAAcpD,gBAAQY,QAAS,GAAI,OAAQ,oBAEtFZ,gBAAQW,OAAQ,IAAI8E,GAAMzF,gBAAQW,MAAOyC,GAAcpD,gBAAQW,OAAQ,GAAI,OAAQ,oBAEnFX,gBAAQgB,MAAO,IAAIyE,GAAMzF,gBAAQgB,KAAMoC,GAAcpD,gBAAQgB,MAAO,GAAI,OAAQ,oBAEhFhB,gBAAQe,MAAO,IAAI0E,GAAMzF,gBAAQe,KAAMqC,GAAcpD,gBAAQe,MAAO,GAAI,OAAQ,oBAEhFf,gBAAQc,SAAU,IAAI2E,GAAMzF,gBAAQc,QAASsC,GAAcpD,gBAAQc,SAAU,GAAI,OAAQ,oBAEzFd,gBAAQiB,MAAO,IAAIwE,GAAMzF,gBAAQiB,KAAMmC,GAAcpD,gBAAQiB,MAAO,GAAI,OAAQ,oBAEhFjB,gBAAQ4B,WAAY,IAAI6D,GAAMzF,gBAAQ4B,UAAWwB,GAAcpD,gBAAQ4B,WAAY,GAAI,OAAQ,qBAGrFsE,YACVlG,gBAAQQ,SAAUyF,GAAMjG,gBAAQQ,YAChCR,gBAAQS,SAAUwF,GAAMjG,gBAAQS,YAChCT,gBAAQoB,SAAU6E,GAAMjG,gBAAQoB,YAChCpB,gBAAQqB,OAAQ4E,GAAMjG,gBAAQqB,UAC9BrB,gBAAQU,OAAQuF,GAAMjG,gBAAQU,UAC9BV,gBAAQY,QAAS,IAAI6E,GAAMzF,gBAAQY,OAAQyC,GAAgBrD,gBAAQY,QAAS,GAAI,OAAQ,kBACxFZ,gBAAQsB,gBAAiB,IAAImE,GAC5BzF,gBAAQsB,eACR+B,GAAgBrD,gBAAQsB,gBACxB,GACA,MACA,kBAEDtB,gBAAQW,OAAQ,IAAI8E,GAAMzF,gBAAQW,MAAO0C,GAAgBrD,gBAAQW,OAAQ,GAAI,SAAU,oBACvFX,gBAAQuB,eAAgB,IAAIkE,GAC3BzF,gBAAQuB,cACR8B,GAAgBrD,gBAAQuB,eACxB,GACA,SACA,oBAEDvB,gBAAQiB,MAAO,IAAIwE,GAAMzF,gBAAQiB,KAAMoC,GAAgBrD,gBAAQiB,MAAO,GAAI,QAAS,mBACnFjB,gBAAQa,KAAM,IAAI4E,GAAMzF,gBAAQa,IAAKwC,GAAgBrD,gBAAQa,KAAM,GAAI,OAAQ,kBAC/Eb,gBAAQwB,aAAc,IAAIiE,GACzBzF,gBAAQwB,YACR6B,GAAgBrD,gBAAQwB,aACxB,GACA,OACA,kBAEDxB,gBAAQyB,UAAWwE,GAAMjG,gBAAQyB,aACjCzB,gBAAQ0B,kBAAmBuE,GAAMjG,gBAAQ0B,qBACzC1B,gBAAQ2B,kBAAmB,IAAI8D,GAC9BzF,gBAAQ2B,iBACR0B,GAAgBrD,gBAAQ2B,kBACxB,GACA,OACA,oBAED3B,gBAAQ4B,WAAY,IAAI6D,GAAMzF,gBAAQ4B,UAAWyB,GAAgBrD,gBAAQ4B,WAAY,GAAI,QAAS,mBAClG5B,gBAAQ6B,mBAAoB,IAAI4D,GAC/BzF,gBAAQ6B,kBACRwB,GAAgBrD,gBAAQ6B,mBACxB,GACA,QACA,mBAED7B,gBAAQe,MAAO,IAAI0E,GAAMzF,gBAAQe,KAAMsC,GAAgBrD,gBAAQe,MAAO,GAAI,MAAO,iBACjFf,gBAAQ8B,cAAe,IAAI2D,GAC1BzF,gBAAQ8B,aACRuB,GAAgBrD,gBAAQ8B,cACxB,GACA,MACA,iBAED9B,gBAAQc,SAAU,IAAI2E,GAAMzF,gBAAQc,QAASuC,GAAgBrD,gBAAQc,SAAU,GAAI,OAAQ,kBAC3Fd,gBAAQ+B,iBAAkB,IAAI0D,GAC7BzF,gBAAQ+B,gBACRsB,GAAgBrD,gBAAQ+B,iBACxB,GACA,OACA,kBAED/B,gBAAQgB,MAAO,IAAIyE,GAAMzF,gBAAQgB,KAAMqC,GAAgBrD,gBAAQgB,MAAO,GAAI,OAAQ,wBAClFhB,gBAAQgC,cAAe,IAAIyD,GAC1BzF,gBAAQgC,aACRqB,GAAgBrD,gBAAQgC,cACxB,GACA,OACA,wBAEDhC,gBAAQiC,MAAO,IAAIwD,GAAMzF,gBAAQiC,KAAMoB,GAAgBrD,gBAAQiC,MAAO,GAAI,OAAQ,WAClFjC,gBAAQkC,MAAO,IAAIuD,GAAMzF,gBAAQkC,KAAMmB,GAAgBrD,gBAAQkC,MAAO,GAAI,QAAS,oBCtHzEiE,0BACWvB,UACpBwB,YAAMxB,EAAS,GAAI,OAAQ,oCAWfyB,QAAP,SAAezB,yBACbiB,KAAKS,OAAO1B,MAAaiB,KAAKS,OAAO1B,GAAW,IAAIuB,EAAUvB,gBAGhEc,OAAA,SAAOC,UACLA,EAAMY,UAAYZ,EAAMf,UAAYiB,KAAKjB,kCAblD,eACQ4B,EAAUN,GAAQL,KAAKjB,gBACjB4B,GAAZtB,MACOsB,SARoBpB,IAWde,UAA2C,OCX/CM,0BACW7B,UACpBwB,YAAMxB,EAAS,GAAI,MAAO,uCAWdyB,QAAP,SAAezB,yBACbiB,KAAKS,OAAO1B,MAAaiB,KAAKS,OAAO1B,GAAW,IAAI6B,EAAQ7B,gBAG9Dc,OAAA,SAAOC,UACLA,EAAMY,UAAYZ,EAAMf,UAAYiB,KAAKjB,kCAblD,eACQ4B,EAAUN,GAAQL,KAAKjB,gBACjB4B,GAAZtB,MACOsB,SARkBpB,IAWZqB,UAAyC,OCX7CC,0BACW9B,UACpBwB,YAAMxB,EAAS,GAAI,OAAQ,+BAWfyB,QAAP,SAAezB,yBACbiB,KAAKS,OAAO1B,MAAaiB,KAAKS,OAAO1B,GAAW,IAAI8B,EAAK9B,gBAG3Dc,OAAA,SAAOC,UACLA,EAAMY,UAAYZ,EAAMf,UAAYiB,KAAKjB,kCAblD,eACQ+B,EAAQT,GAAQL,KAAKjB,gBACf+B,GAAZzB,MACOyB,SARevB,IAWTsB,UAAsC,OCR1CE,0BACWhC,UACpBwB,YAAMxB,EAAS,GAAI,MAAO,gCAWdyB,QAAP,SAAezB,yBACbiB,KAAKgB,YAAYjC,MAAaiB,KAAKgB,YAAYjC,GAAW,IAAIgC,EAAMhC,gBAGtEc,OAAA,SAAOC,UACLA,EAAMY,UAAYZ,EAAMf,UAAYiB,KAAKjB,kCAblD,eACQkC,EAAQb,GAAMJ,KAAKjB,gBACbkC,GAAZ5B,MACO4B,SARgB1B,IAWVwB,eAA4C,OCdhDG,0BACWnC,UACpBwB,YAAMxB,EAAS,GAAI,MAAO,iCAWdyB,QAAP,SAAezB,yBACbiB,KAAKS,OAAO1B,MAAaiB,KAAKS,OAAO1B,GAAW,IAAImC,EAAOnC,gBAG7Dc,OAAA,SAAOC,UACLA,EAAMY,UAAYZ,EAAMf,UAAYiB,KAAKjB,kCAblD,eACQ4B,EAAUN,GAAQL,KAAKjB,gBACjB4B,GAAZtB,MACOsB,SARiBpB,IAWX2B,UAAwC,OCX5CC,0BACWpC,UACpBwB,YAAMxB,EAAS,GAAI,MAAO,kCAWdyB,QAAP,SAAezB,yBACbiB,KAAKS,OAAO1B,MAAaiB,KAAKS,OAAO1B,GAAW,IAAIoC,EAAQpC,gBAG9Dc,OAAA,SAAOC,UACLA,EAAMY,UAAYZ,EAAMf,UAAYiB,KAAKjB,kCAblD,eACQ4B,EAAUN,GAAQL,KAAKjB,gBACjB4B,GAAZtB,MACOsB,SARkBpB,IAWZ4B,UAAyC,OCX7CC,0BACWrC,UACpBwB,YAAMxB,EAAS,GAAI,KAAM,sCAWbyB,QAAP,SAAezB,yBACbiB,KAAKS,OAAO1B,MAAaiB,KAAKS,OAAO1B,GAAW,IAAIqC,EAAKrC,gBAG3Dc,OAAA,SAAOC,UACLA,EAAMY,UAAYZ,EAAMf,UAAYiB,KAAKjB,kCAblD,eACQ4B,EAAUN,GAAQL,KAAKjB,gBACjB4B,GAAZtB,MACOsB,SARepB,IAWT6B,UAAsC,OCX1CC,0BACWtC,UACpBwB,YAAMxB,EAAS,GAAI,QAAS,gCAWhByB,QAAP,SAAezB,yBACbiB,KAAKS,OAAO1B,MAAaiB,KAAKS,OAAO1B,GAAW,IAAIsC,EAAMtC,gBAG5Dc,OAAA,SAAOC,UACLA,EAAMY,UAAYZ,EAAMf,UAAYiB,KAAKjB,kCAblD,eACQ4B,EAAUN,GAAQL,KAAKjB,gBACjB4B,GAAZtB,MACOsB,SARgBpB,IAWV8B,UAAuC,OCX3CC,0BACWvC,UACpBwB,YAAMxB,EAAS,GAAI,MAAO,oCAWdyB,QAAP,SAAezB,yBACbiB,KAAKS,OAAO1B,MAAaiB,KAAKS,OAAO1B,GAAW,IAAIuC,EAAKvC,gBAG3Dc,OAAA,SAAOC,UACLA,EAAMY,UAAYZ,EAAMf,UAAYiB,KAAKjB,kCAblD,eACQ4B,EAAUN,GAAQL,KAAKjB,gBACjB4B,GAAZtB,MACOsB,SARepB,IAWT+B,UAAsC,OCX1CC,0BACWxC,UACpBwB,YAAMxB,EAAS,GAAI,OAAQ,+BAWfyB,QAAP,SAAezB,yBACbiB,KAAKS,OAAO1B,MAAaiB,KAAKS,OAAO1B,GAAW,IAAIwC,EAAKxC,gBAG3Dc,OAAA,SAAOC,UACLA,EAAMY,UAAYZ,EAAMf,UAAYiB,KAAKjB,kCAblD,eACQ4B,EAAUN,GAAQL,KAAKjB,gBACjB4B,GAAZtB,MACOsB,SARepB,IAWTgC,UAAsC,UCX1CC,0BACWzC,UACpBwB,YAAMxB,EAAS,GAAI,OAAQ,+BAWfyB,QAAP,SAAezB,yBACbiB,KAAKS,OAAO1B,MAAaiB,KAAKS,OAAO1B,GAAW,IAAIyC,EAAKzC,gBAG3Dc,OAAA,SAAOC,UACLA,EAAMY,UAAYZ,EAAMf,UAAYiB,KAAKjB,kCAblD,eACQ4B,EAAUN,GAAQL,KAAKjB,gBACjB4B,GAAZtB,MACOsB,SARepB,IAWTiC,UAAsC,gBCK3CC,GClBCC,YACVvH,gBAAQQ,SAAUoG,GAAMP,QAAQrG,gBAAQQ,YACxCR,gBAAQS,SAAUmG,GAAMP,QAAQrG,gBAAQS,YACxCT,gBAAQoB,SAAUwF,GAAMP,QAAQrG,gBAAQoB,YACxCpB,gBAAQqB,OAAQuF,GAAMP,QAAQrG,gBAAQqB,UACtCrB,gBAAQU,OAAQkG,GAAMP,QAAQrG,gBAAQU,UACtCV,gBAAQY,QAASmG,GAAOV,QAAQrG,gBAAQY,WACxCZ,gBAAQsB,gBAAiByF,GAAOV,QAAQrG,gBAAQsB,mBAChDtB,gBAAQW,OAAQuG,GAAMb,QAAQrG,gBAAQW,UACtCX,gBAAQuB,eAAgB2F,GAAMb,QAAQrG,gBAAQuB,kBAC9CvB,gBAAQiB,MAAOmG,GAAKf,QAAQrG,gBAAQiB,SACpCjB,gBAAQa,KAAM4F,GAAQJ,QAAQrG,gBAAQa,QACtCb,gBAAQwB,aAAciF,GAAQJ,QAAQrG,gBAAQwB,gBAE9CxB,gBAAQ4B,WAAYuE,GAAUE,QAAQrG,gBAAQ4B,cAC9C5B,gBAAQ6B,mBAAoBsE,GAAUE,QAAQrG,gBAAQ6B,sBACtD7B,gBAAQe,MAAOkG,GAAKZ,QAAQrG,gBAAQe,SACpCf,gBAAQ8B,cAAemF,GAAKZ,QAAQrG,gBAAQ8B,iBAC5C9B,gBAAQc,SAAUkG,GAAQX,QAAQrG,gBAAQc,YAC1Cd,gBAAQ+B,iBAAkBiF,GAAQX,QAAQrG,gBAAQ+B,oBAClD/B,gBAAQgB,MAAOmG,GAAKd,QAAQrG,gBAAQgB,SACpChB,gBAAQgC,cAAemF,GAAKd,QAAQrG,gBAAQgC,iBAC5ChC,gBAAQiC,MAAOyE,GAAKL,QAAQrG,gBAAQiC,SACpCjC,gBAAQkC,MAAOmF,GAAKhB,QAAQrG,gBAAQkC,UCzB1BsF,GAAaC,EAAKC,OAAO,sEAGzBC,GAAOF,EAAKC,OAAO,GACnBE,GAAMH,EAAKC,OAAO,GAClBG,GAAMJ,EAAKC,OAAO,GAClBI,GAAQL,EAAKC,OAAO,GACpBK,GAAON,EAAKC,OAAO,GACnBM,GAAMP,EAAKC,OAAO,IAClBO,GAAOR,EAAKC,OAAO,KACnBQ,GAAOT,EAAKC,OAAO,KACnBS,GAAQV,EAAKC,OAAO,KFHpBU,YACVrI,kBAAUsI,SAAU,CAAC,SAAU,iBAC/BtI,kBAAUuI,UAAW,CAAC,SAAU,mBAGtBC,YACVzI,kBAAU0I,OAAQ,wEAClB1I,kBAAUwI,UAAW,yEAGXG,GAAoBhB,EAAKC,OAAO,MAEjCJ,GAAAA,uBAAAA,wCAEVA,+BAGWoB,YACVpB,qBAAaqB,OAAQlB,EAAKC,OAAO,WACjCJ,qBAAasB,SAAUnB,EAAKC,OAAO,0EAGzBmB,GAAa,6DG/BpBC,GAAoB,mBAAoBC,OAMjCC,4FACyC,IAI7CjE,KAAOkE,EAAKC,YAAYnE,KACzB+D,IAAmBC,OAAOI,iEAAgCC,kCANnBC,QAclCC,+FAC4C,IAIhDvE,KAAOwE,EAAKL,YAAYnE,KACzB+D,IAAmBC,OAAOI,iEAAgCC,kCANhBC,QCZ5CG,GAAUC,EAASC,GACnBC,GAAMF,EAASG,GAErBD,GAAIE,QAAS,EAEb,IAAMC,YACH7J,iBAAS8J,YAAaP,GAAQO,cAC9B9J,iBAAS+J,eAAgBR,GAAQQ,iBACjC/J,iBAASgK,UAAWT,GAAQS,aAGzBC,YACHjK,iBAAS8J,iBACT9J,iBAAS+J,oBACT/J,iBAASgK,gBAGCE,yBAIQC,EAAsBC,YAAAA,IAAAA,EAAyB5C,EAAKC,OAAO,SACvE0C,UAAY3C,EAAKC,OAAO0C,QACxBC,YAAc5C,EAAKC,OAAO2C,KAGlBC,iBAAP,SAAwBC,MAC1BA,aAAuB9C,GAA+B,iBAAhB8C,GAAmD,iBAAhBA,EAC3E,OAAO,IAAIJ,EAASI,MAElB,cAAeA,GAAe,gBAAiBA,EAAa,OAAOA,QACjE,IAAIlB,MAAM,wDAaXmB,OAAA,kBACE,IAAIL,EAAStE,KAAKwE,YAAaxE,KAAKuE,cAGtCK,IAAA,SAAI9E,OACH+E,EAAcP,EAASG,iBAAiB3E,UAC1C8B,EAAKkD,MAAM9E,KAAKwE,YAAaK,EAAYL,aACpC,IAAIF,EAAS1C,EAAKgD,IAAI5E,KAAKuE,UAAWM,EAAYN,WAAYvE,KAAKwE,aAErE,IAAIF,EACT1C,EAAKgD,IACHhD,EAAKmD,SAAS/E,KAAKuE,UAAWM,EAAYL,aAC1C5C,EAAKmD,SAASF,EAAYN,UAAWvE,KAAKwE,cAE5C5C,EAAKmD,SAAS/E,KAAKwE,YAAaK,EAAYL,iBAIzCQ,SAAA,SAASlF,OACR+E,EAAcP,EAASG,iBAAiB3E,UAC1C8B,EAAKkD,MAAM9E,KAAKwE,YAAaK,EAAYL,aACpC,IAAIF,EAAS1C,EAAKoD,SAAShF,KAAKuE,UAAWM,EAAYN,WAAYvE,KAAKwE,aAE1E,IAAIF,EACT1C,EAAKoD,SACHpD,EAAKmD,SAAS/E,KAAKuE,UAAWM,EAAYL,aAC1C5C,EAAKmD,SAASF,EAAYN,UAAWvE,KAAKwE,cAE5C5C,EAAKmD,SAAS/E,KAAKwE,YAAaK,EAAYL,iBAIzCS,SAAA,SAASnF,OACR+E,EAAcP,EAASG,iBAAiB3E,UACvC8B,EAAKqD,SACVrD,EAAKmD,SAAS/E,KAAKuE,UAAWM,EAAYL,aAC1C5C,EAAKmD,SAASF,EAAYN,UAAWvE,KAAKwE,iBAIvCU,QAAA,SAAQpF,OACP+E,EAAcP,EAASG,iBAAiB3E,UACvC8B,EAAKkD,MACVlD,EAAKmD,SAAS/E,KAAKuE,UAAWM,EAAYL,aAC1C5C,EAAKmD,SAASF,EAAYN,UAAWvE,KAAKwE,iBAIvCW,YAAA,SAAYrF,OACX+E,EAAcP,EAASG,iBAAiB3E,UACvC8B,EAAKuD,YACVvD,EAAKmD,SAAS/E,KAAKuE,UAAWM,EAAYL,aAC1C5C,EAAKmD,SAASF,EAAYN,UAAWvE,KAAKwE,iBAIvCO,SAAA,SAASjF,OACR+E,EAAcP,EAASG,iBAAiB3E,UACvC,IAAIwE,EACT1C,EAAKmD,SAAS/E,KAAKuE,UAAWM,EAAYN,WAC1C3C,EAAKmD,SAAS/E,KAAKwE,YAAaK,EAAYL,iBAIzCY,OAAA,SAAOtF,OACN+E,EAAcP,EAASG,iBAAiB3E,UACvC,IAAIwE,EACT1C,EAAKmD,SAAS/E,KAAKuE,UAAWM,EAAYL,aAC1C5C,EAAKmD,SAAS/E,KAAKwE,YAAaK,EAAYN,eAIzCc,cAAA,SACLC,EACAC,EACAC,YADAD,IAAAA,EAAiB,CAAEE,eAAgB,cACnCD,IAAAA,EAAqBpL,iBAAS+J,eAEpBhF,OAAOG,UAAUgG,IAA3BjG,MACUiG,EAAoB,GAA9BjG,MAEAsE,GAAQ+B,IAAI,CACVC,UAAWL,EAAoB,EAC/BE,SAAUvB,GAAsBuB,SAE5BI,EAAW,IAAIjC,GAAQ3D,KAAKuE,UAAUsB,YACzCC,IAAI9F,KAAKwE,YAAYqB,YACrBE,oBAAoBT,UAChBM,EAAShC,SAASgC,EAASI,gBAAiBT,MAG9CU,QAAA,SACLD,EACAT,EACAC,mBADAD,IAAAA,EAAiB,CAAEE,eAAgB,cACnCD,IAAAA,EAAqBpL,iBAAS+J,eAEpBhF,OAAOG,UAAU0G,IAA3B3G,MACU2G,GAAiB,GAA3B3G,MAEAyE,GAAIoC,GAAKF,EACTlC,GAAIqC,GAAK9B,GAAgBmB,GAClB,IAAI1B,GAAI9D,KAAKuE,UAAUsB,YAAYC,IAAI9F,KAAKwE,YAAYqB,YAAYjC,SAASoC,EAAeT,8BA7GrG,kBACS3D,EAAKwD,OAAOpF,KAAKuE,UAAWvE,KAAKwE,oCAI1C,kBACS,IAAIF,EAAS1C,EAAKwE,UAAUpG,KAAKuE,UAAWvE,KAAKwE,aAAcxE,KAAKwE,qCA6G7E,kBACS,IAAIF,EAAStE,KAAKuE,UAAWvE,KAAKwE,sBCrJvCV,GAAMF,EAASG,GAErBD,GAAIE,QAAS,MAEAqC,0BA2BWC,EAAa/B,EAAsBC,8BACjDD,EAAWC,SACP5C,EAAK2E,gBAAgBnD,EAAKwC,SAAUjE,KAA9CtC,QACKiH,SAAWA,IACXE,aAAe5E,EAAK6E,aAAa7E,EAAKC,OAAO,IAAKD,EAAKC,OAAOyE,EAAStH,uBAtBhE0H,cAAP,SAAyCJ,EAAaK,UACpD,IAAIN,EAAeC,EAAUK,MASxBC,qBAAP,SACLN,EACA/B,EACAC,UAEO,IAAI6B,EAAeC,EAAU/B,EAAWC,+BAU1CI,IAAA,SAAI9E,GACCE,KAAKsG,SAASzG,OAAOC,EAAMwG,WAArCjH,UACMwH,cAAcjC,cAAI9E,UACjBuG,EAAeO,qBAAqB5G,KAAKsG,SAAUO,EAAMtC,UAAWsC,EAAMrC,gBAG5EQ,SAAA,SAASlF,GACJE,KAAKsG,SAASzG,OAAOC,EAAMwG,WAArCjH,UACMyH,cAAmB9B,mBAASlF,UAC3BuG,EAAeO,qBAAqB5G,KAAKsG,SAAUQ,EAAWvC,UAAWuC,EAAWtC,gBAGtFO,SAAA,SAASjF,OACRiH,cAAmBhC,mBAASjF,UAC3BuG,EAAeO,qBAAqB5G,KAAKsG,SAAUS,EAAWxC,UAAWwC,EAAWvC,gBAGtFY,OAAA,SAAOtF,OACNkH,cAAgB5B,iBAAOtF,UACtBuG,EAAeO,qBAAqB5G,KAAKsG,SAAUU,EAAQzC,UAAWyC,EAAQxC,gBAGhFa,cAAA,SACLC,EACAC,EACAC,mBAFAF,IAAAA,EAA4B,YAE5BE,IAAAA,EAAqBpL,iBAAS8J,YAEvB+C,YAAM7B,iBAAOpF,KAAKwG,cAAcnB,cAAcC,EAAmBC,EAAQC,MAG3ES,QAAA,SACLD,EACAT,EACAC,mBAFAQ,IAAAA,EAAwBhG,KAAKsG,SAAStH,mBAEtCwG,IAAAA,EAAqBpL,iBAAS8J,YAEpB8B,GAAiBhG,KAAKsG,SAAStH,UAAzCK,MACO4H,YAAM7B,iBAAOpF,KAAKwG,cAAcP,QAAQD,EAAeT,EAAQC,MAGjE0B,QAAA,SAAQ3B,mBAAAA,IAAAA,EAAiB,CAAEE,eAAgB,KAChD3B,GAAIoC,GAAKlG,KAAKsG,SAAStH,SAChB,IAAI8E,GAAI9D,KAAK4F,SAASC,YAAYC,IAAI9F,KAAKwG,aAAaX,YAAYjC,SAAS2B,6BAGtF,kBACMvF,KAAKsG,SAASvG,QAAgBC,KAC3BqG,EAAeO,qBAAqB5G,KAAKsG,SAASa,QAASnH,KAAKuE,UAAWvE,KAAKwE,oBAhFnCF,ICP3C8C,sCAmBLC,EAAqBC,EAAuB9C,EAAwBD,qBATrEgD,2BAAAA,qBAWiB,IAAhBA,EAAKC,OACLH,EAAuDE,KAAzCD,EAAyCC,KAA1B/C,EAA0B+C,KAAbhD,EAAagD,SACpD,KACCE,EAASF,EAAK,GAAGG,YAAYtC,OAAOmC,EAAK,GAAGI,cACO,CACvDJ,EAAK,GAAGI,WAAWrB,SACnBiB,EAAK,GAAGG,YAAYpB,SACpBmB,EAAOjD,YACPiD,EAAOlD,WAJP8C,OAAcC,OAAe9C,OAAaD,4BAOxCA,EAAWC,UAEZ6C,aAAeA,IACfC,cAAgBA,IAChBM,OAAS,IAAItD,GAChB1C,EAAK6E,aAAa7E,EAAKC,OAAO,IAAKD,EAAKC,OAAOwF,EAAarI,WAC5D4C,EAAK6E,aAAa7E,EAAKC,OAAO,IAAKD,EAAKC,OAAOyF,EAActI,iDAO1D2F,OAAA,kBACE,IAAIyC,EAAMpH,KAAKsH,cAAetH,KAAKqH,aAAcrH,KAAKuE,UAAWvE,KAAKwE,gBAOxEO,SAAA,SAAuCjF,GAClCE,KAAKsH,cAAczH,OAAOC,EAAMuH,eAA1ChI,UACMwI,cAAiB9C,mBAASjF,UACzB,IAAIsH,EAAMpH,KAAKqH,aAAcvH,EAAMwH,cAAeO,EAASrD,YAAaqD,EAAStD,cAOnFuD,MAAA,SAAMC,GACDA,EAAezB,SAASzG,OAAOG,KAAKqH,eAA9ChI,UACMoI,cAAe1C,mBAASgD,UACvB1B,GAAeO,qBAAqB5G,KAAKsH,cAAeG,EAAOlD,UAAWkD,EAAOjD,gBAWnFa,cAAA,SAAcC,EAA+BC,EAAiBC,mBAAhDF,IAAAA,EAA4B,GACxCtF,KAAKgI,oBAAoB3C,cAAcC,EAAmBC,EAAQC,MAGpES,QAAA,SAAQD,EAA2BT,EAAiBC,mBAA5CQ,IAAAA,EAAwB,GAC9BhG,KAAKgI,oBAAoB/B,QAAQD,EAAeT,EAAQC,yCATjE,8BACeT,mBAAS/E,KAAK4H,eA1E6CtD,ICA/D2D,GAAqB,gBAChCC,IAAAA,eACAC,IAAAA,OACAC,IAAAA,WACAC,eAAAA,kBAOyBF,EAAOlI,YAAYmI,GAAU,CAACD,EAAQC,GAAU,CAACA,EAAQD,GAC5EG,EAAaD,EAAmCpO,kBAAUwI,SAA5BxI,kBAAU0I,aACvC4F,oBACLL,EACAM,YAAU,CAAC,SAAU,CAACC,OAAK,CAAC,UAAW,WAAY,MAAQhJ,aAAgBA,qBCDhD6I,mBAAAA,IAAAA,EAAuBrO,kBAAU0I,OACvDD,GAAe4F,GDEpBI,CAAeJ,KEtBNK,GAAmB/G,EAAKC,OAAO1C,OAAOwJ,kBAE7C7G,GAAOF,EAAKC,OAAO,GACnBE,GAAMH,EAAKC,OAAO,GAClBG,GAAMJ,EAAKC,OAAO,YAMR+G,GAAKC,MACTjH,EAAKkH,mBAAmBD,EAAO/G,KAAzCzC,MAGIuC,EAAKqD,SAAS4D,EAAOF,WAChB/G,EAAKC,OAAOkH,KAAKC,MAAMD,KAAKH,KAAKhH,EAAKqH,SAASJ,UAGpDK,EACAC,MACJD,EAAIL,EACJM,EAAIvH,EAAKgD,IAAIhD,EAAKwD,OAAOyD,EAAO7G,IAAMD,IAC/BH,EAAKqD,SAASkE,EAAGD,IACtBA,EAAIC,EACJA,EAAIvH,EAAKwD,OAAOxD,EAAKgD,IAAIhD,EAAKwD,OAAOyD,EAAOM,GAAIA,GAAInH,WAE/CkH,MCdIE,yBAeQC,EAAwCC,EAAwCjB,EAAiCkB,YAAjClB,IAAAA,GAA0B,YAAOkB,IAAAA,OAA6CC,OFEnJC,EEDtBC,EAAkBL,EAAgB/C,SAASrG,YAAYqJ,EAAgBhD,UACzE,CAAC+C,EAAiBC,GAClB,CAACA,EAAiBD,gBFDMI,EEEsBpB,EAAqCnO,kBAAUuI,SAA9BvI,kBAAUsI,WFFjDiH,EAAkBvP,kBAAUsI,SACnDD,GAAyBkH,IECvBE,OAAaC,YACfC,eAAiB,IAAIjK,GACxB8J,EAAgB,GAAGpD,SAASvH,QAC5BqK,EAAK1J,WAAWgK,EAAgB,GAAGpD,SAAUoD,EAAgB,GAAGpD,SAAU+B,EAAgBkB,GAC1F,GAGAI,EACAC,QAEGE,aAAeJ,IAzBRhK,WAAP,SAAkByI,EAAeC,EAAeC,EAAiCkB,YAAjClB,IAAAA,GAA0B,YAAOkB,IAAAA,OAA6CC,OAC7HO,EAAMR,EAA0B9O,oBAAYa,WAAab,oBAAY8B,QACrE2L,WFXRnJ,EACAgL,mBAAAA,IAAAA,EAAmBtP,oBAAY8B,SAExBlB,GAAgB0O,GAAKhL,GEQHiL,CAAiB7B,EAAOpJ,QAASgL,UACjD9B,GAAmB,CACxBC,eAAAA,EACAC,OAAAA,EACAC,OAAAA,EACAC,eAAAA,gCAyBG4B,cAAA,SAAcC,UACZA,EAAMrK,OAAOG,KAAKmK,SAAWD,EAAMrK,OAAOG,KAAKoK,WAuBjDC,QAAA,SAAQH,UACHlK,KAAKiK,cAAcC,IAA7B7K,MACO6K,EAAMrK,OAAOG,KAAKmK,QAAUnK,KAAKsK,YAActK,KAAKuK,eA0BtDC,UAAA,SAAUN,UACLlK,KAAKiK,cAAcC,IAA7B7K,MACO6K,EAAMrK,OAAOG,KAAKmK,QAAUnK,KAAKyK,SAAWzK,KAAK0K,YAGnDC,gBAAA,SAAgBC,MACX5K,KAAKiK,cAAcW,EAAYtE,WAAzCjH,MACIuC,EAAKkD,MAAM9E,KAAKyK,SAAS7E,SAAU9D,KAASF,EAAKkD,MAAM9E,KAAK0K,SAAS9E,SAAU9D,UAC3E,IAAIqB,OAEN0H,EAAe7K,KAAKwK,UAAUI,EAAYtE,UAC1CwE,EAAgB9K,KAAKwK,UAAUI,EAAYtE,SAASzG,OAAOG,KAAKmK,QAAUnK,KAAKoK,OAASpK,KAAKmK,QAC7FY,EAAqBnJ,EAAKmD,SAAS6F,EAAYhF,SAAUvD,IACzDkC,EAAY3C,EAAKmD,SAASgG,EAAoBD,EAAclF,UAC5DpB,EAAc5C,EAAKgD,IAAIhD,EAAKmD,SAAS8F,EAAajF,SAAUtD,IAAQyI,GACpEC,EAAe3E,GAAeK,cAClCkE,EAAYtE,SAASzG,OAAOG,KAAKmK,QAAUnK,KAAKoK,OAASpK,KAAKmK,OAC9DvI,EAAKwD,OAAOb,EAAWC,OAErB5C,EAAKkD,MAAMkG,EAAapF,SAAU9D,UAC9B,IAAI2B,SAEL,CAACuH,EAAc,IAAI5B,EAAKyB,EAAajG,IAAIgG,GAAcE,EAAc9F,SAASgG,QAGhFC,eAAA,SAAeD,MACVhL,KAAKiK,cAAce,EAAa1E,WAA1CjH,MAEEuC,EAAKkD,MAAM9E,KAAKyK,SAAS7E,SAAU9D,KACnCF,EAAKkD,MAAM9E,KAAK0K,SAAS9E,SAAU9D,KACnCF,EAAKkH,mBAAmBkC,EAAapF,SAAU5F,KAAKwK,UAAUQ,EAAa1E,UAAUV,gBAE/E,IAAIzC,OAGN2H,EAAgB9K,KAAKwK,UAAUQ,EAAa1E,UAC5CuE,EAAe7K,KAAKwK,UAAUQ,EAAa1E,SAASzG,OAAOG,KAAKmK,QAAUnK,KAAKoK,OAASpK,KAAKmK,QAC7F5F,EAAY3C,EAAKmD,SAASnD,EAAKmD,SAAS8F,EAAajF,SAAUoF,EAAapF,UAAWtD,IACvFkC,EAAc5C,EAAKmD,SAASnD,EAAKoD,SAAS8F,EAAclF,SAAUoF,EAAapF,UAAWvD,IAC1FuI,EAAcvE,GAAeK,cACjCsE,EAAa1E,SAASzG,OAAOG,KAAKmK,QAAUnK,KAAKoK,OAASpK,KAAKmK,OAC/DvI,EAAKgD,IAAIhD,EAAKwD,OAAOb,EAAWC,GAAczC,WAEzC,CAAC6I,EAAa,IAAIxB,EAAKyB,EAAajG,IAAIgG,GAAcE,EAAc9F,SAASgG,QAG/EE,mBAAA,SACLC,EACAC,EACAC,GAEUF,EAAY7E,SAASzG,OAAOG,KAAK6J,iBAA3CxK,UAMIiM,EALExB,EAAesB,EAAa9E,SAASrG,YAAYoL,EAAa/E,UAChE,CAAC8E,EAAcC,GACf,CAACA,EAAcD,MACTtB,EAAa,GAAGxD,SAASzG,OAAOG,KAAKmK,SAAWL,EAAa,GAAGxD,SAASzG,OAAOG,KAAKoK,SAA/F/K,MAGIuC,EAAKkD,MAAMqG,EAAYvF,SAAU9D,IACnCwJ,EAAY1J,EAAKoD,SACf4D,GAAKhH,EAAKmD,SAAS+E,EAAa,GAAGlE,SAAUkE,EAAa,GAAGlE,WAC7DhD,QAEG,KACC2I,EAAU3J,EAAKwD,OAAOxD,EAAKmD,SAAS+E,EAAa,GAAGlE,SAAUuF,EAAYvF,UAAW5F,KAAKyK,SAAS7E,UACnG4F,EAAU5J,EAAKwD,OAAOxD,EAAKmD,SAAS+E,EAAa,GAAGlE,SAAUuF,EAAYvF,UAAW5F,KAAK0K,SAAS9E,UACzG0F,EAAY1J,EAAK2E,gBAAgBgF,EAASC,GAAWD,EAAUC,MAE5D5J,EAAKuD,YAAYmG,EAAWxJ,UACzB,IAAI2B,UAEL4C,GAAeK,cAAc1G,KAAK6J,eAAgByB,MAGpDG,kBAAA,SACLvB,EACAiB,EACAG,EACAI,EACAC,OAOIC,cARJF,IAAAA,GAAiB,GAGP1L,KAAKiK,cAAcC,IAA7B7K,MACU8L,EAAY7E,SAASzG,OAAOG,KAAK6J,iBAA3CxK,MACUiM,EAAUhF,SAASzG,OAAOG,KAAK6J,iBAAzCxK,MACUuC,EAAK2E,gBAAgB+E,EAAU1F,SAAUuF,EAAYvF,WAA/DvG,MAGKqM,EAEE,CACOC,GAAZtM,UACMwM,EAAcjK,EAAKC,OAAO8J,MAC3B/J,EAAKkD,MAAM+G,EAAa/J,IAY3B8J,EAAsBT,MAZY,KAC5BW,EAAQlD,GAAKhH,EAAKmD,SAAS/E,KAAKyK,SAAS7E,SAAU5F,KAAK0K,SAAS9E,WACjEmG,EAAYnD,GAAKiD,MACnBjK,EAAKuD,YAAY2G,EAAOC,GAAY,KAChCxH,EAAY3C,EAAKmD,SAASoG,EAAYvF,SAAUhE,EAAKoD,SAAS8G,EAAOC,IACrEvH,EAAc5C,EAAKgD,IAAIhD,EAAKmD,SAAS+G,EAAO5J,IAAO6J,GACnDC,EAAepK,EAAKwD,OAAOb,EAAWC,GAC5CoH,EAAsBT,EAAYvG,IAAIyB,GAAeK,cAAc1G,KAAK6J,eAAgBmC,SAExFJ,EAAsBT,QAb1BS,EAAsBT,SAoBjB9E,GAAeK,cACpBwD,EACAtI,EAAKwD,OAAOxD,EAAKmD,SAASuG,EAAU1F,SAAU5F,KAAKwK,UAAUN,GAAOtE,UAAWgG,EAAoBhG,yCA3JvG,eACQ6B,EAASzH,KAAK8J,aAAa,GAAG1E,OAAOpF,KAAK8J,aAAa,WACtD,IAAI1C,GAAMpH,KAAKmK,OAAQnK,KAAKoK,OAAQ3C,EAAOjD,YAAaiD,EAAOlD,oCAMxE,eACQkD,EAASzH,KAAK8J,aAAa,GAAG1E,OAAOpF,KAAK8J,aAAa,WACtD,IAAI1C,GAAMpH,KAAKoK,OAAQpK,KAAKmK,OAAQ1C,EAAOjD,YAAaiD,EAAOlD,gCAexE,kBACSvE,KAAKmK,OAAOpL,4BAGrB,kBACSiB,KAAK8J,aAAa,GAAGxD,6BAG9B,kBACStG,KAAK8J,aAAa,GAAGxD,+BAG9B,kBACStG,KAAK8J,aAAa,yBAG3B,kBACS9J,KAAK8J,aAAa,YC/FvBmC,GAAc,IAAI3H,GAAS1C,EAAKC,OAAO,MAM7C,SAASqK,GAAUrE,UACV,IAAIsE,GAAQtE,EAAStD,UAAWsD,EAASrD,iBAGrC2H,qFAIuB,uCAElCvH,IAAA,SAAI9E,UACKoM,eAAgBtH,cAAI9E,OAG7BkF,SAAA,SAASlF,UACAoM,eAAgBlH,mBAASlF,OAGlCiF,SAAA,SAASjF,UACAoM,eAAgBnH,mBAASjF,OAGlCsF,OAAA,SAAOtF,UACEoM,eAAgB9G,iBAAOtF,OAGzBuF,cAAA,SAAcC,EAA+BC,EAAiBC,mBAAhDF,IAAAA,EAA4B,GACxC2B,YAAMlC,mBAASkH,IAAa5G,cAAcC,EAAmBC,EAAQC,MAGvES,QAAA,SAAQD,EAA2BT,EAAiBC,mBAA5CQ,IAAAA,EAAwB,GAC9BiB,YAAMlC,mBAASkH,IAAahG,QAAQD,EAAeT,EAAQC,OA3BzClB,ICThB8H,yBAMQC,EAAeC,EAAeC,kBA0BE,KAzBvCF,EAAM7E,OAAS,GAAzBnI,UACMN,EAAkBsN,EAAM,GAAGtN,QAE/BsN,EAAMG,OAAM,SAAAC,UAAQA,EAAK1N,UAAYA,MADvCM,UAKMqN,EAAeJ,EAAMnF,QACjBkF,EAAM,GAAGpC,cAAcyC,IAAjCrN,WAC4B,IAAXkN,GAA0BF,EAAMA,EAAM7E,OAAS,GAAGyC,cAAcsC,EAAOpF,UAAxF9H,gBAEMsN,EAAgB,CAACD,QACCL,EAAMO,0BAAW,eAA1BH,OACPI,EAAeF,QACXE,EAAahN,OAAO4M,EAAKtC,SAAW0C,EAAahN,OAAO4M,EAAKrC,SAAvE/K,UACMkN,EAASM,EAAahN,OAAO4M,EAAKtC,QAAUsC,EAAKrC,OAASqC,EAAKtC,OACrEwC,EAAKG,KAAKP,QAGPF,MAAQA,OACRM,KAAOA,OACPL,MAAQA,OACRC,OAASA,mCAKhB,cACyB,OAAnBvM,KAAK+M,UAAoB,OAAO/M,KAAK+M,oBACnCC,EAAsC,QACpBhN,KAAKqM,MAAMO,0BAAW,eAA/BH,OACbO,EAAOF,KACL9M,KAAK2M,WAAQ9M,OAAO4M,EAAKtC,QACrB,IAAI/C,GAAMqF,EAAKhC,SAASnE,SAAUmG,EAAK/B,SAASpE,SAAUmG,EAAKhC,SAAS7E,SAAU6G,EAAK/B,SAAS9E,UAChG,IAAIwB,GAAMqF,EAAK/B,SAASpE,SAAUmG,EAAKhC,SAASnE,SAAUmG,EAAK/B,SAAS9E,SAAU6G,EAAKhC,SAAS7E,eAGlGqH,EAAUD,EAAOE,MAAM,GAAGC,QAAO,SAACC,EAAaC,UAAiBD,EAAYrI,SAASsI,KAAeL,EAAO,WACzGhN,KAAK+M,UAAY,IAAI3F,GAAMpH,KAAKsM,MAAOtM,KAAKuM,OAAQU,EAAQzI,YAAayI,EAAQ1I,gCAG3F,kBACSvE,KAAKqM,MAAM,GAAGtN,iBC7CzB,SAAgBuO,GACdC,EACA3C,EACAI,OAEMwC,EAAqBD,EAASzF,MAAM8C,GAEpC6C,EAAcD,EAAmBxI,SAASgG,GAAc5F,OAAOoI,UAC9D,IAAIrB,GAAQsB,EAAYlJ,UAAWkJ,EAAYjJ,aCdxD,SAAgBkJ,GAAgBC,EAAY/I,EAAQgJ,EAAiBC,MACzDD,EAAU,GAApBvO,MAEUsO,EAAMnG,QAAUoG,GAA1BvO,MAGqB,IAAjBsO,EAAMnG,cACRmG,EAAMb,KAAKlI,GACJ,SAEDkJ,EAASH,EAAMnG,SAAWoG,KAE5BE,GAAUD,EAAWF,EAAMA,EAAMnG,OAAS,GAAI5C,IAAQ,SACjDA,UAGLmJ,EAAK,EACPC,EAAKL,EAAMnG,OAENuG,EAAKC,GAAI,KACRC,EAAOF,EAAKC,IAAQ,EACtBH,EAAWF,EAAMM,GAAMrJ,IAAQ,EACjCmJ,EAAKE,EAAM,EAEXD,EAAKC,SAGTN,EAAMO,OAAOH,EAAI,EAAGnJ,GACbkJ,EAASH,EAAMQ,MAAS,cCTnBC,GACdC,EACAC,UAGUD,EAAEzD,YAAYtE,SAASzG,OAAOyO,EAAE1D,YAAYtE,WAAtDjH,MACUgP,EAAErD,aAAa1E,SAASzG,OAAOyO,EAAEtD,aAAa1E,WAAxDjH,MACIgP,EAAErD,aAAa9F,QAAQoJ,EAAEtD,cACvBqD,EAAEzD,YAAY1F,QAAQoJ,EAAE1D,aACnB,EAGLyD,EAAEzD,YAAY3F,SAASqJ,EAAE1D,cACnB,EAED,EAILyD,EAAErD,aAAa/F,SAASqJ,EAAEtD,cACrB,GAEC,WAMEuD,GACdF,EACAC,OAEME,EAASJ,GAAsBC,EAAGC,UACzB,IAAXE,EACKA,EAILH,EAAEZ,YAAYxI,SAASqJ,EAAEb,cACnB,EACCY,EAAEZ,YAAYtI,YAAYmJ,EAAEb,aAC9B,EAIFY,EAAEI,MAAM9B,KAAKnF,OAAS8G,EAAEG,MAAM9B,KAAKnF,OAc5C,IC3EYkH,MD2ECC,yBAmDTF,EACAG,EACAC,QAEKJ,MAAQA,OACRI,UAAYA,MAEX/E,EAAwC,IAAIgF,MAAML,EAAM9B,KAAKnF,WAC/DqH,IAAcxU,kBAAU0U,YAAa,CAC7BH,EAAOtI,SAASzG,OAAO4O,EAAMnC,QAAvCjN,MACAyK,EAAa,GAAK8E,EAAOzH,YACpB,IAAI6H,EAAI,EAAGA,EAAIP,EAAM9B,KAAKnF,OAAS,EAAGwH,IAAK,OACjCP,EAAMpC,MAAM2C,GACGrE,gBAAgBb,EAAakF,IACzDlF,EAAakF,EAAI,aAEdpE,YAAcvE,GAAeO,qBAAqB6H,EAAMnC,MAAOsC,EAAOrK,UAAWqK,EAAOpK,kBACxFwG,aAAe3E,GAAeO,qBACjC6H,EAAMlC,OACNzC,EAAaA,EAAatC,OAAS,GAAGjD,UACtCuF,EAAaA,EAAatC,OAAS,GAAGhD,iBAEnC,CACKoK,EAAOtI,SAASzG,OAAO4O,EAAMlC,SAAvClN,MACAyK,EAAaA,EAAatC,OAAS,GAAKoH,EAAOzH,YAC1C,IAAI6H,EAAIP,EAAM9B,KAAKnF,OAAS,EAAGwH,EAAI,EAAGA,IAAK,OACjCP,EAAMpC,MAAM2C,EAAI,GACF/D,eAAenB,EAAakF,IACvDlF,EAAakF,EAAI,aAEdpE,YAAcvE,GAAeO,qBAChC6H,EAAMnC,MACNxC,EAAa,GAAGvF,UAChBuF,EAAa,GAAGtF,kBAEbwG,aAAe3E,GAAeO,qBAAqB6H,EAAMlC,OAAQqC,EAAOrK,UAAWqK,EAAOpK,kBAE5FyK,eAAiB,IAAI7H,GACxBpH,KAAK4K,YAAYtE,SACjBtG,KAAKgL,aAAa1E,SAClBtG,KAAK4K,YAAYhF,SACjB5F,KAAKgL,aAAapF,eAEf6H,YAAcH,GAAmBmB,EAAMlB,SAAUvN,KAAK4K,YAAa5K,KAAKgL,gBA/DjEkE,QAAP,SACLT,EACAU,UAEO,IAAIR,EAAMF,EAAOU,EAAU9U,kBAAU0U,gBAQhCK,SAAP,SACLX,EACAY,UAEO,IAAIV,EAAMF,EAAOY,EAAWhV,kBAAUiV,0CAsDxCC,iBAAA,SAAiBC,MACXA,EAAkBvK,SAASnD,KAAtCzC,MACIW,KAAK6O,YAAcxU,kBAAUiV,oBACxBtP,KAAKgL,iBAENyE,EAA4B,IAAInL,GAASvC,IAC5C6C,IAAI4K,GACJ7K,SACAI,SAAS/E,KAAKgL,aAAapF,UAAUA,gBACjCS,GAAeK,cAAc1G,KAAKgL,aAAa1E,SAAUmJ,MAQ7DC,gBAAA,SAAgBF,MACVA,EAAkBvK,SAASnD,KAAtCzC,MACIW,KAAK6O,YAAcxU,kBAAU0U,mBACxB/O,KAAK4K,gBAEN+E,EAA2B,IAAIrL,GAASvC,IAAK6C,IAAI4K,GAAmBzK,SAAS/E,KAAK4K,YAAYhF,UACjGA,gBACIS,GAAeK,cAAc1G,KAAK4K,YAAYtE,SAAUqJ,MAkBrDC,iBAAP,SACLvD,EACAwD,EACAC,IAGAC,EACAC,EACAC,oBAJuD,SAArDC,cAAAA,aAAgB,QAAGC,QAAAA,aAAU,aAE/BJ,IAAAA,EAAuB,aACvBC,IAAAA,EAAyCH,YACzCI,IAAAA,EAA8D,IAEpD5D,EAAM7E,OAAS,GAAzBnI,MACU8Q,EAAU,GAApB9Q,MACUwQ,IAAqBG,GAAgBD,EAAavI,OAAS,GAArEnI,cAEM8P,EAAWa,EAAa7I,QACxBiJ,EAAWN,EAAY3I,QACpB6H,EAAI,EAAGA,EAAI3C,EAAM7E,OAAQwH,IAAK,KAC/BvC,EAAOJ,EAAM2C,OAEdvC,EAAKtC,OAAOtK,OAAOsP,EAAS7I,WAAcmG,EAAKrC,OAAOvK,OAAOsP,EAAS7I,aACvEmG,EAAKhC,SAASvF,QAAQpD,MAAS2K,EAAK/B,SAASxF,QAAQpD,SAErDuN,aAEAA,EAAa5C,EAAK9B,gBAAgBwE,MACpC,MAAOxP,MAEHA,EAAM0Q,8CAGJ1Q,KAGJ0P,EAAU/I,SAASzG,OAAOuQ,GAC5B1C,GACEuC,EACA,IAAItB,EACF,IAAIvC,aAAU2D,GAActD,IAAOoD,EAAiBvJ,SAAUwJ,GAC9DD,EACAxV,kBAAU0U,aAEZmB,EACA3B,SAEG,GAAI4B,EAAU,GAAK9D,EAAM7E,OAAS,EAAG,KACpC8I,EAAyBjE,EAAMa,MAAM,EAAG8B,GAAGuB,OAAOlE,EAAMa,MAAM8B,EAAI,EAAG3C,EAAM7E,SAGjFmH,EAAMiB,iBACJU,EACAT,EACAC,EACA,CACEI,cAAAA,EACAC,QAASA,EAAU,aAEjBJ,GAActD,IAClB4C,EACAY,YAKCA,KAOFO,oBAAA,SAAoBhB,UAClB,IAAIpI,GACTpH,KAAK4K,YAAYtE,SACjBtG,KAAKgL,aAAa1E,SAClBtG,KAAK0P,gBAAgBF,GAAmB5J,SACxC5F,KAAKuP,iBAAiBC,GAAmB5J,aAmB/B6K,kBAAP,SACLpE,EACAqE,EACAC,IAGAZ,EACAa,EACAX,oBAJuD,SAArDC,cAAAA,aAAgB,QAAGC,QAAAA,aAAU,aAE/BJ,IAAAA,EAAuB,aACvBa,IAAAA,EAA0CD,YAC1CV,IAAAA,EAA+D,IAErD5D,EAAM7E,OAAS,GAAzBnI,MACU8Q,EAAU,GAApB9Q,MACUsR,IAAsBC,GAAiBb,EAAavI,OAAS,GAAvEnI,cAEMgQ,EAAYuB,EAAczJ,QAC1B0J,EAAUH,EAAWvJ,QAClB6H,EAAI,EAAGA,EAAI3C,EAAM7E,OAAQwH,IAAK,KAC/BvC,EAAOJ,EAAM2C,OAEdvC,EAAKtC,OAAOtK,OAAOwP,EAAU/I,WAAcmG,EAAKrC,OAAOvK,OAAOwP,EAAU/I,aACzEmG,EAAKhC,SAASvF,QAAQpD,MAAS2K,EAAK/B,SAASxF,QAAQpD,SAErDqN,aAEAA,EAAY1C,EAAKxB,eAAeoE,MAClC,MAAO1P,MAEHA,EAAMmR,2CAGJnR,KAGJwP,EAAS7I,SAASzG,OAAOgR,GAC3BnD,GACEuC,EACA,IAAItB,EACF,IAAIvC,IAAOK,UAASsD,GAAeW,EAAYC,EAAkBrK,UACjEqK,EACAtW,kBAAUiV,cAEZY,EACA3B,SAEG,GAAI4B,EAAU,GAAK9D,EAAM7E,OAAS,EAAG,KACpC8I,EAAyBjE,EAAMa,MAAM,EAAG8B,GAAGuB,OAAOlE,EAAMa,MAAM8B,EAAI,EAAG3C,EAAM7E,SAGjFmH,EAAM8B,kBACJH,EACAI,EACAC,EACA,CACET,cAAAA,EACAC,QAASA,EAAU,IAEpB1D,UAASsD,GACVZ,EACAc,YAKCA,wBEvXX,IAAIc,EAAW,SAAUC,GAGvB,IAAIC,EAAK/N,OAAOK,UACZ2N,EAASD,EAAGE,eAEZC,EAA4B,mBAAXC,OAAwBA,OAAS,GAClDC,EAAiBF,EAAQG,UAAY,aACrCC,EAAsBJ,EAAQK,eAAiB,kBAC/CC,EAAoBN,EAAQO,aAAe,gBAE/C,SAASC,EAAOC,EAAKC,EAAKjJ,GAOxB,OANA3F,OAAO6O,eAAeF,EAAKC,EAAK,CAC9BjJ,MAAOA,EACPmJ,YAAY,EACZC,cAAc,EACdC,UAAU,IAELL,EAAIC,GAEb,IAEEF,EAAO,GAAI,IACX,MAAOO,GACPP,EAAS,SAASC,EAAKC,EAAKjJ,GAC1B,OAAOgJ,EAAIC,GAAOjJ,GAItB,SAASuJ,EAAKC,EAASC,EAASC,EAAMC,GAEpC,IACIC,EAAYvP,OAAOwP,QADFJ,GAAWA,EAAQ/O,qBAAqBoP,EAAYL,EAAUK,GACtCpP,WACzCqP,EAAU,IAAIC,EAAQL,GAAe,IAMzC,OAFAC,EAAUK,QAuMZ,SAA0BT,EAASE,EAAMK,GACvC,IAAIG,EAhLuB,iBAkL3B,OAAO,SAAgBC,EAAQC,GAC7B,GAjLoB,cAiLhBF,EACF,MAAM,IAAIvP,MAAM,gCAGlB,GApLoB,cAoLhBuP,EAA6B,CAC/B,GAAe,UAAXC,EACF,MAAMC,EAKR,MAoQG,CAAEpK,WA1fPW,EA0fyB0J,MAAM,GA9P/B,IAHAN,EAAQI,OAASA,EACjBJ,EAAQK,IAAMA,IAED,CACX,IAAIE,EAAWP,EAAQO,SACvB,GAAIA,EAAU,CACZ,IAAIC,EAAiBC,EAAoBF,EAAUP,GACnD,GAAIQ,EAAgB,CAClB,GAAIA,IAAmBE,EAAkB,SACzC,OAAOF,GAIX,GAAuB,SAAnBR,EAAQI,OAGVJ,EAAQW,KAAOX,EAAQY,MAAQZ,EAAQK,SAElC,GAAuB,UAAnBL,EAAQI,OAAoB,CACrC,GApNqB,mBAoNjBD,EAEF,MADAA,EAlNc,YAmNRH,EAAQK,IAGhBL,EAAQa,kBAAkBb,EAAQK,SAEN,WAAnBL,EAAQI,QACjBJ,EAAQc,OAAO,SAAUd,EAAQK,KAGnCF,EA7NkB,YA+NlB,IAAIY,EAASC,EAASvB,EAASE,EAAMK,GACrC,GAAoB,WAAhBe,EAAOlK,KAAmB,CAO5B,GAJAsJ,EAAQH,EAAQM,KAlOA,YAFK,iBAwOjBS,EAAOV,MAAQK,EACjB,SAGF,MAAO,CACLzK,MAAO8K,EAAOV,IACdC,KAAMN,EAAQM,MAGS,UAAhBS,EAAOlK,OAChBsJ,EAhPgB,YAmPhBH,EAAQI,OAAS,QACjBJ,EAAQK,IAAMU,EAAOV,OA/QPY,CAAiBxB,EAASE,EAAMK,GAE7CH,EAcT,SAASmB,EAASE,EAAIjC,EAAKoB,GACzB,IACE,MAAO,CAAExJ,KAAM,SAAUwJ,IAAKa,EAAGC,KAAKlC,EAAKoB,IAC3C,MAAOd,GACP,MAAO,CAAE1I,KAAM,QAASwJ,IAAKd,IAhBjCnB,EAAQoB,KAAOA,EAoBf,IAOIkB,EAAmB,GAMvB,SAASX,KACT,SAASqB,KACT,SAASC,KAIT,IAAIC,EAAoB,GACxBtC,EAAOsC,EAAmB5C,GAAgB,WACxC,OAAOtR,QAGT,IAAImU,EAAWjR,OAAOkR,eAClBC,EAA0BF,GAAYA,EAASA,EAASG,EAAO,MAC/DD,GACAA,IAA4BpD,GAC5BC,EAAO6C,KAAKM,EAAyB/C,KAGvC4C,EAAoBG,GAGtB,IAAIE,EAAKN,EAA2B1Q,UAClCoP,EAAUpP,UAAYL,OAAOwP,OAAOwB,GAYtC,SAASM,EAAsBjR,GAC7B,CAAC,OAAQ,QAAS,UAAUkR,SAAQ,SAASzB,GAC3CpB,EAAOrO,EAAWyP,GAAQ,SAASC,GACjC,OAAOjT,KAAK8S,QAAQE,EAAQC,SAkClC,SAASyB,EAAcjC,EAAWkC,GAgChC,IAAIC,EAgCJ5U,KAAK8S,QA9BL,SAAiBE,EAAQC,GACvB,SAAS4B,IACP,OAAO,IAAIF,GAAY,SAASG,EAASC,IAnC7C,SAASC,EAAOhC,EAAQC,EAAK6B,EAASC,GACpC,IAAIpB,EAASC,EAASnB,EAAUO,GAASP,EAAWQ,GACpD,GAAoB,UAAhBU,EAAOlK,KAEJ,CACL,IAAIhC,EAASkM,EAAOV,IAChBpK,EAAQpB,EAAOoB,MACnB,OAAIA,GACiB,iBAAVA,GACPqI,EAAO6C,KAAKlL,EAAO,WACd8L,EAAYG,QAAQjM,EAAMoM,SAASC,MAAK,SAASrM,GACtDmM,EAAO,OAAQnM,EAAOiM,EAASC,MAC9B,SAAS5C,GACV6C,EAAO,QAAS7C,EAAK2C,EAASC,MAI3BJ,EAAYG,QAAQjM,GAAOqM,MAAK,SAASC,GAI9C1N,EAAOoB,MAAQsM,EACfL,EAAQrN,MACP,SAAS9H,GAGV,OAAOqV,EAAO,QAASrV,EAAOmV,EAASC,MAvBzCA,EAAOpB,EAAOV,KAiCZ+B,CAAOhC,EAAQC,EAAK6B,EAASC,MAIjC,OAAOH,EAaLA,EAAkBA,EAAgBM,KAChCL,EAGAA,GACEA,KAkHV,SAASxB,EAAoBF,EAAUP,GACrC,IAAII,EAASG,EAAS5B,SAASqB,EAAQI,QACvC,QA3TExJ,IA2TEwJ,EAAsB,CAKxB,GAFAJ,EAAQO,SAAW,KAEI,UAAnBP,EAAQI,OAAoB,CAE9B,GAAIG,EAAS5B,SAAiB,SAG5BqB,EAAQI,OAAS,SACjBJ,EAAQK,SAtUZzJ,EAuUI6J,EAAoBF,EAAUP,GAEP,UAAnBA,EAAQI,QAGV,OAAOM,EAIXV,EAAQI,OAAS,QACjBJ,EAAQK,IAAM,IAAImC,UAChB,kDAGJ,OAAO9B,EAGT,IAAIK,EAASC,EAASZ,EAAQG,EAAS5B,SAAUqB,EAAQK,KAEzD,GAAoB,UAAhBU,EAAOlK,KAIT,OAHAmJ,EAAQI,OAAS,QACjBJ,EAAQK,IAAMU,EAAOV,IACrBL,EAAQO,SAAW,KACZG,EAGT,IAAI+B,EAAO1B,EAAOV,IAElB,OAAMoC,EAOFA,EAAKnC,MAGPN,EAAQO,EAASmC,YAAcD,EAAKxM,MAGpC+J,EAAQ2C,KAAOpC,EAASqC,QAQD,WAAnB5C,EAAQI,SACVJ,EAAQI,OAAS,OACjBJ,EAAQK,SA1XVzJ,GAoYFoJ,EAAQO,SAAW,KACZG,GANE+B,GA3BPzC,EAAQI,OAAS,QACjBJ,EAAQK,IAAM,IAAImC,UAAU,oCAC5BxC,EAAQO,SAAW,KACZG,GAoDX,SAASmC,EAAaC,GACpB,IAAIC,EAAQ,CAAEC,OAAQF,EAAK,IAEvB,KAAKA,IACPC,EAAME,SAAWH,EAAK,IAGpB,KAAKA,IACPC,EAAMG,WAAaJ,EAAK,GACxBC,EAAMI,SAAWL,EAAK,IAGxB1V,KAAKgW,WAAWlJ,KAAK6I,GAGvB,SAASM,EAAcN,GACrB,IAAIhC,EAASgC,EAAMO,YAAc,GACjCvC,EAAOlK,KAAO,gBACPkK,EAAOV,IACd0C,EAAMO,WAAavC,EAGrB,SAASd,EAAQL,GAIfxS,KAAKgW,WAAa,CAAC,CAAEJ,OAAQ,SAC7BpD,EAAYiC,QAAQgB,EAAczV,MAClCA,KAAKmW,OAAM,GA8Bb,SAAS7B,EAAO8B,GACd,GAAIA,EAAU,CACZ,IAAIC,EAAiBD,EAAS9E,GAC9B,GAAI+E,EACF,OAAOA,EAAetC,KAAKqC,GAG7B,GAA6B,mBAAlBA,EAASb,KAClB,OAAOa,EAGT,IAAKE,MAAMF,EAAS5O,QAAS,CAC3B,IAAIwH,GAAK,EAAGuG,EAAO,SAASA,IAC1B,OAASvG,EAAIoH,EAAS5O,QACpB,GAAI0J,EAAO6C,KAAKqC,EAAUpH,GAGxB,OAFAuG,EAAK1M,MAAQuN,EAASpH,GACtBuG,EAAKrC,MAAO,EACLqC,EAOX,OAHAA,EAAK1M,WA1eTW,EA2eI+L,EAAKrC,MAAO,EAELqC,GAGT,OAAOA,EAAKA,KAAOA,GAKvB,MAAO,CAAEA,KAAMgB,GAIjB,SAASA,IACP,MAAO,CAAE1N,WA1fPW,EA0fyB0J,MAAM,GA+MnC,OA7mBAc,EAAkBzQ,UAAY0Q,EAC9BrC,EAAO2C,EAAI,cAAeN,GAC1BrC,EAAOqC,EAA4B,cAAeD,GAClDA,EAAkBwC,YAAc5E,EAC9BqC,EACAvC,EACA,qBAaFV,EAAQyF,oBAAsB,SAASC,GACrC,IAAIC,EAAyB,mBAAXD,GAAyBA,EAAOrT,YAClD,QAAOsT,IACHA,IAAS3C,GAG2B,uBAAnC2C,EAAKH,aAAeG,EAAKzX,QAIhC8R,EAAQ4F,KAAO,SAASF,GAQtB,OAPIxT,OAAOI,eACTJ,OAAOI,eAAeoT,EAAQzC,IAE9ByC,EAAOG,UAAY5C,EACnBrC,EAAO8E,EAAQhF,EAAmB,sBAEpCgF,EAAOnT,UAAYL,OAAOwP,OAAO6B,GAC1BmC,GAOT1F,EAAQ8F,MAAQ,SAAS7D,GACvB,MAAO,CAAEgC,QAAShC,IAsEpBuB,EAAsBE,EAAcnR,WACpCqO,EAAO8C,EAAcnR,UAAWiO,GAAqB,WACnD,OAAOxR,QAETgR,EAAQ0D,cAAgBA,EAKxB1D,EAAQ+F,MAAQ,SAAS1E,EAASC,EAASC,EAAMC,EAAamC,QACxC,IAAhBA,IAAwBA,EAAcqC,SAE1C,IAAIC,EAAO,IAAIvC,EACbtC,EAAKC,EAASC,EAASC,EAAMC,GAC7BmC,GAGF,OAAO3D,EAAQyF,oBAAoBnE,GAC/B2E,EACAA,EAAK1B,OAAOL,MAAK,SAASzN,GACxB,OAAOA,EAAOyL,KAAOzL,EAAOoB,MAAQoO,EAAK1B,WAuKjDf,EAAsBD,GAEtB3C,EAAO2C,EAAI7C,EAAmB,aAO9BE,EAAO2C,EAAIjD,GAAgB,WACzB,OAAOtR,QAGT4R,EAAO2C,EAAI,YAAY,WACrB,MAAO,wBAkCTvD,EAAQkG,KAAO,SAASC,GACtB,IAAID,EAAO,GACX,IAAK,IAAIpF,KAAOqF,EACdD,EAAKpK,KAAKgF,GAMZ,OAJAoF,EAAKE,UAIE,SAAS7B,IACd,KAAO2B,EAAK1P,QAAQ,CAClB,IAAIsK,EAAMoF,EAAK/I,MACf,GAAI2D,KAAOqF,EAGT,OAFA5B,EAAK1M,MAAQiJ,EACbyD,EAAKrC,MAAO,EACLqC,EAQX,OADAA,EAAKrC,MAAO,EACLqC,IAsCXvE,EAAQsD,OAASA,EAMjBzB,EAAQtP,UAAY,CAClBF,YAAawP,EAEbsD,MAAO,SAASkB,GAcd,GAbArX,KAAKsX,KAAO,EACZtX,KAAKuV,KAAO,EAGZvV,KAAKuT,KAAOvT,KAAKwT,WArgBjBhK,EAsgBAxJ,KAAKkT,MAAO,EACZlT,KAAKmT,SAAW,KAEhBnT,KAAKgT,OAAS,OACdhT,KAAKiT,SA1gBLzJ,EA4gBAxJ,KAAKgW,WAAWvB,QAAQwB,IAEnBoB,EACH,IAAK,IAAInY,KAAQc,KAEQ,MAAnBd,EAAKqY,OAAO,IACZrG,EAAO6C,KAAK/T,KAAMd,KACjBoX,OAAOpX,EAAKgO,MAAM,MACrBlN,KAAKd,QAphBXsK,IA0hBFgO,KAAM,WACJxX,KAAKkT,MAAO,EAEZ,IACIuE,EADYzX,KAAKgW,WAAW,GACLE,WAC3B,GAAwB,UAApBuB,EAAWhO,KACb,MAAMgO,EAAWxE,IAGnB,OAAOjT,KAAK0X,MAGdjE,kBAAmB,SAASkE,GAC1B,GAAI3X,KAAKkT,KACP,MAAMyE,EAGR,IAAI/E,EAAU5S,KACd,SAAS4X,EAAOC,EAAKC,GAYnB,OAXAnE,EAAOlK,KAAO,QACdkK,EAAOV,IAAM0E,EACb/E,EAAQ2C,KAAOsC,EAEXC,IAGFlF,EAAQI,OAAS,OACjBJ,EAAQK,SArjBZzJ,KAwjBYsO,EAGZ,IAAK,IAAI9I,EAAIhP,KAAKgW,WAAWxO,OAAS,EAAGwH,GAAK,IAAKA,EAAG,CACpD,IAAI2G,EAAQ3V,KAAKgW,WAAWhH,GACxB2E,EAASgC,EAAMO,WAEnB,GAAqB,SAAjBP,EAAMC,OAIR,OAAOgC,EAAO,OAGhB,GAAIjC,EAAMC,QAAU5V,KAAKsX,KAAM,CAC7B,IAAIS,EAAW7G,EAAO6C,KAAK4B,EAAO,YAC9BqC,EAAa9G,EAAO6C,KAAK4B,EAAO,cAEpC,GAAIoC,GAAYC,EAAY,CAC1B,GAAIhY,KAAKsX,KAAO3B,EAAME,SACpB,OAAO+B,EAAOjC,EAAME,UAAU,GACzB,GAAI7V,KAAKsX,KAAO3B,EAAMG,WAC3B,OAAO8B,EAAOjC,EAAMG,iBAGjB,GAAIiC,GACT,GAAI/X,KAAKsX,KAAO3B,EAAME,SACpB,OAAO+B,EAAOjC,EAAME,UAAU,OAG3B,CAAA,IAAImC,EAMT,MAAM,IAAIxU,MAAM,0CALhB,GAAIxD,KAAKsX,KAAO3B,EAAMG,WACpB,OAAO8B,EAAOjC,EAAMG,gBAU9BpC,OAAQ,SAASjK,EAAMwJ,GACrB,IAAK,IAAIjE,EAAIhP,KAAKgW,WAAWxO,OAAS,EAAGwH,GAAK,IAAKA,EAAG,CACpD,IAAI2G,EAAQ3V,KAAKgW,WAAWhH,GAC5B,GAAI2G,EAAMC,QAAU5V,KAAKsX,MACrBpG,EAAO6C,KAAK4B,EAAO,eACnB3V,KAAKsX,KAAO3B,EAAMG,WAAY,CAChC,IAAImC,EAAetC,EACnB,OAIAsC,IACU,UAATxO,GACS,aAATA,IACDwO,EAAarC,QAAU3C,GACvBA,GAAOgF,EAAanC,aAGtBmC,EAAe,MAGjB,IAAItE,EAASsE,EAAeA,EAAa/B,WAAa,GAItD,OAHAvC,EAAOlK,KAAOA,EACdkK,EAAOV,IAAMA,EAETgF,GACFjY,KAAKgT,OAAS,OACdhT,KAAKuV,KAAO0C,EAAanC,WAClBxC,GAGFtT,KAAKkY,SAASvE,IAGvBuE,SAAU,SAASvE,EAAQoC,GACzB,GAAoB,UAAhBpC,EAAOlK,KACT,MAAMkK,EAAOV,IAcf,MAXoB,UAAhBU,EAAOlK,MACS,aAAhBkK,EAAOlK,KACTzJ,KAAKuV,KAAO5B,EAAOV,IACM,WAAhBU,EAAOlK,MAChBzJ,KAAK0X,KAAO1X,KAAKiT,IAAMU,EAAOV,IAC9BjT,KAAKgT,OAAS,SACdhT,KAAKuV,KAAO,OACa,WAAhB5B,EAAOlK,MAAqBsM,IACrC/V,KAAKuV,KAAOQ,GAGPzC,GAGT6E,OAAQ,SAASrC,GACf,IAAK,IAAI9G,EAAIhP,KAAKgW,WAAWxO,OAAS,EAAGwH,GAAK,IAAKA,EAAG,CACpD,IAAI2G,EAAQ3V,KAAKgW,WAAWhH,GAC5B,GAAI2G,EAAMG,aAAeA,EAGvB,OAFA9V,KAAKkY,SAASvC,EAAMO,WAAYP,EAAMI,UACtCE,EAAcN,GACPrC,IAKb8E,MAAS,SAASxC,GAChB,IAAK,IAAI5G,EAAIhP,KAAKgW,WAAWxO,OAAS,EAAGwH,GAAK,IAAKA,EAAG,CACpD,IAAI2G,EAAQ3V,KAAKgW,WAAWhH,GAC5B,GAAI2G,EAAMC,SAAWA,EAAQ,CAC3B,IAAIjC,EAASgC,EAAMO,WACnB,GAAoB,UAAhBvC,EAAOlK,KAAkB,CAC3B,IAAI4O,EAAS1E,EAAOV,IACpBgD,EAAcN,GAEhB,OAAO0C,GAMX,MAAM,IAAI7U,MAAM,0BAGlB8U,cAAe,SAASlC,EAAUd,EAAYE,GAa5C,OAZAxV,KAAKmT,SAAW,CACd5B,SAAU+C,EAAO8B,GACjBd,WAAYA,EACZE,QAASA,GAGS,SAAhBxV,KAAKgT,SAGPhT,KAAKiT,SA9rBPzJ,GAisBO8J,IAQJtC,GAOsBuH,EAAOvH,SAGtC,IACEwH,mBAAqBzH,EACrB,MAAO0H,GAWmB,iBAAfC,WACTA,WAAWF,mBAAqBzH,EAEhC4H,SAAS,IAAK,yBAAdA,CAAwC5H,mCDxuBhCrC,GAAAA,mBAAAA,wDAEVA,uBACAA,mBACAA,qDAoIUkK,GAjHCC,GAWX,SAAYC,OACJzD,MACJ0D,aAAc,IACdC,YAAa,KACVF,QAEArZ,QAAU4V,EAAK5V,aACf0K,OAASkL,EAAKlL,YACdC,OAASiL,EAAKjL,YACdX,KAAO4L,EAAK5L,UACZgB,SAAW4K,EAAK5K,cAChBC,SAAW2K,EAAK3K,cAChBuO,IAAM5D,EAAK4D,SACXF,aAAe1D,EAAK0D,kBACpBC,YAAc3D,EAAK2D,aAMfE,0BACC7D,UACV8D,gBACE1P,KAAMiF,iBAAS0K,iBACZ/D,4BAJgCwD,IAc5BQ,0BAEChE,kCAER5L,KAAMiF,iBAAS4K,QACZjE,WAEAkE,EAAIlE,EAAKkE,sBAPcV,IAanBW,0BAGCnE,kCAER5L,KAAMiF,iBAAS+K,UACZpE,WAEAqE,QAAUrE,EAAKqE,UACfC,QAAUtE,EAAKsE,4BATUd,IA6BrBe,0BAKCvE,kCAER5L,KAAMiF,iBAASmL,sBACfpP,SAAU1M,YAAUC,KAAK,GACzB0M,SAAU3M,YAAUC,KAAK,IACtBqX,WAEA/J,UAAY+J,EAAK/J,YACjBwO,UAAYzE,EAAKyE,YACjBC,YAAc1E,EAAK0E,cACnBC,MAAQ3E,EAAK2E,0BAfyBnB,KA0BnCD,GAAAA,sBAAAA,2CAEVA,iBACAA,yBElJWqB,GAAQ,CACnBC,aAAc,CACZ,CAAEhb,KAAM,OAAQuK,KAAM,UACtB,CAAEvK,KAAM,UAAWuK,KAAM,WACzB,CAAEvK,KAAM,oBAAqBuK,KAAM,YAErC0Q,WAAY,CACV,CAAEjb,KAAM,QAASuK,KAAM,WACvB,CAAEvK,KAAM,UAAWuK,KAAM,WACzB,CAAEvK,KAAM,WAAYuK,KAAM,WAC1B,CAAEvK,KAAM,WAAYuK,KAAM,WAC1B,CAAEvK,KAAM,YAAauK,KAAM,WAC3B,CAAEvK,KAAM,YAAauK,KAAM,WAC3B,CAAEvK,KAAM,YAAauK,KAAM,WAC3B,CAAEvK,KAAM,UAAWuK,KAAM,WACzB,CAAEvK,KAAM,YAAauK,KAAM,WAC3B,CAAEvK,KAAM,gBAAiBuK,KAAM,WAC/B,CAAEvK,KAAM,aAAcuK,KAAM,aAInB2Q,GAAa,CACxBF,aAAc,CACZ,CAAEhb,KAAM,OAAQuK,KAAM,UACtB,CAAEvK,KAAM,UAAWuK,KAAM,WACzB,CAAEvK,KAAM,oBAAqBuK,KAAM,YAErC4Q,0BAA2B,CACzB,CAAEnb,KAAM,UAAWuK,KAAM,UACzB,CAAEvK,KAAM,OAAQuK,KAAM,WACtB,CAAEvK,KAAM,iBAAkBuK,KAAM,WAChC,CAAEvK,KAAM,WAAYuK,KAAM,QAC1B,CAAEvK,KAAM,QAASuK,KAAM,aAGdvK,GAAO,aCEPob,GAAe,SAACC,EAAkBxb,EAAkByb,UAMxDC,GAAK,CAAER,MAAAA,GAAOS,YAAa,aAAcC,OAL3B,CACnBzb,KAAMA,GACNH,QAASA,EACT6b,kBAAmBxd,GAAyB2B,IAEUwb,QAAAA,GAAWC,IAGxDK,GAAe,SAACN,EAAkBxb,SAMtC,CAAEkb,MAAAA,GAAOS,YAAa,aAAcC,OALtB,CACnBzb,KAAMA,GACNH,QAASA,EACT6b,kBAAmBxd,GAAyB2B,IAEKwb,QAAAA,IAGxCO,GAAoB,SAACP,EAA+Bxb,SAMxD,CACLkb,MAAOG,GACPM,YAAa,4BACbC,OARmB,CACnBzb,KAAM,cACNH,QAASA,EACT6b,kBAAmB9d,GAAiBiC,IAMpCwb,QAAAA,IAISQ,GAAc,SAACC,cACZC,aAAWD,GAAW,GAAMnV,SAAS,QAI/C4U,GAAO,SAACO,EAAgBR,OACxBD,EAAUU,aAAWD,GAAW,KACjB,IAAIE,aAAWV,GACHW,WAAWZ,SACnC,CAAEa,IADDA,EACIC,IADDA,EACIC,IADDA,IAIHC,gCAA2B,WACtChB,EACAxb,EACAyc,kFAEMR,EAAYH,GAAaN,EAASxb,YAChByc,EAASC,KAAK,uBAAwB,CAAClB,EAAQmB,MAAOC,KAAKC,UAAUZ,qBACzEa,2CACb,CAAET,IADDA,EACIC,IADDA,EACIC,IADDA,yGAIHQ,gCAAmC,WAC9CvB,EACAxb,EACAyc,kFAEMR,EAAYF,GAAkBP,EAASxb,YACrByc,EAASC,KAAK,uBAAwB,CAAClB,EAAQwB,KAAMJ,KAAKC,UAAUZ,qBACxEa,2CACb,CAAET,IADDA,EACIC,IADDA,EACIC,IADDA,yGAIHU,gCAAoB,WAAOC,EAAqCld,EAAkByb,4FAMtFC,GACL,CACER,MAAOG,GACPM,YAAa,4BACbC,OATiB,CACnBzb,KAAM,cACNH,QAASA,EACT6b,kBAAmB9d,GAAiBiC,IAOlCwb,QAAS0B,GAEXzB,kHCxDY0B,GAAMnU,cACRA,EAAenC,SAASC,SAAS,IAG/C,IAKsBsW,qCAUNC,mBAAP,SACLC,EACAC,OAEMC,EAAUF,EAAMzR,YAAYtE,SAAS5F,SACrC8b,EAAWH,EAAMrR,aAAa1E,SAAS5F,SAEjC6b,GAAWC,GAAvBnd,QACY,QAASid,IAAYA,EAAQG,IAAM,GAA/Cpd,UAaIqd,EACAnV,EACAsB,EAbE8T,EAAand,GAAwB8c,EAAQM,WAC7CzN,EAAmB+M,GAAMG,EAAM3M,gBAAgB4M,EAAQO,kBACvDxN,EAAoB6M,GAAMG,EAAM9M,iBAAiB+M,EAAQO,kBACzDlQ,EAAiB0P,EAAM5N,MAAM9B,KAAKmQ,KAAI,SAAC5S,UAAiBA,EAAMzK,WAC9Dsd,EACJ,QAAST,QACCvT,KAAKC,OAAM,IAAIgU,MAAOC,UAAY,KAAQX,EAAQG,KAAK5W,SAAS,SACjEyW,EAAQS,SAASlX,SAAS,IAE/BqX,EAAmBC,QAAQb,EAAQc,sBAKjCf,EAAMxN,gBACPxU,kBAAU0U,YACTwN,GACFG,EAAaQ,EAAmB,qDAAuD,wBAEvF3V,EAAO,CAAC8H,EAAW1C,EAAMgQ,EAAII,GAC7BlU,EAAQsG,GACCqN,GACTE,EAAaQ,EAAmB,qDAAuD,wBAEvF3V,EAAO,CAAC4H,EAAUE,EAAW1C,EAAMgQ,EAAII,GACvClU,EAlDO,QAoDP6T,EAAaQ,EACT,wDACA,2BAEJ3V,EAAO,CAAC4H,EAAUE,EAAW1C,EAAMgQ,EAAII,GACvClU,EAzDO,kBA4DNxO,kBAAUiV,aACF4N,GAAX7d,MACIkd,GACFG,EAAa,wBAEbnV,EAAO,CAAC8H,EAAW1C,EAAMgQ,EAAII,GAC7BlU,EAAQsG,GACCqN,GACTE,EAAa,wBAEbnV,EAAO,CAAC8H,EAAWF,EAAUxC,EAAMgQ,EAAII,GACvClU,EAvEO,QAyEP6T,EAAa,2BAEbnV,EAAO,CAAC8H,EAAWF,EAAUxC,EAAMgQ,EAAII,GACvClU,EA5EO,aAgFN,CACL6T,WAAAA,EACAnV,KAAAA,EACAsB,MAAAA,SCtIAwU,GAAW,IAAIC,aACLC,GAAuBC,OAC/BC,EAAMJ,GAASK,IAAIF,WACbhU,IAARiU,EAAmB,OAAOA,MAExBE,EAAKH,EAAK/S,SACVmT,EAAKJ,EAAK9S,YAEZiT,EAAGE,UAAYD,EAAGC,gBACpBR,GAAS3X,IAAI8X,EAAMzf,YAAUC,KAAK,IAC3BD,YAAUC,KAAK,WAMpB8f,EAJExC,EAAIqC,EAAG/Y,IAAIgZ,GAEXG,EAAKhgB,YAAUC,KAAc,EAATwf,EAAKjE,GAI3ByE,EAAI1C,EACCtM,EAAI,EAAGA,EAAI,IAAKA,IAAK,KACtBiP,EAAKD,EAAEzf,IAAIyf,GACdlY,IAAI6X,GACJpf,IAAIyf,GACJlY,IAAI8X,GACJ9X,IAAI,MACPgY,EAAQE,GACRA,EAAID,EACDxf,IAAI+c,GACJxV,IA9Ba,KA+BblB,IAAIqZ,EAAG1f,IAAI,IACXA,IAAIyf,GACJlY,IACCiY,EACGjY,IAnCS,KAoCTzH,IAAI,GACJE,IAAIyf,GACJpZ,IAAIqZ,EAAG1f,IAAI,MAGdF,IAAIyf,GACHI,MACAC,IAAI,gBAKXd,GAAS3X,IAAI8X,EAAMQ,GACZA,WAGOI,GAAWZ,EAAkBrU,WAavCkV,EAZEL,EAAIT,GAAuBC,GAE3BO,EAAc,EAATP,EAAKjE,EAEZ+E,EAAIN,EAAEzf,IAAIyf,GACXlY,IAAIqD,EAAE5K,IAAI,IACVA,IAAIyf,GACJlY,IAAU,EAALiY,EA5DU,KA6DdzP,EAAI0P,EAAEzf,IA7DQ,KA8DfuH,IAAIiY,GACJnZ,IAAIuE,GAGHoV,EAAIP,EACChP,EAAI,EAAGA,EAAI,MAClBqP,EAAQE,IAERA,EAAIA,EACDhgB,IAAIggB,GACJ3Z,IAAI0Z,GACJxY,IACCyY,EACGhgB,IAAI,GACJqG,IAAI0J,GACJjQ,IAAI2f,KAIN3f,IAAIggB,GACJH,MACAC,IAAI,IAhBcnP,YAqBlBuP,MAsCIC,sFAAuBhb,iBAgHpBib,GAAUjB,EAAYrO,OAC9BwO,EAAKe,SAASlB,EAAK/S,SAAS5E,YAC5B+X,EAAKc,SAASlB,EAAK9S,SAAS7E,mBAC1B2X,EAAK/T,WACNiF,iBAAS0K,oBACNjQ,EAAIwU,GAAM,EAAIH,EAAKvE,YACjB2E,EAAKzU,GAAMA,EAAIgG,IAAahG,EAAIgG,QAErCT,iBAAS+K,aAENkF,EADQnB,EACY9D,QADZ8D,EAC4B7D,QACpCxQ,EAAIwU,EAAKxO,GAAY,EAAIqO,EAAKvE,YAC5B2E,EAAKe,GAAe,EAAInB,EAAKvE,KAAOlQ,KAAK6V,IAAIjB,EAAKxU,EAAGwV,GAAgBxV,OAE1EuF,iBAAS4K,WACNuF,EAAQrB,EACRQ,EAAIU,SAASnB,GAAuBsB,GAAOhZ,YAC3C0T,EAAIsF,EAAMtF,EA/PF,IAgQRpQ,EAAIwU,EAAKxO,EACTb,EAAI,EAAIiL,EAAIpQ,EAAI6U,EAAI,EAAIzE,EAAIyE,EAC5Bc,EAAOd,EAAIA,EAAIA,EAAK7U,SAEb,IAAO,EAAImF,EAAIwQ,EAAM3V,GADvBJ,KAAKH,KAAK0F,EAAIA,EAAI,EAAIiL,EAAIuF,GACO,IAAM,EAAItB,EAAKvE,YAIxD,EAqDT,SAAgB8F,GAAeC,EAA0BC,EAAaC,YAAAA,IAAAA,EAAO,UAErED,GAAOD,EAAE,GAAI,OAAO,MACpBG,EAAKC,KACLJ,EAAEE,GAAQD,EAAK,KACjBE,EAAMD,EAAO,EACNF,EAAEG,GAAOF,GAAKE,GAAO,EAC5BC,EAAY,EAAND,MACD,KACLC,EAAa,EAAPF,EACCF,EAAEI,GAAOH,GAAKG,GAAO,EAC5BD,EAAMC,EAAM,OAGPA,EAAMD,EAAM,EAAI,MAAM,KACrBE,GAAcF,EAAMC,GAAO,EAC3BE,EAAKN,EAAEK,MACTJ,IAAQK,EAAI,OAAOD,EACnBJ,EAAMK,EAAIF,EAAMC,EACfF,EAAME,SAELF,EAAMC,GAAO,EACrB,MAAOG,UACA,YAIKC,GAAaC,EAAgC5W,WAC3CW,IAAZiW,EAAuB,OAAOA,KAE9B5W,EAAQ1J,OAAOwJ,iBAAkB,OAAO5K,YAAUC,KAAK+K,KAAK2W,MAAM7W,QAEhE8W,EAAM5W,KAAKC,MAAMD,KAAK6W,IAAI/W,GAASE,KAAK8W,KAC9CC,QAAQC,OAAOJ,GAAO,GAAI,0BACpBK,EAAQL,EAAM,GACdM,EAAOlX,KAAK2W,MAAM7W,EAAQE,KAAK6V,IAAI,EAAGoB,WAChCjiB,YAAUC,KAAKiiB,GAAM1hB,IAAIR,YAAUC,KAAK,GAAG4gB,IAAIoB,gtSCpUhD7F,yBAsCTuB,EACAvM,EACAE,EACAuN,EACAsD,EACAC,EACAC,EACAC,EACAC,EACAlF,EACAC,EACAC,YALA8E,IAAAA,EAAY,cACZC,IAAAA,EAAgB,uDAChBC,IAAAA,EAAa,6EACblF,IAAAA,EAAI,YACJC,IAAAA,EAAI,aACJC,IAAAA,EAAI,SAECI,MAAQlc,GAAwBkc,QAChCvM,SAAWA,OACXE,UAAYA,OACZuN,UAAYpd,GAAwBod,QACpCsD,UAAYA,EAAUra,gBACtBsa,QAAUA,EAAQta,gBAClBua,UAAYA,OACZC,cAAgB7gB,GAAwB6gB,QACxCC,WAAaA,OACblF,EAAIA,OACJC,EAAIA,OACJC,EAAIA,IAhDJiF,cAAP,SAAqBC,UACZ,IAAIrG,EACTqG,EAAK9E,MACLrV,GAAeK,cACb,IAAI9G,GAAM4gB,EAAKzhB,QAASyhB,EAAK3P,QAAS2P,EAAKC,gBAAiBD,EAAKE,eACjEF,EAAKrR,UAEP9I,GAAeK,cACb,IAAI9G,GAAM4gB,EAAKzhB,QAASyhB,EAAKpQ,SAAUoQ,EAAKG,iBAAkBH,EAAKI,gBACnEJ,EAAKnR,WAEPmR,EAAK5D,UACL4D,EAAKN,UACLM,EAAKL,QACLK,EAAKJ,UACLI,EAAKH,cACLG,EAAKF,WACLE,EAAKpF,EACLoF,EAAKnF,EACLmF,EAAKlF,+BAoETuF,SAAA,SAASC,UACA,IAAI3G,EACTna,KAAK0b,MACL1b,KAAKmP,SACL9I,GAAeK,cAAc1G,KAAKqP,UAAU/I,SAAUwa,EAAMhZ,MAAM9H,KAAKmP,UAAUvJ,SAASC,YAC1F7F,KAAK4c,UACL5c,KAAKkgB,UACLlgB,KAAKmgB,QACLngB,KAAKogB,UACLpgB,KAAKqgB,cACLrgB,KAAKsgB,eAITS,yBAAA,SAAyBhiB,EAAkByb,OACrCwG,EAAiB,CACnBtF,MAAO1b,KAAK0b,MACZ7K,QAAS7Q,KAAKihB,eACd7Q,SAAUpQ,KAAKkhB,gBACf/R,SAAUnP,KAAKmhB,YACf9R,UAAWrP,KAAKohB,aAChBxE,UAAW5c,KAAK4c,UAChBsD,UAAWlgB,KAAKkgB,UAChBC,QAASngB,KAAKmgB,QACdC,UAAWpgB,KAAKogB,UAChBC,cAAergB,KAAKqgB,cACpBC,WAAY9X,YAAU,CAAC,SAAU,CAACxI,KAAKsgB,gBAGrBhG,GAAa0G,EAAOjiB,EAASyb,GAAzCY,IAAAA,EAAGC,IAAAA,EAAGC,IAAAA,cAETF,EAAIA,OACJC,EAAIA,OACJC,EAAIA,EAEF,CAAEF,EAAAA,EAAGC,EAAAA,EAAGC,EAAAA,MAGX+F,mDAAN,WAA4BtiB,EAAkByc,wFACxCwF,EAAiB,CACnBtF,MAAO1b,KAAK0b,MACZ7K,QAAS7Q,KAAKihB,eACd7Q,SAAUpQ,KAAKkhB,gBACf/R,SAAUnP,KAAKmhB,YACf9R,UAAWrP,KAAKohB,aAChBxE,UAAW5c,KAAK4c,UAChBsD,UAAWlgB,KAAKkgB,UAChBC,QAASngB,KAAKmgB,QACdC,UAAWpgB,KAAKogB,UAChBC,cAAergB,KAAKqgB,cACpBC,WAAY9X,YAAU,CAAC,SAAU,CAACxI,KAAKsgB,uBAGf/E,GAAyByF,EAAOjiB,EAASyc,iBAAxDH,aAAAA,EAAGC,IAAAA,OAETF,EAFGA,IAAAA,OAGHC,EAAIA,OACJC,EAAIA,oBAEF,CAAEF,EAAAA,EAAGC,EAAAA,EAAGC,EAAAA,+GAGjBT,aAAA,eACMmG,EAAiB,CACnBtF,MAAO1b,KAAK0b,MACZ7K,QAAS7Q,KAAKihB,eACd7Q,SAAUpQ,KAAKkhB,gBACf/R,SAAUnP,KAAKmhB,YACf9R,UAAWrP,KAAKohB,aAChBxE,UAAW5c,KAAK4c,UAChBsD,UAAWlgB,KAAKkgB,UAChBC,QAASngB,KAAKmgB,QACdC,UAAWpgB,KAAKogB,UAChBC,cAAergB,KAAKqgB,cACpBC,WAAY9X,YAAU,CAAC,SAAU,CAACxI,KAAKsgB,qBAGlCzF,GAAamG,EAAOhhB,KAAKjB,YAGlCgc,YAAA,eACMC,EAAYhb,KAAK6a,sBACRE,GAAYC,MAIrBS,kCAAN,6FACqB6F,EAASte,oBAA4B,CACtDgQ,OAAQ,OACRuO,KAAM5F,KAAKC,UAAU,CACnBF,MAAO1b,KAAK0b,MACZ7K,QAAS7Q,KAAKihB,eACd7Q,SAAUpQ,KAAKkhB,gBACfT,gBAAiBzgB,KAAKygB,gBACtBE,iBAAkB3gB,KAAK2gB,iBACvBD,cAAe1gB,KAAK0gB,cACpBE,eAAgB5gB,KAAK4gB,eACrBzR,SAAUnP,KAAKmhB,YACf9R,UAAWrP,KAAKohB,aAChBxE,UAAW5c,KAAK4c,UAChBsD,UAAWlgB,KAAKkgB,UAChBC,QAASngB,KAAKmgB,QACdC,UAAWpgB,KAAKogB,UAChBC,cAAergB,KAAKqgB,cACpBC,WAAYtgB,KAAKsgB,WACjBlF,EAAGpb,KAAKob,EACRC,EAAGrb,KAAKqb,EACRC,EAAGtb,KAAKsb,EACRvc,QAASiB,KAAKmP,SAAS7I,SAASvH,mDAIxByiB,0IApJd,kBACSxhB,KAAKmP,SAASvJ,SAASC,qCAGhC,kBACS7F,KAAKqP,UAAUzJ,SAASC,uCAGjC,kBACS7F,KAAKmP,SAAS7I,SAAS7G,qCAGhC,kBACSO,KAAKqP,UAAU/I,SAAS7G,qCAGjC,kBACSO,KAAKmP,SAAS7I,SAAStH,uCAGhC,kBACSgB,KAAKqP,UAAU/I,SAAStH,oCAGjC,kBACSgB,KAAKmP,SAAS7I,SAASrH,QAAU,+BAG1C,kBACSe,KAAKqP,UAAU/I,SAASrH,QAAU,wBAG3C,kBACSe,KAAKmP,SAAS7I,SAASvH,iBAuHrB0iB,yBAYTT,EACArU,EACA+U,EACAC,EACAC,EACAjF,EACAkF,YAAAA,IAAAA,GAAc,QAETb,MAAQA,OACRrU,KAAOA,EAAKmQ,IAAItd,SAChBkiB,eAAiBA,OACjBC,aAAeA,OACfC,mBAAqBpiB,GAAwBoiB,QAC7CjF,GAAKnd,GAAwBmd,QAC7B9L,QAAUmQ,EAAM7R,SAAS7I,SAAS7G,aAClC2Q,SAAW4Q,EAAM3R,UAAU/I,SAAS7G,aAEpCqiB,uBAAyBC,kBAAgBC,OAC5C,CAAC,YAAa,UAAW,UAAW,QACpC,CAAChiB,KAAK2M,KAAM3M,KAAK0hB,eAAe7b,WAAY7F,KAAK2c,GAAIkF,+BAIlDI,cAAA,SACLC,EACAC,UAQAA,EAAMC,MAAO,EACNpiB,KAAKqiB,UAAUH,EAAQC,MAGnBE,uCAAN,WACLH,EACAC,kGAQQG,EAA0DH,EAA1DG,SAAUC,EAAgDJ,EAAhDI,MAAOC,cAAyCL,EAAzCK,mBAEnBC,cAF4DN,EAAjBC,SAE7B,gBAAkB,YAEhCM,EAAW,CACf1iB,KAAKghB,MAAMtF,MACX1b,KAAKghB,MAAMG,YACXnhB,KAAKghB,MAAMI,aACXphB,KAAKghB,MAAMpE,UACX5c,KAAKghB,MAAMd,UACXlgB,KAAKghB,MAAMb,QACXngB,KAAKghB,MAAMZ,UACXpgB,KAAKghB,MAAMX,cACXrgB,KAAKghB,MAAMV,WACXtgB,KAAK2hB,aAAa9b,WAClB7F,KAAKghB,MAAM5F,EACXpb,KAAKghB,MAAM3F,EACXrb,KAAKghB,MAAM1F,GAGPqH,EAAqB,IAAIC,WAASxlB,GAAyB4C,KAAKghB,MAAMjiB,SAAU8jB,GAAKX,GAGvFY,GAAW,EAEXX,EAAMY,OAAOjD,QAAQF,IAAI8C,EAAU1iB,KAAK2M,KAAM3M,KAAK4hB,mBAAoB5hB,KAAK8hB,0CAG7Da,EAAmBK,YAAYP,GAC9CC,EACA1iB,KAAK2M,KAAK,GACV3M,KAAK2M,KAAK3M,KAAK2M,KAAKnF,OAAS,GAC7BxH,KAAK4hB,mBACL5hB,KAAK8hB,+BAEPmB,GAPAA,UAOoB1kB,IAAI,IAAIuH,IAAI,0DAE5B0c,mBACF1C,QAAQF,IAAI,6CACZqD,EAAWllB,YAAUC,KAAK,UAC1B8kB,GAAW,mDAEJ,CAAEA,UAAU,6BAIgBH,EAAmBN,UACxDK,EACA1iB,KAAK2M,KAAK,GACV3M,KAAK2M,KAAK3M,KAAK2M,KAAKnF,OAAS,GAC7BxH,KAAK4hB,mBACL5hB,KAAK8hB,uBACL,CAAEmB,SAAAA,EAAUX,SAAAA,EAAUC,MAAAA,qCAGjB,CAAEO,SAAAA,EAAUI,4ICzWDC,qCAYAC,2CAAb,WACLjb,EACAC,EACAmB,EACAiS,iGAAAA,IAAAA,EAAW6H,qBAAmBC,aAAWnb,EAAOpJ,WAEtCoJ,EAAOpJ,UAAYqJ,EAAOrJ,SAApCM,MACMI,EAAU2J,GAAK1J,WAAWyI,EAAQC,GAAQ,EAAMmB,YACjB,IAAIqZ,WAASnjB,EAAS8jB,GAAcV,IAAKrH,GAAUgI,4BAAjFC,gBAAWC,OACZC,EAAWxb,EAAOlI,YAAYmI,GAAU,CAACqb,EAAWC,GAAa,CAACA,EAAWD,qBAC5E,IAAIra,GAAK/C,GAAeK,cAAcyB,EAAQwb,EAAS,IAAKtd,GAAeK,cAAc0B,EAAQub,EAAS,mHCzB/GC,GAAoB,IAAIC,SAAMC,UADZ,mMAERC,GACZC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,OAEIhd,6BAAWid,WACXC,EAAYld,EACZkW,EAAMmG,GAAkBc,mBAAmB,eAAgB,CAACD,WAC3DhH,EAGT,IAGMkH,GAAgC,IAAId,SAAMC,UAFZ,yIAKpBc,GACdC,EACAC,EACAC,EACAT,EACAC,OAEMhd,6BAAWid,WACXC,EAAYld,SACXod,GAA8BD,mBAAmB,2BAA4B,CAACD,IAcvF,IAGMO,GAAiC,IAAInB,SAAMC,UADZ,wNAErBmB,GACdjB,EACAC,EACAiB,EACAd,EACAC,EACAC,EACAC,EACAY,OAEM5d,6BAAWid,WACXY,EAAc7d,EAAK2F,MAAM,EAAG3F,EAAKC,OAAS,GAC1Cid,EAAYW,SACXJ,GAA+BN,mBAAmB,4BAA6B,CAACD,EAAWU,ICrEpG,IAAQ3c,GAA0Dqb,SAA1Drb,UAAWuZ,GAA+C8B,SAA/C9B,gBAAiBsD,GAA8BxB,SAA9BwB,YAAaC,GAAiBzB,SAAjByB,aAIpCC,GAAa,CACxB,CAAErmB,KAAM,OAAQuK,KAAM,UACtB,CAAEvK,KAAM,UAAWuK,KAAM,UACzB,CAAEvK,KAAM,UAAWuK,KAAM,WACzB,CAAEvK,KAAM,oBAAqBuK,KAAM,YAExB+b,GAAa,CACxB,CAAEtmB,KAAM,QAASuK,KAAM,WACvB,CAAEvK,KAAM,UAAWuK,KAAM,WACzB,CAAEvK,KAAM,QAASuK,KAAM,WACvB,CAAEvK,KAAM,QAASuK,KAAM,WACvB,CAAEvK,KAAM,WAAYuK,KAAM,YAEfgc,GAAgB,CAC3B,CAAEvmB,KAAM,OAAQuK,KAAM,WACtB,CAAEvK,KAAM,WAAYuK,KAAM,WAC1B,CAAEvK,KAAM,iBAAkBuK,KAAM,WAChC,CAAEvK,KAAM,WAAYuK,KAAM,WAC1B,CAAEvK,KAAM,QAASuK,KAAM,WACvB,CAAEvK,KAAM,OAAQuK,KAAM,SACtB,CAAEvK,KAAM,gBAAiBuK,KAAM,qBAIjBic,GACdvd,EACAC,EACAud,EACAC,EACAC,EACAC,EACA/J,EACAgB,OAEMgJ,EAAwBvd,GAC5B6c,GACE,yKAIG7c,GACLuZ,GAAgBC,OACd,CAAC,QAAS,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WACvF,CACE+D,EACA5d,EACAC,EACAud,EACAC,EACAC,EACAC,EACA/J,EACAgB,cAKQiJ,GACdza,EACAC,EACAmB,EACAoP,EACAgB,OAEMkJ,EAAgBzd,GACpB6c,GAAY,8FAGP7c,GACLuZ,GAAgBC,OACd,CAAC,QAAS,UAAW,UAAW,UAAW,UAAW,WACtD,CACEiE,EACA1a,EACAC,EACAhD,GAAU8c,GAAa,CAAC,aAAc,CAAC3Y,KACvCoP,EACAgB,cAKQmJ,GACd/d,EACAC,EACAkD,EACAua,EACAC,EACA/J,EACAgB,EACAoJ,OAEMC,EAA4B5d,GAChC6c,GACE,4KAGG7c,GACLuZ,GAAgBC,OACd,CACE,QACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,QACA,UACA,WAEF,CACEoE,EACAje,EACAC,EACAkD,EACAua,EACAC,EACA/J,EACAgB,EACAoJ,EAAI/K,EACJ+K,EAAI9K,EACJ8K,EAAI7K,KAuBZ,SAAgB+K,GAAUC,EAAyBC,EAAkBC,SAC1D,CACLtnB,KAAMsnB,EACNC,QAAS,IACT1nB,QAAShB,aAAUC,KAAKuoB,GAAUG,cAClC9L,kBAAmB0L,YAGTK,GAAapf,EAAkByL,EAAgB4T,EAAkBC,EAA2BtE,OAGtGkC,EAFAqC,EAAwB,GACxBtG,EAAe,GAEfzD,EAAmB,GACnB/e,EAAe,UACXgV,OACD,eAED8T,EAAgBpB,gBADhBjB,EAAYld,GAEZiZ,EAAOuD,gBAAsBU,GAC7B1H,EAAYxV,EAAKA,EAAKC,OAAS,GAAIkf,cACnC1oB,EAAOuJ,EAAKA,EAAKC,OAAS,aAEzB,2BAEDsf,EAAgBd,gBADhBvB,EAAYld,GAEZiZ,EAAOoE,gBAAkCH,GACzC1H,EAAYxV,EAAKA,EAAKC,OAAS,GAAIkf,cACnC1oB,EAAOuJ,EAAKA,EAAKC,OAAS,aAEzB,kBAEDsf,EAAgBZ,gBADhBzB,EAAYld,GAEZiZ,EAAOyE,gBAAmCR,GAC1C1H,EAAYxV,EAAKA,EAAKC,OAAS,GAAIkf,cACnC1oB,EAAOuJ,EAAKA,EAAKC,OAAS,uBAGpB,IAAIhE,MAAM,uCAEf,CACLxF,KAAMA,EACN4oB,SAAUA,EACVC,eAAgBA,EAAeH,cAC/B3J,SAAUA,EACVwF,MAAOA,EAAMmE,cACblG,KAAMA,EACNsG,cAAeA,GCrMZ,OCMMC,YACR5sB,gBAAQa,KAAM,8EACdb,gBAAQW,OAAQ,sEAChBX,gBAAQQ,SAAU,6EAaDqsB,oFAAf,WACHjoB,EACAmL,EACA+c,EACAC,EACAC,EACAC,+FAAAA,IAAAA,EAAsB,IAEhBC,EAAiBN,GAAiBhoB,yBAE9B,IAAIyE,qDAAqDzE,8CAE5CuiB,GAAS+F,wBAAoCnd,oBAAuBid,aACrF3G,SAA8BgB,OAAOtM,MAAK,SAACuI,MACb,IAA5Bva,OAAOgU,KAAKuG,GAAKjW,aACX,IAAIhE,MAAM,wCAEbN,OAAOoR,OAAOmJ,GAAK,MAGV,QAAhB0J,oCACsB3G,UACtB8G,SADQC,+BAEe,QAAhBJ,oCACe3G,UACtB8G,SADQE,kCAGF,IAAIhkB,MAAM,mIAEdikB,EAAU,IAAIC,aAAY,IAAI9I,IAAIwI,GAAsBthB,IAAI,IAAI4hB,aAAY,IAAI9I,IAAIqI,IACpFU,EAAgB,IAAID,aAAYJ,GAAaM,aAAaH,GAC1DxO,EAAM,IAAIyO,aAAYR,EAAOrhB,YAAYC,IAAI6hB,qBAC5C5pB,YAAUC,KAAKib,EAAIhT,QAAQ,wEAUtC,SAAsB4hB,8EAAf,WACH3d,EACA+c,EACAC,0FAEMG,EAAiBN,GAAiB5sB,gBAAQW,gBACzBwmB,GAAS+F,wBAAoCnd,sCAC9DsW,SAAgBgB,OAAOtM,MAAK,SAACuI,MACC,IAA5Bva,OAAOgU,KAAKuG,GAAKjW,aACX,IAAIhE,MAAM,wCAEbia,cAEW+C,gBAChBsH,EAAsB,IAAIJ,oBADxBF,KACyCI,aAAa,IAAIF,aAAY,IAAI9I,IAAI,KAAK9Y,IAAI,IAAI4hB,aAAY,IAAI9I,IAAIqI,cAE3F3F,GADH,oGACnByG,mBACyBA,EAAcvG,sBAGvCwG,EAAc,IAAIN,oBAFW,iBACT,KAGpBzO,EAAM,IAAIyO,aAAYR,EAAOrhB,YAAYC,IAAIgiB,EAAoBhiB,IAAIkiB,sBACpEjqB,YAAUC,KAAKib,EAAIhT,QAAQ,k3lBCpFzBgiB,YACVxtB,oBAAYa,qBACVnB,gBAAQQ,SAAU,2CAClBR,gBAAQS,SAAU,MAClBT,gBAAQoB,SAAU,MAClBpB,gBAAQqB,OAAQ,MAChBrB,gBAAQU,OAAQ,MAChBV,gBAAQY,QAAS,MACjBZ,gBAAQsB,gBAAiB,MACzBtB,gBAAQW,OAAQ,6CAChBX,gBAAQuB,eAAgB,MACxBvB,gBAAQiB,MAAO,MACfjB,gBAAQa,KAAM,2CACdb,gBAAQwB,aAAc,MACtBxB,gBAAQyB,UAAW,MACnBzB,gBAAQ0B,kBAAmB,MAC3B1B,gBAAQ2B,kBAAmB,MAC3B3B,gBAAQ4B,WAAY,MACpB5B,gBAAQ6B,mBAAoB,MAC5B7B,gBAAQe,MAAO,MACff,gBAAQ8B,cAAe,MACvB9B,gBAAQc,SAAU,MAClBd,gBAAQ+B,iBAAkB,MAC1B/B,gBAAQgB,MAAO,MACfhB,gBAAQgC,cAAe,MACvBhC,gBAAQiC,MAAO,MACfjC,gBAAQkC,MAAO,MACflC,gBAAQmC,cAAe,UAEzB7B,oBAAY8B,kBACVpC,gBAAQQ,SAAU,8CAClBR,gBAAQS,SAAU,MAClBT,gBAAQoB,SAAU,MAClBpB,gBAAQqB,OAAQ,MAChBrB,gBAAQU,OAAQ,MAChBV,gBAAQY,QAAS,MACjBZ,gBAAQsB,gBAAiB,MACzBtB,gBAAQW,OAAQ,8CAChBX,gBAAQuB,eAAgB,MACxBvB,gBAAQiB,MAAO,MACfjB,gBAAQa,KAAM,8CACdb,gBAAQwB,aAAc,8CACtBxB,gBAAQyB,UAAW,MACnBzB,gBAAQ0B,kBAAmB,MAC3B1B,gBAAQ2B,kBAAmB,MAC3B3B,gBAAQ4B,WAAY,MACpB5B,gBAAQ6B,mBAAoB,MAC5B7B,gBAAQe,MAAO,MACff,gBAAQ8B,cAAe,MACvB9B,gBAAQc,SAAU,MAClBd,gBAAQ+B,iBAAkB,MAC1B/B,gBAAQgB,MAAO,MACfhB,gBAAQgC,cAAe,MACvBhC,gBAAQiC,MAAO,MACfjC,gBAAQkC,MAAO,MACflC,gBAAQmC,cAAe,WCrDpBuf,GAAoCgI,SAApChI,eAAgBqM,GAAoBrE,SAApBqE,gBASlBC,GAAcC,aAAgBC,YAYfC,yCACE,qBACK,iBACI,IAAIC,UAAOC,UAAUC,8BACtC,IAAIF,UAAO3F,SAASuF,GAAaO,GAAU1oB,KAAKwb,8BAC1C,IAAI+M,UAAO3F,SAASuF,GAAaQ,GAAW3oB,KAAKwb,+BAChD,IAAI+M,UAAO3F,SAASuF,GAAaS,GAAY5oB,KAAKwb,qCAG9DqN,kCAAN,WAAWrN,EAA2BsN,EAAsB/e,mFAAAA,IAAAA,EAAmBtP,oBAAYa,qBACjEkgB,EAAS8H,4BAA1BvkB,eAAwCA,aACxCyc,SAAWA,OACXoL,SAAW,IAAI2B,UAAO3F,SAASkG,EAAcJ,GAAUlN,QACvDuN,gBAAkB,IAAIR,UAAO3F,SHvCX,6CGuC+CgG,GAAYpN,QAC7EwN,eAAiB,IAAIT,UAAO3F,SHvCX,6CGuC8C+F,GAAWnN,QAC1EyN,cAAgBhB,GAAqBle,GAAK/J,KAAKjB,SACnB,GAA7BiB,KAAKipB,cAAczhB,8BACb,IAAIhE,kBAAkBxD,KAAKjB,uIAIzCmqB,WAAA,eACsC,IAAlBlpB,KAAKjB,SAClBiB,KAAK4mB,SAASnnB,UAAY0oB,IACH,KAAvBnoB,KAAKipB,eACLjpB,KAAK+oB,gBAAgBtpB,UAAY0oB,IACjCnoB,KAAKgpB,eAAevpB,UAAY0oB,SAGzB,IAAI3kB,MAAM,oDAIlB2lB,yCAAN,WAAkBxc,2EACRyc,EAAUppB,KAAK+oB,gBACZ/Z,EAAI,cAAGA,EAAIrC,EAAKnF,OAAS,oCACX4hB,EAAQC,QAAQ1c,EAAKqC,GAAIrC,EAAKqC,EAAI,uBACxCmZ,6CACF,UAHsBnZ,qDAM9B,4GAGXsa,iBAAA,SAAiB3O,EAA4BJ,EAAgCgP,EAAsBC,UAC7EtB,GAAgBvN,EAAQ,WAAc8O,IAAuBlP,EAASgP,KACnEC,KAGzBE,YAAA,SAAYZ,QACHlC,SAAW,IAAI2B,UAAO3F,SAASkG,EAAcJ,GAAU1oB,KAAKwb,aAG/DmO,yCAAN,WACIpiB,EACAyL,EACAiQ,EACAX,yHAEK4G,kBAEoB5G,uCAAkBtiB,KAAKwb,SAASoO,wCACnDC,EAAS5G,EAAS1kB,IADlBuiB,QAIFgJ,EAAc/rB,aAAUC,KAAK,QAEzBgC,KAAKjB,sBACJ5E,gBAAQW,gBAGRX,gBAAQQ,kBAGRR,gBAAQa,oCALW6sB,QAAoB7nB,KAAK4mB,SAASnnB,kBAAgBO,KAAK4mB,SAAS5nB,2CAAa6qB,oDAAjGC,kDAGoB9C,QAAahnB,KAAKjB,aAASiB,KAAK4mB,SAASnnB,kBAAgBO,KAAK4mB,SAAS5nB,4CAAa6qB,0CAAQ,sBAAhHC,mDAGoB9C,SAAahnB,KAAKjB,cAASiB,KAAK4mB,SAASnnB,kBAAgBO,KAAK4mB,SAAS5nB,6CAAa6qB,8CAAQ,sBAAhHC,6CAMF5H,GADA1G,EAAWxb,KAAKwb,UACEuO,sBAEL7H,EAAOxiB,4BAApBqc,SACAiO,EAAShqB,KAAKgpB,yBACAgB,EAAOC,OAAOlO,kBAG5BxB,EAAUkP,GAAoBliB,EAAMyL,EAAQhT,KAAK4mB,SAASnnB,QAASqqB,UACnEnP,EAAS8O,GAAiBO,EAAOvqB,QAASO,KAAKjB,QAAS,cACxDmrB,EAAgB,CAClBjQ,MAAO,CACHC,aAAcuP,GACdU,UAAWV,IAEf9O,OAAQA,EACRD,YAAa,YACbH,QAASA,GAEP6P,EAAY,CAACrO,EAAMJ,KAAKC,UAAUsO,cAEZF,EAAOK,mEAIF7O,EAASC,KAClC,uBACA2O,gBAEgBvO,GAJdsK,UAIE/K,IAAAA,EAAGC,IAAAA,EAAGC,IAAAA,EAERgP,EAAS,CAAEtqB,KAAKjB,QAAS8G,WAAYqkB,EAAe9O,EAAEvV,WAAYwV,EAAGC,GAEtEtb,KAAKspB,iBAAiB3O,EAAQJ,EAAS4L,EAAKpK,0BACvC,IAAIvY,MAAM,2CAUd+mB,EAAiB,CACnBvX,OAAQ,OACRwX,QAAS,gBACW,oBAEpBjJ,KAAM5F,KAAKC,UAZQ,CACnB6O,QAAS,MACTzX,qBAAsBA,EACtB0X,GAAI,EACJJ,OAAAA,KAYJxK,QAAQF,IAAI2K,aACkBjJ,GAAMthB,KAAKipB,cAAesB,kBAAlDI,mBACiBA,EAAgBnJ,mFAMlBU,EAAO0I,gBAAgB,CACpCjO,GAAIqN,EAAOvqB,QACX+gB,KAAMjG,EAAQiG,KACdyC,SAAUA,EACVX,SAAUxB,mBAJR+J,mBAMAA,EAAGC,eACTrN,EAAM,CACFiN,GAAI,EACJD,QAAS,MACThjB,OAAQ,CACJsjB,aAAc,GACdC,SAAS,EACTC,QAASJ,EAAGK,2DAKpBzN,EAAM,CACFiN,GAAI,EACJD,QAAS,MACThjB,OAAQ,CACJsjB,mBAAkBxQ,QAClByQ,SAAS,EACTC,QAAS,sCAIdxN,4HAIT0N,0CAAN,WACInH,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAtB,EACAX,qGAEK4G,sBAG8BlpB,KAAK+oB,gBAAgBM,QAAQrF,EAASC,kCAAckE,GAAjFiD,cAKFC,EADApI,GAGQllB,aAAUC,KADXotB,EHvNoB,OACF,QG6NzB7jB,gCACA+a,EACA/a,EAAOA,EAAK2F,MAAM,EAAG3F,EAAKC,OAAS,GAC5B8a,GAAYW,IACnB1b,EAAOA,EAAK2F,MAAM,EAAG3F,EAAKC,OAAS,cAGzBxH,KAAK2pB,YAAYpiB,EAAM,eAAgB8jB,EAAO/I,uKAG1DgJ,sDAAN,WACIzG,EACAC,EACAC,EACAT,EACAC,EACAtB,EACAX,mGAEK4G,sBAE8BlpB,KAAKmpB,YAAYpE,oDAAWA,EAAMvd,QAAU,wCAKrE,IAAIhE,MAAM,sCAEZyf,EACAoI,EAAQpI,GAERoI,EAAQttB,aAAUC,KH9PJ,QG+PV+mB,EAAMvd,QAAU,IAChB6jB,EAAQA,EAAMzmB,IAAI7G,aAAUC,KH7Pd,OG6PmD+mB,EAAMvd,OAAS,sBAMxFD,gCACA+a,EACA/a,EAAOA,EAAK2F,MAAM,EAAG3F,EAAKC,OAAS,GAC5B8a,GAAYW,IACnB1b,EAAOA,EAAK2F,MAAM,EAAG3F,EAAKC,OAAS,cAGzBxH,KAAK2pB,YAAYpiB,EAAM,2BAA4B8jB,EAAO/I,iKAGtEiJ,6CAAN,WACIvH,EACAC,EACAiB,EACAd,EACAC,EACAC,EACAC,EACAtB,EACAX,yHAEK4G,sBAGkBlpB,KAAK+oB,gBAAgBM,QAAQrF,EAASC,cAAvDuH,YACmCrD,mBAMjCkD,EADApI,GAGQllB,aAAUC,KHnSQ,oCGsSxB,IAAIwF,MAAM,uCAIdioB,EAAY,IAAIlD,UAAO3F,SAAS4I,EAAUE,GAAS1rB,KAAKwb,UACxDmQ,EAAelC,GAAiB+B,EAAUxrB,KAAKjB,QAAS,yBACtC0sB,EAAUxB,OAAO3F,kBAAnCsH,SACAC,EAAgB,CAClBC,MAAOxH,EACPyH,QAAS/rB,KAAKgpB,eAAevpB,QAC7BoJ,MAAOqc,EAAWwB,cAClBnE,MAAOqJ,EAAUlF,cACjB3J,SAAUwH,EAAUmC,eAElBsF,EAAe,CACjB/R,MAAO,CACHC,aAAcuP,GACdwC,OAAQxC,IAEZ9O,OAAQgR,EACRjR,YAAa,SACbH,QAASsR,GAEPK,EAAkB,CAAC5H,EAAO3I,KAAKC,UAAUoQ,cAEZhsB,KAAKwb,SAASC,KAC7C,uBACAyQ,oBAGgBrQ,WAAZT,IAAAA,EAAGC,IAAAA,EAAGC,IAAAA,EAGV/T,gCACA+a,EACA/a,EAAOA,EAAK2F,MAAM,EAAG3F,EAAKC,OAAS,GAC5B8a,GAAYW,IACnB1b,EAAOA,EAAK2F,MAAM,EAAG3F,EAAKC,OAAS,IAUvCD,EAAKuF,KAPa,CACdsO,EAAGA,EACHC,EAAGA,EACHC,EAAGA,cAMOtb,KAAK2pB,YAAYpiB,EAAM,kBAAmB8jB,EAAO/I,6M9CrV1C,2BAPG,gCAUK,gCAID,oCAII,iCAFH,0CACS,iCAFT,yBAXR,sBAiBF,iCAfU,iCADC,8BAHH,mCACK,uBAFZ,sCAUe,4DsCsSpBtD,EAAkBmN,IAClCnN,KAAOmN,GAAGrM,QAAQngB,MAAMwsB,6LvC2HS,iEkC1Ub,4BADA,wvClCqUU,yQkBxYX,6UlB0YqB,qFAEA,igBuCpO/C,SAA4B3O,EAAYnO,EAAmB+c,OACrD9f,EAAQ,EACN+f,EAAMD,EAAY5O,EAAK/S,SAAW+S,EAAK9S,SACvC4hB,EAAMF,EAAY5O,EAAK9S,SAAW8S,EAAK/S,gBACrC+S,EAAK/T,WACNiF,iBAAS0K,oBACNjQ,EAAIuV,SAAS2N,EAAIxmB,YACjB0Y,EAAIG,SAAS4N,EAAIzmB,YACvByG,EAASnD,EAAIkG,GAAc,EAAImO,EAAKvE,MAAQsF,EAAIlP,cAG7CX,iBAAS+K,aACNtQ,EAAIuV,SAAS2N,EAAIxmB,YACjB0Y,EAAIG,SAAS4N,EAAIzmB,YAGvByG,EAAQnD,GAAK,EAAIqU,EAAKvE,MAAQlQ,KAAK6V,IAAI,EAAIvP,EAAYkP,IADnC6N,EADN5O,EACwB9D,QADxB8D,EACwC7D,QADxC6D,EACwD7D,QADxD6D,EACwE9D,UACZ,cAGvEhL,iBAAS4K,WACRiT,EAASD,EAAIjuB,IAAImhB,QAAahW,EAAW6F,IACzCkd,EAAOC,GAAG,KAEZD,EAASxuB,YAAUC,KAAK,QAEpByuB,EAASrO,GAAWZ,EAAoB+O,GAC9CjgB,EAAQvD,KAAK2W,MAAMhB,SAAS+N,EAAOpuB,IAAIguB,GAAKxmB,aAAe,EAAI2X,EAAKvE,oBAQpE6G,QAAQngB,MAAM,4BASd2M,EAAQ,IAAGA,EAAQ,GAChBA,4BAwCT,SAAiCkR,EAAYkP,EAAwBxN,mBAAAA,IAAAA,EAAO,GAClE1B,EAAK/T,WACNiF,iBAAS0K,oBACNuE,EAAKe,SAASlB,EAAK/S,SAAS5E,YAC5B+X,EAAKc,SAASlB,EAAK9S,SAAS7E,YAC5BsD,EAAIwU,GAAM,EAAIH,EAAKvE,YACblQ,KAAKH,KAAKgV,EAAKzU,EAAIujB,GAAkBvjB,OAG9CuF,iBAAS+K,gBAjBlB,SAAsC+D,EAAoBsD,OAClDnD,EAAKe,SAASlB,EAAK/S,SAAS5E,YAC5B+X,EAAKc,SAASlB,EAAK9S,SAAS7E,YAC5B8Y,EAAcnB,EAAK9D,QAAU8D,EAAK7D,QAClCwS,EAAIvO,EAAKkD,EAAQnC,GAAe,EAAInB,EAAKvE,KAAOlQ,KAAK6V,IAAIjB,EAAIgB,UAC3D5V,KAAK6V,IAAIuN,EAAG,GAAKxN,EAAc,IAAMhB,IAAO,EAAIH,EAAKvE,KAa7C0T,CAA6BnP,EAAsBkP,QAG5Dhe,iBAAS4K,cACLyF,IAAe,SAAC5V,UAAc,EAAIsV,GAAUjB,EAAMrU,KAAIujB,EAAgBxN,UAG1E,uBAzMT,SAA4B1B,EAAYrO,EAAkBid,YAAAA,IAAAA,GAAY,OAC9DC,EAAMD,EAAY5O,EAAK/S,SAAW+S,EAAK9S,SACvC4hB,EAAMF,EAAY5O,EAAK9S,SAAW8S,EAAK/S,gBACrC+S,EAAK/T,WACNiF,iBAAS0K,oBACNjQ,EAAIuV,SAAS2N,EAAIxmB,mBACb6Y,SAAS4N,EAAIzmB,YACXsJ,GAAahG,GAAK,EAAIqU,EAAKvE,KAAO9J,QAE3CT,iBAAS+K,aACNtQ,EAAIuV,SAAS2N,EAAIxmB,mBACb6Y,SAAS4N,EAAIzmB,aAIN,EAAIkD,KAAK6V,IAAIzV,GAAKA,EADlBgG,GAAY,EAAIqO,EAAKvE,MADlBmT,EADN5O,EACwB9D,QADxB8D,EACwC7D,QADxC6D,EACwD7D,QADxD6D,EACwE9D,eAKnFhL,iBAAS4K,WAMNiT,EAASnO,GAAWZ,EADX6O,EAAIznB,IAAI4a,QAAahW,EAAW2F,GAAY,EAAIqO,EAAKvE,eAEzDyF,SAAS4N,EAAIjuB,IAAIkuB,GAAQ1mB,iBAIjC6I,iBAASmL,6BAQlB,SAAsC2D,EAAiCoP,EAAkBR,MAC7D,IAAtB5O,EAAKxD,MAAMxS,OAAc,OAAO,EAChCgW,EAAKxD,MAAM,GAAG6S,OLxCO,QKwCcrP,EAAKxD,MAAM8S,QAAQ,CAAED,OLxCnC,OKwCuDE,WAAY,IACxFvP,EAAKxD,MAAMwD,EAAKxD,MAAMxS,OAAS,GAAGqlB,MLxCb,QKwCkCrP,EAAKxD,MAAMlN,KAAK,CAAE+f,MLxCpD,OKwCwEE,WAAY,YAEzGC,EAAkBZ,EAAY5O,EAAKzD,YAAcyD,EAAKzD,YAAc,EACpEkT,EAAezP,EAAK1D,UACpBoT,EAAmB1P,EAAKlS,UACxB6hB,EAAY,EACZ7gB,EAAQsgB,EAELtgB,EAAQ,GAAG,IACZ0gB,EAAkB,GAAKA,GAAmBxP,EAAKxD,MAAMxS,OAAQ,MAAM,IAAIgX,OAErE4O,EAAgBrkB,KAAKH,KAAKG,KAAK6V,IAAI,OAAQpB,EAAKxD,MAAMgT,GAAiBH,QAGzEtgB,EAAS,KAET6f,EAAW,KACPiB,EAASH,GAAoBD,EAAeG,GAAkBH,EAAeG,EAG/E9gB,GAAS+gB,GACX9gB,EAAU2gB,EAAmBD,EAAe3gB,GAAUA,EAAQ4gB,EAAmBD,GACjF3gB,EAAQ,IAERC,EAAS2gB,GAAoBD,EAAeG,GAC5CH,EAAeG,EACf9gB,GAAS+gB,EACL7P,EAAKxD,MAAMgT,GAAiBH,MAAQ,GAAM,EAC5CK,GAAoB1P,EAAKxD,MAAMgT,GAAiBD,WAEhDG,GAAoB1P,EAAKxD,MAAMgT,GAAiBD,WAElDC,SAEG,KACCM,EAAQJ,GAAoBE,EAAgBH,GAE9C3gB,GAASghB,GACX/gB,EAASD,EAAQ2gB,GAAgBA,EAAe3gB,EAAQ4gB,GACxD5gB,EAAQ,IAERC,EAAU2gB,GAAoBE,EAAgBH,GAAiBA,EAAeG,EAC9EH,EAAeG,EACf9gB,GAASghB,EACL9P,EAAKxD,MAAMgT,GAAiBH,MAAQ,GAAM,EAC5CK,GAAoB1P,EAAKxD,MAAMgT,GAAiBD,WAEhDG,GAAoB1P,EAAKxD,MAAMgT,GAAiBD,WAElDC,KAIJG,GAAa5gB,GAAU,EAAIiR,EAAKvE,YAI3BkU,EAnEII,CAA6B/P,EAAmCrO,EAAUid,qDA0LvF,SAAmC/d,EAAWC,EAAWgQ,OACjDN,EAAI1P,EAAIA,EAAI,EAAID,EAAIiQ,EAC1BwB,QAAQC,OAAO/B,GAAK,+BAAgC3P,MAAKC,MAAKgQ,OACxDkP,EAAQzkB,KAAKH,KAAKoV,SACjB,GAAG1P,EAAIkf,GAAS,EAAInf,IAAKC,EAAIkf,GAAS,EAAInf,wBAVnD,SAA4BA,EAAWC,EAAWmf,UAC/B,IAAbA,EAAuBpf,IAAMC,EAC7BD,EAAI,EAAIof,EAAiB1kB,KAAKmV,IAAI7P,EAAIC,IAAM,GACzCvF,KAAKmV,IAAI7P,EAAIC,EAAI,GAAKmf,+FlCtQAC,EAAqBC,UAC9CD,aAAqB9tB,IAAS+tB,aAAqB/tB,GAC9C8tB,EAAU7tB,OAAO8tB,KACfD,aAAqB9tB,IAErB+tB,aAAqB/tB,IAGvB8tB,IAAcC,8e2CxDoB9kB,EAAa+kB,GAC9ChsB,EAAKkH,mBAAmBD,EAAO/G,KAAzCzC,MACUuC,EAAK2E,gBAAgBsC,EAAOhG,GAAqB+qB,KAA3DvuB"}